import{C as b}from"./index-5scRru-l.js";class l{constructor(t,n){this.client=new b(t,{token:n})}subscribe(t,n){this.connect();const c=this.client.getSubscription(t);if(c){c.subscribe(n);return}const i=this.client.newSubscription(t);i.on("publication",u=>n(u)),i.subscribe()}unsubscribe(t){this.client.unsubscribe(t),t.removeAllListeners()}connect(){this.client.state!=="connected"&&this.client.connect()}}const r=e=>{var t;return(t=document.querySelector(`meta[name="${e}"]`))==null?void 0:t.getAttribute("content")},o=r("centrifugo-public-url"),s=r("centrifugo-connection-token"),p=o&&s?new l(`${o}/connection/websocket`,s):void 0;export{p as i};
//# sourceMappingURL=centrifugo-BsvgsNVK.js.map
