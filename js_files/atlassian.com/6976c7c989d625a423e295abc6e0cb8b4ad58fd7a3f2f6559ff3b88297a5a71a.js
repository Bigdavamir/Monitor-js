"use strict";(self.bxpChunk=self.bxpChunk||[]).push([[9690],{65244:(e,t,n)=>{n.r(t),n.d(t,{default:()=>p});var o=n(65311),r=n(238),a=n(58537),i=n(68332),c=n(24048);function l(e){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l(e)}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,o)}return n}function u(e,t,n){return(t=g(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,g(o.key),o)}}function g(e){var t=function(e,t){if("object"!==l(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,"string");if("object"!==l(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===l(t)?t:String(t)}var p=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.componentRoot=o(t),this.params=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},n),this.storage=new a.Z,this.currentLocale=this.getCurrentLocale(),this.preferredLocale=null,this.bannerDismissStorageKey="language-selector-banner-dismissed",this.preferredLocaleStorageKey="language-selector-preferred",this.activeBannerClass="language-selector-banner--open",this.dissmissButton=this.componentRoot.find(".language-selector-banner__close-banner"),this.selectTrigger=this.componentRoot.find(".language-selector-banner__language-selector__trigger"),this.preferredLocaleLink=this.componentRoot.find(".language-selector-banner__language-suggestion > a"),this.preferredLocaleLabel=this.preferredLocaleLink.find(".preferred-locale-detected"),this.init()}var t,n;return t=e,(n=[{key:"init",value:function(){this.fixLanguageBannerForCloudSignup(),this.preselectFooterLanguage(this.currentLocale),this.languageSelectorDismissed()||this.checkLocales()}},{key:"checkLocales",value:function(){var e=this;return this.detectBrowserLocale().then((function(t){e.storage.session.set(e.preferredLocaleStorageKey,t),e.preferredLocale=t,e.isLocaleDifferent()&&(e.bindEvents(),e.preselectBannerLanguage(t))})).catch((function(){c.Segment.track({category:"bxp",action:"language-selector.api.error",label:"language-selector"})}))}},{key:"fixLanguageBannerForCloudSignup",value:function(){(window.location.pathname.includes("/try/cloud/signup")||window.location.pathname.includes("/signup/rename/site")||window.location.pathname.includes("/ondemand/signup/confirmation"))&&this.componentRoot.find(".language-selector-banner__language-selector__options__list__item a").each((function(){o(this).attr("data-locale-url",o(this).attr("data-locale-url")+window.location.search),o(this).attr("href",o(this).attr("href")+window.location.search)}))}},{key:"preselectFooterLanguage",value:function(e){var t=o("#footer"),n=t.find(".language-selector--text"),r=t.find('.language-selector option[data-lang="'.concat(e,'"]'));r.length&&(r.prop("selected",!0),n.html(r.text()))}},{key:"preselectBannerLanguage",value:function(e){var t=this.componentRoot.find('[data-lang="'.concat(this.currentLocale,'"]')),n=this.componentRoot.find('[data-lang="'.concat(e,'"]'));if(t.length&&t.parent().addClass("language-selector-banner__language-selector__options__list__item--selected"),n.length){var o=n.data("locale-url"),r=n.text();this.preferredLocaleLink.attr("href",o),this.preferredLocaleLabel.text(r),this.showBanner()}else c.Segment.track({category:"bxp",action:"language-selector.preferredLocaleNotAvailable_".concat(e),label:"language-selector"})}},{key:"languageSelectorDismissed",value:function(){return this.storage.local.get(this.bannerDismissStorageKey)}},{key:"detectBrowserLocale",value:function(){var e=this.getPreferredLocale();return this.getPreferredLocale()?Promise.resolve(e):r.Z.get("".concat(i.Z.getWacIntegrationUrl(),"/endpoint/info/lang")).then((function(e){return e.data}))}},{key:"getCurrentLocale",value:function(){return i.Z.getInternationalSubdomain()||i.Z.getInternationalSubdirectory()||"en"}},{key:"getPreferredLocale",value:function(){var e=this.storage.session.get(this.preferredLocaleStorageKey);return e?Promise.resolve(e):null}},{key:"isLocaleDifferent",value:function(){return this.currentLocale!==this.preferredLocale}},{key:"bindEvents",value:function(){var e=this;this.selectTrigger.on("click",(function(t){t.stopPropagation(),e.toggleSelect()})),this.dissmissButton.on("click",(function(){e.dismissBanner()})),o(document).on("click",(function(){e.hideSelect()}))}},{key:"hideSelect",value:function(){this.componentRoot.removeClass(this.activeBannerClass)}},{key:"toggleSelect",value:function(){this.componentRoot.toggleClass(this.activeBannerClass)}},{key:"showBanner",value:function(){this.componentRoot.show(),document.body.classList.add("has-lang-select-banner"),c.Segment.track({category:"bxp",action:"language-selector.shown.preferredLocale_".concat(this.preferredLocale,".currentLocale_").concat(this.currentLocale),label:"language-selector"})}},{key:"dismissBanner",value:function(){this.storage.local.set(this.bannerDismissStorageKey,1),this.componentRoot.hide(),document.body.classList.remove("has-lang-select-banner"),c.Segment.track({category:"bxp",action:"language-selector.dismissed.preferredLocale_".concat(this.preferredLocale,".currentLocale_").concat(this.currentLocale),label:"language-selector"})}}])&&f(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}()},58537:(e,t,n)=>{n.d(t,{Z:()=>c});var o=n(59050);function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}function a(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,(void 0,a=function(e,t){if("object"!==r(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var o=n.call(e,"string");if("object"!==r(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o.key),"symbol"===r(a)?a:String(a)),o)}var a}function i(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var c=i((function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var t=window.location.hostname.split(".").reverse().join(".")+".bxp.storage",n=window,a={},i=JSON.stringify,c=function(e){if(o.ZP.has(a,e))return a[e];if(o.ZP.contains(["localStorage","sessionStorage"],e))try{a[e]="object"===r(n[e])&&"function"==typeof n[e].setItem&&"function"==typeof n[e].getItem&&"function"==typeof n[e].clear}catch(t){a[e]=!1}return a[e]},l=function(e,o,r){var l=[t,o].join("."),s=i(r);if(c(e))try{n[e].setItem(l,s)}catch(t){a[e]=!1}else s.length<150&&this.cookie.set(l,r)},s=function(e,o){var r=[t,o].join(".");if(c(e))return JSON.parse(n[e].getItem(r));this.cookie.get(r)},u=function(e,o){var r=[t,o].join(".");c(e)?n[e].removeItem(r):this.cookie.remove(r)},f=function(e){c(e)&&n[e].clear()},g={},p={timestamp:s("localStorage","timestamp")};if(p.timestamp&&o.ZP.isNumber(p.timestamp)){var m=new Date(p.timestamp);(new Date-m)/1e3/60/60/24>30&&f("localStorage")}else p={timestamp:Date.parse(new Date)},l("localStorage","timestamp",p.timestamp);return{local:{set:function(e,t){if(!t&&0!==t&&""!==t&&!1!==t)return!1;p[e]=t,l("localStorage",e,t)},get:function(e){return p[e]=s("localStorage",e),p[e]||null},remove:function(e){delete p[e],u("localStorage",e)},clear:function(){p={},f("localStorage")}},session:{set:function(e,t){if(!t&&0!==t&&""!==t&&!1!==t)return!1;g[e]=t,l("sessionStorage",e,t)},get:function(e){return g[e]=s("sessionStorage",e),g[e]||null},remove:function(e){delete g[e],u("sessionStorage",e)},clear:function(){g={},f("sessionStorage")}},cookie:{set:function(e,t,n){var o=new Date;o.setTime(o.getTime()+24*n*60*60*1e3),n||(n=30);var r="; expires="+o.toUTCString();document.cookie=e+"="+t+r+"; path=/"},get:function(e){var t=encodeURIComponent(e).replace(/[\-\.\+\*]/g,"\\$&"),n=new RegExp("(?:(?:^|.*;)\\s*"+t+"\\s*\\=\\s*([^;]*).*$)|^.*$");return decodeURIComponent(document.cookie.replace(n,"$1"))||null},remove:function(e){this.cookie.set(e,"",-1)}},support:a}}))}}]);
//# sourceMappingURL=/static/master/10080/assets/build/js/chunks/7e83fdad761a55.js.map