!function(l){l.widget("evergreen.q4Gallery",{options:{layout:0,numberOfYears:0,viewMoreRowsCount:2,showViewMore:1,galleryItemsSelector:".evergreen-financial-gallery-item",viewMoreButtonSelector:"",summaryYearSelectSelector:""},_create:function(){var e=this,t=this.options,s=this.element;this.displayedItemCount=0,$galleryItems=l(t.galleryItemsSelector),this.maxItems=Math.min(t.numberOfYears,$galleryItems.length),0===this.maxItems&&(this.maxItems=$galleryItems.length),l(t.viewMoreButtonSelector,s).on("click",function(){e._handleViewMoreClick()}),this.displayedItemCount=0<t.showViewMore?Math.min(3,this.maxItems):this.maxItems,e._render()},_render:function(){var e=this.options;this.element;0===e.layout?this._renderDetailsLayout():1===e.layout&&this._renderSummaryLayout()},_renderDetailsLayout:function(){var e=this.options,t=this.element;$galleryItems=l(e.galleryItemsSelector);for(var s=0;s<$galleryItems.length;s++)s<this.displayedItemCount?l($galleryItems[s]).removeClass("hidden"):l($galleryItems[s]).addClass("hidden");0<e.showViewMore&&this.displayedItemCount>=this.maxItems&&l(e.viewMoreButtonSelector,t)?.addClass("hidden")},_renderSummaryLayout:function(){var t=this,e=this.options,s=this.element;$galleryItems=l(e.galleryItemsSelector),($summaryYearSelect=l(e.summaryYearSelectSelector)).on("change",function(e){t._handleYearSelectChange(e.target.value)}),setTimeout(()=>{this._handleYearSelectChange($summaryYearSelect.val())},500),l(e.viewMoreButtonSelector,s)?.addClass("hidden")},_handleYearSelectChange:function(e){var t=this.options;this.element;$galleryItems=l(t.galleryItemsSelector);for(var s=1;s<$galleryItems.length;s++)l($galleryItems[s]).attr("data-year")===e?l($galleryItems[s]).removeClass("hidden"):l($galleryItems[s]).addClass("hidden")},_handleViewMoreClick:function(){var e=this.options;this.element;this.displayedItemCount+=Math.max(3*e.viewMoreRowsCount,3),this.displayedItemCount=Math.min(this.displayedItemCount,this.maxItems),this._render()},_usePublic:function(){return"function"!=typeof GetViewType||"0"!=GetViewType()},_destroy:function(){var e=this.options;l(e.viewMoreButtonSelector,$e).off("click"),this.element.html("")},_setOption:function(){this._superApply(arguments)}})}($tudio);