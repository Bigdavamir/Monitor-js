"use strict";(self.bxpChunk=self.bxpChunk||[]).push([[8167],{24457:(t,e,n)=>{function r(t){return t.replace(/_/g,"-")}function o(t){return t&&"string"==typeof t.name&&"string"==typeof t.segmentId}function a(t){const e={n:"segment-tree-root",c:{}};return t.forEach((t=>{let n=e;t.forEach((t=>{const e=t.name,r=o(t)?t.segmentId:void 0,a=void 0!==r?r:e;n.c||(n.c={}),n.c[a]||(n.c[a]={n:e}),n=n.c[a]}))})),{r:e}}function i(t){return t.map((t=>o(t)?`${t.name}:${t.segmentId}`:t.name)).join("/")}function u(t,e){return i(t).startsWith(i(e))}function s(t,e){return"2.0.0"===e?function(t){return t.map((t=>o(t)?t.segmentId:t.name)).join("/")}(t):t.map((t=>({n:t.name,...t.segmentId?{s:t.segmentId}:{}})))}n.d(e,{Dt:()=>a,F5:()=>i,JF:()=>u,l3:()=>s,oy:()=>o,zV:()=>r})},58220:(t,e,n)=>{function r(t){return"page_load"!==t&&"transition"!==t?"1.0.1":"2.0.0"}n.d(e,{f:()=>r})},3099:(t,e,n)=>{n.r(e),n.d(e,{default:()=>m});var r=n(58240),o=n(65711),a=n(24457),i=n(58220),u=n(30690);function s(t){return!t||t.length<=1?null:t.slice(0,t.length-1)}function l(t){if(!t)return null;const e=t[t.length-1];if((0,a.oy)(e))return e.segmentId;const n=s(t);return n?l(n):null}function c(t){const e=new Map;return t.forEach((t=>{const n=l(t.labelStack);if(n){var r;const o=null!==(r=e.get(n))&&void 0!==r?r:[];e.set(n,o),o.push(t)}})),t.forEach((t=>{const n=l(s(t.labelStack));if(n){const r=e.get(n),o=null==r?void 0:r.filter((e=>!(e.startTime===t.startTime&&e.actualDuration===t.actualDuration)));o?e.set(n,o):e.delete(n)}})),[...e.values()].flatMap((t=>t))}function d(t){return[...c(null!=t?t:[]).reduce(((t,{labelStack:e,startTime:n,commitTime:r,actualDuration:o,type:a})=>{if(e&&"nested-update"!==a){const i=e.map((t=>t.name)).join("/"),u=Math.round(n),s=Math.round(r),l=t.get(i)||{labelStack:i,startTime:u,endTime:s,mountCount:0,rerenderCount:1,renderDuration:0};u<l.startTime&&(l.startTime=Math.round(u)),s>l.endTime&&(l.endTime=Math.round(s)),"mount"===a&&(l.mountCount+=1),"update"===a&&(l.rerenderCount+=1),l.renderDuration+=Math.round(o),t.set(i,l)}return t}),new Map).values()]}const m=function({lastInteractionFinish:t,reactProfilerTimings:e,lastInteractionFinishVCResult:n,postInteractionFinishVCResult:s}){var l;const c=(0,o.iE)();if(!c)throw Error("UFO Configuration not provided");const m=(0,a.zV)(t.ufoName),f=(0,o.xe)(m,t.type);if(!(0,r.Z)(f))return null;if("visible"!==(0,u.o)(t.start,t.end))return null;const v=e?Math.max(...e.map((t=>t.commitTime))):t.end,p=Math.round(v),h=Math.round(v-t.start),g=Math.round(t.start),M=Math.round(t.end),T=Math.round(t.end-t.start);let b=null,y=!1;var C;null!=n&&n["ufo:vc:state"]&&(y=!0,b=null!==(C=(null==n?void 0:n["metrics:vc"])[90])&&void 0!==C?C:null);let I={},w=null,k=[],E=!1;if(null!=s&&s["ufo:vc:state"]){E=!0,I=null==s?void 0:s["ufo:vc:ratios"],k=null==s?void 0:s["ufo:vc:updates"];const t=null==s?void 0:s["metrics:vc"];var F;"number"==typeof b&&(w=null!==(F=t[90])&&void 0!==F?F:null)}const x=k?k.filter((e=>e.time>t.end)).flatMap((({time:t,elements:e})=>Array.from(new Set(e)).map((e=>({time:t,element:e,viewportHeatmapPercentage:I[e]}))))):[];return{actionSubject:"experience",action:"measured",eventType:"operational",source:"measured",tags:["observability"],attributes:{properties:{"event:hostname":(null===(l=window.location)||void 0===l?void 0:l.hostname)||"unknown","event:product":c.product,"event:schema":"1.0.0","event:source":{name:"react-ufo/web",version:(0,i.f)(t.type)},"event:region":c.region||"unknown","experience:key":"custom.post-interaction-logs",postInteractionLog:{lastInteractionFinish:{...t,ufoName:m,start:g,end:M,ttai:T,vc90:b,vcClean:y},revisedEndTime:p,revisedTtai:h,revisedVC90:w,vcClean:E,lateMutations:x,reactProfilerTimings:d(e)}}}}}}}]);
//# sourceMappingURL=/static/master/10080/assets/build/js/chunks/db2da79b00d5ce.js.map