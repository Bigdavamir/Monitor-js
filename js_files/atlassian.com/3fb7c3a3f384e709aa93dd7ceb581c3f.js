(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c="function"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error("Cannot find module '"+i+"'");throw a.code="MODULE_NOT_FOUND",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()({1:[function(require,module,exports){
"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports.subdomainOverride=exports.fullDomainOverride=exports.domainMap=void 0;var _defineProperty2=_interopRequireDefault(require("@babel/runtime/helpers/defineProperty")),_index=require("./index"),domainMap=exports.domainMap=(0,_defineProperty2.default)((0,_defineProperty2.default)((0,_defineProperty2.default)({},_index.COMMERCIAL,(0,_defineProperty2.default)((0,_defineProperty2.default)({},_index.STAGING,"stg.atlassian.com"),_index.PRODUCTION,"atlassian.com")),_index.FEDRAMP_FEDEX,(0,_defineProperty2.default)({},_index.STAGING,"atlassian-fex.com")),_index.FEDRAMP_MODERATE,(0,_defineProperty2.default)((0,_defineProperty2.default)({},_index.STAGING,"stg.atlassian-us-gov-mod.com"),_index.PRODUCTION,"atlassian-us-gov-mod.com")),subdomainOverride=exports.subdomainOverride={},fullDomainOverride=exports.fullDomainOverride={analytics:(0,_defineProperty2.default)({},_index.COMMERCIAL,(0,_defineProperty2.default)({},_index.PRODUCTION,"analytics.atlassian.com")),confluence:(0,_defineProperty2.default)({},_index.COMMERCIAL,(0,_defineProperty2.default)({},_index.PRODUCTION,"confluence.atlassian.com")),design:(0,_defineProperty2.default)({},_index.COMMERCIAL,(0,_defineProperty2.default)({},_index.PRODUCTION,"design.atlassian.com")),extranet:(0,_defineProperty2.default)({},_index.COMMERCIAL,(0,_defineProperty2.default)({},_index.PRODUCTION,"extranet.atlassian.com")),go:(0,_defineProperty2.default)({},_index.COMMERCIAL,(0,_defineProperty2.default)({},_index.PRODUCTION,"go.atlassian.com")),my:(0,_defineProperty2.default)({},_index.COMMERCIAL,(0,_defineProperty2.default)({},_index.PRODUCTION,"my.atlassian.com")),schema:(0,_defineProperty2.default)({},_index.COMMERCIAL,(0,_defineProperty2.default)({},_index.PRODUCTION,"schema.atlassian.com")),start:(0,_defineProperty2.default)((0,_defineProperty2.default)({},_index.COMMERCIAL,(0,_defineProperty2.default)((0,_defineProperty2.default)({},_index.PRODUCTION,"start.atlassian.com"),_index.STAGING,"start.stg.atlassian.com")),_index.FEDRAMP_MODERATE,(0,_defineProperty2.default)((0,_defineProperty2.default)({},_index.PRODUCTION,"start.atlassian-us-gov-mod.com"),_index.STAGING,"start.stg.atlassian-us-gov-mod.com")),surveys:(0,_defineProperty2.default)({},_index.COMMERCIAL,(0,_defineProperty2.default)({},_index.PRODUCTION,"surveys.atlassian.com")),"wac-cdn":(0,_defineProperty2.default)({},_index.COMMERCIAL,(0,_defineProperty2.default)({},_index.PRODUCTION,"wac-cdn.atlassian.com")),integrations:(0,_defineProperty2.default)({},_index.COMMERCIAL,(0,_defineProperty2.default)({},_index.PRODUCTION,"integrations.atlassian.com")),permalink:(0,_defineProperty2.default)({},_index.COMMERCIAL,(0,_defineProperty2.default)({},_index.PRODUCTION,"permalink.atlassian.com")),id:(0,_defineProperty2.default)((0,_defineProperty2.default)({},_index.COMMERCIAL,(0,_defineProperty2.default)((0,_defineProperty2.default)((0,_defineProperty2.default)({},_index.PRODUCTION,"id.atlassian.com"),_index.STAGING,"id.stg.internal.atlassian.com"),_index.DEV,"id.dev.internal.atlassian.com")),_index.FEDRAMP_MODERATE,(0,_defineProperty2.default)((0,_defineProperty2.default)({},_index.PRODUCTION,"id.atlassian-us-gov-mod.com"),_index.STAGING,"id.stg.atlassian-us-gov-mod.com")),support:(0,_defineProperty2.default)({},_index.COMMERCIAL,(0,_defineProperty2.default)({},_index.PRODUCTION,"support.atlassian.com"))};

},{"./index":2,"@babel/runtime/helpers/defineProperty":31,"@babel/runtime/helpers/interopRequireDefault":35}],2:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.STAGING=exports.PRODUCTION=exports.FEDRAMP_MODERATE=exports.FEDRAMP_FEDEX=exports.DEV=exports.COMMERCIAL=void 0;var FEDRAMP_MODERATE=exports.FEDRAMP_MODERATE="fedramp-moderate",COMMERCIAL=exports.COMMERCIAL="commercial",FEDRAMP_FEDEX=exports.FEDRAMP_FEDEX="fedramp-fedex",STAGING=exports.STAGING="stg",PRODUCTION=exports.PRODUCTION="prod",DEV=exports.DEV="dev";

},{}],3:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.AllowedDomains=void 0;var AllowedDomains=exports.AllowedDomains=["admin","analytics","api","api.media","api-private","as","atl-global","atlaskit","auth","automation","cassi.internal","cc-import-sources.services","confluence","confluence-chats-integr.services","confluence-cloud-bamboo.internal","confluence-questions.services","data-portal.internal","design","developer","extranet","go","id","id-mail-assets","integrations","ja","jira","jsd-widget","jsd-widget-staging","marketplace","my","my-reminders.services","partners","permalink","permalink.stg","schema","start","support","surveys","team","wac-cdn","xxid","home"];

},{}],4:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"getATLContextDomain",{enumerable:!0,get:function(){return _domainLookup.getATLContextDomain}}),Object.defineProperty(exports,"getATLContextUrl",{enumerable:!0,get:function(){return _domainLookup.getATLContextUrl}}),Object.defineProperty(exports,"isFedRamp",{enumerable:!0,get:function(){return _isFedramp.isFedRamp}});var _isFedramp=require("./services/is-fedramp"),_domainLookup=require("./services/domain-lookup");

},{"./services/domain-lookup":5,"./services/is-fedramp":6}],5:[function(require,module,exports){
"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports._getEnvironmentFromDomain=_getEnvironmentFromDomain,exports.configure=configure,exports.getATLContextDomain=getATLContextDomain,exports.getATLContextUrl=getATLContextUrl;var _slicedToArray2=_interopRequireDefault(require("@babel/runtime/helpers/slicedToArray")),_constants=require("../../common/constants"),_domains=require("../../common/constants/domains"),_types=require("../../common/types");function configure(n){if(!n||Object.keys(n).length<1)throw new Error("Data are not available");globalThis.ATL_CONTEXT_DOMAIN=n}function isValidDomainKey(n){return!!_types.AllowedDomains.includes(n)}function getATLContextDomain(n,t){var o,a,e;if(!isValidDomainKey(n))throw new Error("Domain ".concat(n," is not supported.\n      Supported domains: ").concat(_types.AllowedDomains.join(", ")));var s=globalThis.ATL_CONTEXT_DOMAIN;if(s)return s[n];var i,r,c=null!==t&&void 0!==t?t:_getEnvironmentFromDomain(),l=(0,_slicedToArray2.default)(c,2),m=l[0],_=l[1],u=_domains.fullDomainOverride[n];if(u)return null!==(i=null===(r=u[_])||void 0===r?void 0:r[m])&&void 0!==i?i:u[_constants.COMMERCIAL][_constants.PRODUCTION];var d=null!==(o=null===(a=_domains.domainMap[_])||void 0===a?void 0:a[m])&&void 0!==o?o:_domains.domainMap[_constants.COMMERCIAL][_constants.PRODUCTION],A=null!==(e=_domains.subdomainOverride[n])&&void 0!==e?e:n;return"".concat(A,".").concat(d)}function getATLContextUrl(n){return"".concat(globalThis.location.protocol,"//").concat(getATLContextDomain(n))}function _getEnvironmentFromDomain(){var n,t=null===(n=globalThis.location)||void 0===n?void 0:n.hostname;return t?t.match(/atlassian-fex\.com/)?[_constants.STAGING,_constants.FEDRAMP_FEDEX]:t.match(/stg\.atlassian-us-gov-mod\.(com|net)/)?[_constants.STAGING,_constants.FEDRAMP_MODERATE]:t.match(/atlassian-stg-fedm\.net/)?[_constants.STAGING,_constants.FEDRAMP_MODERATE]:t.match(/atlassian-us-gov-mod\.(com|net)/)?[_constants.PRODUCTION,_constants.FEDRAMP_MODERATE]:t.match(/stg(\.internal)?\.atlassian\.com/)?[_constants.STAGING,_constants.COMMERCIAL]:t.match(/jira-dev\.com/)?[_constants.STAGING,_constants.COMMERCIAL]:[_constants.PRODUCTION,_constants.COMMERCIAL]:[_constants.PRODUCTION,_constants.COMMERCIAL]}

},{"../../common/constants":2,"../../common/constants/domains":1,"../../common/types":3,"@babel/runtime/helpers/interopRequireDefault":35,"@babel/runtime/helpers/slicedToArray":52}],6:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isFedRamp=isFedRamp;var _constants=require("../../common/constants");function isFedRamp(){var t,s=globalThis,a=s.MICROS_PERIMETER||s.UNSAFE_ATL_CONTEXT_BOUNDARY;if(a)return a===_constants.FEDRAMP_MODERATE;var e=null===(t=s.location)||void 0===t||null===(t=t.hostname)||void 0===t?void 0:t.match(/atlassian-us-gov-mod\.(com|net)|atlassian-us-gov\.(com|net)|atlassian-fex\.(com|net)|atlassian-stg-fedm\.(com|net)/);return!!e&&e.length>0}

},{"../../common/constants":2}],7:[function(require,module,exports){
"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports.Client=void 0;var _objectWithoutProperties2=_interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties")),_regenerator=_interopRequireDefault(require("@babel/runtime/regenerator")),_slicedToArray2=_interopRequireDefault(require("@babel/runtime/helpers/slicedToArray")),_asyncToGenerator2=_interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator")),_classCallCheck2=_interopRequireDefault(require("@babel/runtime/helpers/classCallCheck")),_createClass2=_interopRequireDefault(require("@babel/runtime/helpers/createClass")),_defineProperty2=_interopRequireDefault(require("@babel/runtime/helpers/defineProperty")),_jsClient=require("@statsig/js-client"),_subscriptions=_interopRequireDefault(require("../subscriptions")),_DynamicConfig=require("./compat/DynamicConfig"),_Layer=require("./compat/Layer"),_types=require("./compat/types"),_fetcher=_interopRequireDefault(require("./fetcher")),_NoFetchDataAdapter=require("./NoFetchDataAdapter"),_PersistentOverrideAdapter=require("./PersistentOverrideAdapter"),_types2=require("./types"),_utils=require("./utils"),_version=require("./version"),_excluded=["sdkKey","environment","updateUserCompletionCallback","perimeter"];function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,i)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach(function(t){(0,_defineProperty2.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var DEFAULT_CLIENT_KEY="client-default-key",DEFAULT_EVENT_LOGGING_API="https://xp.atlassian.com/v1/rgstr",Client=exports.Client=function(){return(0,_createClass2.default)(function e(){var t=this,r=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).localStorageKey,i=void 0===r?_PersistentOverrideAdapter.LOCAL_STORAGE_KEY:r;(0,_classCallCheck2.default)(this,e),(0,_defineProperty2.default)(this,"initPromise",null),(0,_defineProperty2.default)(this,"initCompleted",!1),(0,_defineProperty2.default)(this,"initWithDefaults",!1),(0,_defineProperty2.default)(this,"hasCheckGateErrorOccurred",!1),(0,_defineProperty2.default)(this,"hasGetExperimentErrorOccurred",!1),(0,_defineProperty2.default)(this,"hasGetExperimentValueErrorOccurred",!1),(0,_defineProperty2.default)(this,"hasGetLayerErrorOccurred",!1),(0,_defineProperty2.default)(this,"hasGetLayerValueErrorOccurred",!1),(0,_defineProperty2.default)(this,"subscriptions",new _subscriptions.default),(0,_defineProperty2.default)(this,"dataAdapter",new _NoFetchDataAdapter.NoFetchDataAdapter),(0,_defineProperty2.default)(this,"statsigValuesUpdated",function(){t.user&&t.statsigClient.updateUserSync(t.user,{disableBackgroundCacheRefresh:!0}),t.subscriptions.anyUpdated()}),this.overrideAdapter=new _PersistentOverrideAdapter.PersistentOverrideAdapter(i)},[{key:"initialize",value:function(){var e=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r,i){var n,a,s=this;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=(0,_utils.getOptionsWithDefaults)(t),!this.initPromise){e.next=4;break}return(0,_utils.shallowEquals)(n,this.initOptions)||console.warn("Feature Gates client already initialized with different options. New options were not applied."),e.abrupt("return",this.initPromise);case 4:return a=performance.now(),this.initOptions=n,this.initPromise=this.init(n,r,i).then(function(){s.initCompleted=!0,s.initWithDefaults=!0}).finally(function(){var e=performance.now()-a;s.fireClientEvent(a,e,"initialize",s.initCompleted,n.apiKey)}),e.abrupt("return",this.initPromise);case 8:case"end":return e.stop()}},e,this)}));return function(t,r,i){return e.apply(this,arguments)}}()},{key:"initializeWithProvider",value:function(){var e=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r,i,n){var a,s,o=this;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=(0,_utils.getOptionsWithDefaults)(t),!this.initPromise){e.next=4;break}return(0,_utils.shallowEquals)(a,this.initOptions)||console.warn("Feature Gates client already initialized with different options. New options were not applied."),e.abrupt("return",this.initPromise);case 4:return s=performance.now(),this.initOptions=a,this.provider=r,this.provider.setClientVersion(_version.CLIENT_VERSION),this.provider.setApplyUpdateCallback&&this.provider.setApplyUpdateCallback(this.applyUpdateCallback.bind(this)),this.initPromise=this.initWithProvider(a,r,i,n).then(function(){o.initCompleted=!0,o.initWithDefaults=!0}).finally(function(){var e=performance.now()-s;o.fireClientEvent(s,e,"initializeWithProvider",o.initCompleted,r.getApiKey?r.getApiKey():void 0)}),e.abrupt("return",this.initPromise);case 11:case"end":return e.stop()}},e,this)}));return function(t,r,i,n){return e.apply(this,arguments)}}()},{key:"applyUpdateCallback",value:function(e){try{(this.initCompleted||this.initWithDefaults)&&(this.assertInitialized(this.statsigClient),this.dataAdapter.setBootstrapData(e.experimentValues),this.dataAdapter.setData(JSON.stringify(e.experimentValues)),this.statsigValuesUpdated())}catch(e){console.warn("Error when attempting to apply update",e)}}},{key:"fireClientEvent",value:function(e,t,r,i){var n,a=this,s=arguments.length>4&&void 0!==arguments[4]?arguments[4]:void 0;null===(n=this.initOptions.analyticsWebClient)||void 0===n||n.then(function(n){var o=_objectSpread({targetApp:a.initOptions.targetApp,clientVersion:_version.CLIENT_VERSION,success:i,startTime:e,totalTime:t},s&&{apiKey:s});n.sendOperationalEvent({action:r,actionSubject:"featureGatesClient",attributes:o,tags:["measurement"],source:"@atlaskit/feature-gate-js-client"})}).catch(function(e){a.initOptions.environment!==_types2.FeatureGateEnvironment.Production&&console.error("Analytics web client promise did not resolve",e)})}},{key:"initializeFromValues",value:function(){var e=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r,i){var n,a,s,o=this,u=arguments;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=u.length>3&&void 0!==u[3]?u[3]:{},a=(0,_utils.getOptionsWithDefaults)(t),!this.initPromise){e.next=5;break}return(0,_utils.shallowEquals)(a,this.initOptions)||console.warn("Feature Gates client already initialized with different options. New options were not applied."),e.abrupt("return",this.initPromise);case 5:return Object.prototype.hasOwnProperty.call(n,"has_updates")||(n.has_updates=!0),s=performance.now(),this.initOptions=a,this.initPromise=this.initFromValues(a,r,i,n).then(function(){o.initCompleted=!0,o.initWithDefaults=!0}).finally(function(){var e=performance.now()-s;o.fireClientEvent(s,e,"initializeFromValues",o.initCompleted)}),e.abrupt("return",this.initPromise);case 10:case"end":return e.stop()}},e,this)}));return function(t,r,i){return e.apply(this,arguments)}}()},{key:"assertInitialized",value:function(e){if(!e)throw new Error("Client must be initialized before using this method")}},{key:"updateUser",value:function(){var e=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r,i){var n,a;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertInitialized(this.statsigClient),n=(0,_utils.getOptionsWithDefaults)(t),a=function(){return _fetcher.default.fetchExperimentValues(n,r,i).then(function(e){return{experimentValues:e.experimentValues,customAttributesFromFetch:e.customAttributes}})},e.next=5,this.updateUserUsingInitializeValuesProducer(a,r,i);case 5:case"end":return e.stop()}},e,this)}));return function(t,r,i){return e.apply(this,arguments)}}()},{key:"updateUserWithProvider",value:function(){var e=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var i=this;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.assertInitialized(this.statsigClient),this.provider){e.next=3;break}throw new Error("Cannot update user using provider as the client was not initialised with a provider");case 3:return e.next=5,this.provider.setProfile(this.initOptions,t,r);case 5:return e.next=7,this.updateUserUsingInitializeValuesProducer(function(){return i.provider.getExperimentValues()},t,r);case 7:case"end":return e.stop()}},e,this)}));return function(t,r){return e.apply(this,arguments)}}()},{key:"updateUserWithValues",value:function(){var e=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){var i,n,a=arguments;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return i=a.length>2&&void 0!==a[2]?a[2]:{},this.assertInitialized(this.statsigClient),n=function(){return Promise.resolve({experimentValues:i,customAttributesFromFetch:r})},e.next=5,this.updateUserUsingInitializeValuesProducer(n,t,r);case 5:case"end":return e.stop()}},e,this)}));return function(t,r){return e.apply(this,arguments)}}()},{key:"initializeCalled",value:function(){return null!=this.initPromise}},{key:"initializeCompleted",value:function(){return this.initCompleted}},{key:"checkGate",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{this.assertInitialized(this.statsigClient);var r=t.fireGateExposure,i=void 0===r||r;return this.statsigClient.checkGate(e,{disableExposureLog:!i})}catch(t){return this.hasCheckGateErrorOccurred||(console.warn({msg:"An error has occurred checking the feature gate. Only the first occurrence of this error is logged.",gateName:e,error:t}),this.hasCheckGateErrorOccurred=!0),!1}}},{key:"isGateExist",value:function(e){try{return this.assertInitialized(this.statsigClient),!this.statsigClient.getFeatureGate(e,{disableExposureLog:!0}).details.reason.includes("Unrecognized")}catch(e){return console.error("Error occurred when trying to check FeatureGate: ".concat(e)),!0}}},{key:"isExperimentExist",value:function(e){try{return this.assertInitialized(this.statsigClient),!this.statsigClient.getExperiment(e,{disableExposureLog:!0}).details.reason.includes("Unrecognized")}catch(e){return console.error("Error occurred when trying to check Experiment: ".concat(e)),!0}}},{key:"manuallyLogGateExposure",value:function(e){this.assertInitialized(this.statsigClient),this.statsigClient.checkGate(e)}},{key:"getExperiment",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{this.assertInitialized(this.statsigClient);var r=t.fireExperimentExposure,i=void 0===r||r;return _DynamicConfig.DynamicConfig.fromExperiment(this.statsigClient.getExperiment(e,{disableExposureLog:!i}))}catch(t){return this.hasGetExperimentErrorOccurred||(console.warn({msg:"An error has occurred getting the experiment. Only the first occurrence of this error is logged.",experimentName:e,error:t}),this.hasGetExperimentErrorOccurred=!0),new _DynamicConfig.DynamicConfig(e,{},"",{time:Date.now(),reason:_types.EvaluationReason.Error})}}},{key:"getExperimentValue",value:function(e,t,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=this.getExperiment(e,i);try{var a=i.typeGuard;return n.get(t,r,a)}catch(t){return this.hasGetExperimentValueErrorOccurred||(console.warn({msg:"An error has occurred getting the experiment value. Only the first occurrence of this error is logged.",experimentName:e,defaultValue:r,options:i,error:t}),this.hasGetExperimentValueErrorOccurred=!0),r}}},{key:"manuallyLogExperimentExposure",value:function(e){this.assertInitialized(this.statsigClient),this.statsigClient.getExperiment(e)}},{key:"manuallyLogLayerExposure",value:function(e,t){var r;this.assertInitialized(this.statsigClient),null===(r=this.statsigClient.getLayer(e))||void 0===r||r.get(t)}},{key:"shutdownStatsig",value:function(){this.assertInitialized(this.statsigClient),this.statsigClient.shutdown()}},{key:"overrideGate",value:function(e,t){var r;(this.overrideAdapter.overrideGate(e,t),this.user)&&(null===(r=this.statsigClient)||void 0===r||r.updateUserSync(this.user,{disableBackgroundCacheRefresh:!0}));this.statsigValuesUpdated()}},{key:"clearGateOverride",value:function(e){this.overrideAdapter.removeGateOverride(e),this.statsigValuesUpdated()}},{key:"overrideConfig",value:function(e,t){this.overrideAdapter.overrideDynamicConfig(e,t),this.statsigValuesUpdated()}},{key:"clearConfigOverride",value:function(e){this.overrideAdapter.removeDynamicConfigOverride(e),this.statsigValuesUpdated()}},{key:"setOverrides",value:function(e){this.overrideAdapter.setOverrides(e),this.statsigValuesUpdated()}},{key:"getOverrides",value:function(){return this.overrideAdapter.getOverrides()}},{key:"clearAllOverrides",value:function(){this.overrideAdapter.removeAllOverrides(),this.statsigValuesUpdated()}},{key:"isCurrentUser",value:function(e,t){return(0,_utils.shallowEquals)(this.currentIdentifiers,e)&&(0,_utils.shallowEquals)(this.currentAttributes,t)}},{key:"onGateUpdated",value:function(e,t){var r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.subscriptions.onGateUpdated(e,function(n){var a=i.fireGateExposure;(void 0===a||a)&&r.manuallyLogGateExposure(e);try{t(n)}catch(t){console.warn("Error calling callback for gate ".concat(e," with value ").concat(n),t)}},this.checkGate.bind(this),i)}},{key:"onExperimentValueUpdated",value:function(e,t,r,i){var n=this,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return this.subscriptions.onExperimentValueUpdated(e,t,r,function(t){var r=a.fireExperimentExposure;(void 0===r||r)&&n.manuallyLogExperimentExposure(e);try{i(t)}catch(r){console.warn("Error calling callback for experiment ".concat(e," with value ").concat(t),r)}},this.getExperimentValue.bind(this),a)}},{key:"onAnyUpdated",value:function(e){return this.subscriptions.onAnyUpdated(e)}},{key:"init",value:function(){var e=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r,i){var n,a,s,o,u,l,c,d;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=_objectSpread({},t),e.prev=1,o=_fetcher.default.fetchClientSdk(t).then(function(e){return n.sdkKey=e.clientSdkKey}),u=_fetcher.default.fetchExperimentValues(t,r,i),e.next=6,Promise.all([o,u]);case 6:l=e.sent,c=(0,_slicedToArray2.default)(l,2),d=c[1],a=d.experimentValues,s=d.customAttributes,e.next=20;break;case 13:return e.prev=13,e.t0=e.catch(1),e.t0 instanceof Error&&console.error("Error occurred when trying to fetch the Feature Gates client values, error: ".concat(null===e.t0||void 0===e.t0?void 0:e.t0.message)),console.warn("Initialising Statsig client without values"),e.next=19,this.initFromValues(n,r,i);case 19:throw e.t0;case 20:return e.abrupt("return",this.initFromValues(n,r,s,a));case 21:case"end":return e.stop()}},e,this,[[1,13]])}));return function(t,r,i){return e.apply(this,arguments)}}()},{key:"initWithProvider",value:function(){var e=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r,i,n){var a,s,o,u,l,c,d,h;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=_objectSpread(_objectSpread({},t),{},{disableCurrentPageLogging:!0}),e.prev=1,e.next=4,r.setProfile(t,i,n);case 4:return u=r.getClientSdkKey().then(function(e){return a.sdkKey=e}),l=r.getExperimentValues(),e.next=8,Promise.all([u,l]);case 8:c=e.sent,d=(0,_slicedToArray2.default)(c,2),h=d[1],s=h.experimentValues,o=h.customAttributesFromFetch,e.next=22;break;case 15:return e.prev=15,e.t0=e.catch(1),e.t0 instanceof Error&&console.error("Error occurred when trying to fetch the Feature Gates client values, error: ".concat(null===e.t0||void 0===e.t0?void 0:e.t0.message)),console.warn("Initialising Statsig client without values"),e.next=21,this.initFromValues(a,i,n);case 21:throw e.t0;case 22:return e.abrupt("return",this.initFromValues(a,i,o,s));case 23:case"end":return e.stop()}},e,this,[[1,15]])}));return function(t,r,i,n){return e.apply(this,arguments)}}()},{key:"initFromValues",value:function(){var e=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r,i){var n,a,s,o,u,l,c,d=arguments;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=d.length>3&&void 0!==d[3]?d[3]:{},this.overrideAdapter.initFromStoredOverrides(),this.currentIdentifiers=r,this.currentAttributes=i,(s=(0,_utils.migrateInitializationOptions)(t)).sdkKey||(s.sdkKey=DEFAULT_CLIENT_KEY),null!==(n=s.networkConfig)&&void 0!==n&&n.logEventUrl||(s.networkConfig=_objectSpread(_objectSpread({},s.networkConfig),{},{logEventUrl:DEFAULT_EVENT_LOGGING_API})),s.perimeter===_types2.PerimeterType.FEDRAMP_MODERATE&&(s.disableLogging=!0),o=s.sdkKey,u=s.environment,s.updateUserCompletionCallback,s.perimeter,l=(0,_objectWithoutProperties2.default)(s,_excluded),this.sdkKey=o,this.user=(0,_utils.toStatsigUser)(r,i,this.sdkKey),c=_objectSpread(_objectSpread({},l),{},{environment:{tier:u},includeCurrentPageUrlWithEvents:!1,dataAdapter:this.dataAdapter,overrideAdapter:this.overrideAdapter}),e.prev=12,this.statsigClient=new _jsClient.StatsigClient(o,this.user,c),this.dataAdapter.setBootstrapData(a),e.next=17,this.statsigClient.initializeAsync();case 17:e.next=29;break;case 19:return e.prev=19,e.t0=e.catch(12),e.t0 instanceof Error&&console.error("Error occurred when trying to initialise the Statsig client, error: ".concat(null===e.t0||void 0===e.t0?void 0:e.t0.message)),console.warn("Initialising Statsig client with default sdk key and without values"),this.statsigClient=new _jsClient.StatsigClient(DEFAULT_CLIENT_KEY,this.user,c),this.dataAdapter.setBootstrapData(),e.next=27,this.statsigClient.initializeAsync();case 27:throw this.initWithDefaults=!0,e.t0;case 29:case"end":return e.stop()}},e,this,[[12,19]])}));return function(t,r,i){return e.apply(this,arguments)}}()},{key:"updateUserUsingInitializeValuesProducer",value:function(){var e=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r,i){var n,a,s,o=this;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(this.assertInitialized(this.statsigClient),this.initPromise){e.next=3;break}throw new Error("The client must be initialized before you can update the user.");case 3:if(!this.isCurrentUser(r,i)){e.next=5;break}return e.abrupt("return",this.initPromise);case 5:return n=this.initPromise,e.prev=6,e.next=9,this.initPromise;case 9:e.next=13;break;case 11:e.prev=11,e.t0=e.catch(6);case 13:return a=t(),s=this.updateStatsigClientUser(a,r,i),this.initPromise=s.catch((0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(){return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(o.initPromise=n,!o.provider){e.next=4;break}return e.next=4,o.provider.setProfile(o.initOptions,o.currentIdentifiers,o.currentAttributes);case 4:case"end":return e.stop()}},e)}))),e.abrupt("return",s);case 17:case"end":return e.stop()}},e,this,[[6,11]])}));return function(t,r,i){return e.apply(this,arguments)}}()},{key:"updateStatsigClientUser",value:function(){var e=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r,i){var n,a,s,o,u,l,c,d,h;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertInitialized(this.statsigClient),e.prev=1,e.next=4,t;case 4:s=e.sent,o=(0,_utils.toStatsigUser)(r,s.customAttributesFromFetch,this.sdkKey),e.next=13;break;case 8:throw e.prev=8,e.t0=e.catch(1),c=e.t0 instanceof Error?e.t0.message:JSON.stringify(e.t0),null===(u=(l=this.initOptions).updateUserCompletionCallback)||void 0===u||u.call(l,!1,c),e.t0;case 13:return d=!0,h=null,e.prev=15,this.dataAdapter.setBootstrapData(s.experimentValues),this.user=o,e.next=20,this.statsigClient.updateUserAsync(this.user);case 20:e.next=26;break;case 22:e.prev=22,e.t1=e.catch(15),d=!1,h=String(e.t1);case 26:if(null===(n=this.initOptions)||void 0===n||null===(a=n.updateUserCompletionCallback)||void 0===a||a.call(n,d,h),!d){e.next=33;break}this.currentIdentifiers=r,this.currentAttributes=i,this.subscriptions.anyUpdated(),e.next=34;break;case 33:throw new Error("Failed to update user. An unexpected error occured.");case 34:case"end":return e.stop()}},e,this,[[1,8],[15,22]])}));return function(t,r,i){return e.apply(this,arguments)}}()},{key:"getPackageVersion",value:function(){return _version.CLIENT_VERSION}},{key:"getLayer",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{this.assertInitialized(this.statsigClient);var r=t.fireLayerExposure,i=void 0===r||r;return _Layer.Layer.fromLayer(this.statsigClient.getLayer(e,{disableExposureLog:!i}))}catch(t){return this.hasGetLayerErrorOccurred||(console.warn({msg:"An error has occurred getting the layer. Only the first occurrence of this error is logged.",layerName:e,error:t}),this.hasGetLayerErrorOccurred=!0),_Layer.Layer.fromLayer((0,_jsClient._makeLayer)(e,{reason:"Error"},null))}}},{key:"getLayerValue",value:function(e,t,r){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},n=this.getLayer(e,i);try{var a=i.typeGuard;return n.get(t,r,a)}catch(t){return this.hasGetLayerValueErrorOccurred||(console.warn({msg:"An error has occurred getting the layer value. Only the first occurrence of this error is logged.",layerName:e,defaultValue:r,options:i,error:t}),this.hasGetLayerValueErrorOccurred=!0),r}}}])}();

},{"../subscriptions":22,"./NoFetchDataAdapter":9,"./PersistentOverrideAdapter":10,"./compat/DynamicConfig":11,"./compat/Layer":12,"./compat/types":13,"./fetcher":16,"./types":17,"./utils":18,"./version":19,"@babel/runtime/helpers/asyncToGenerator":27,"@babel/runtime/helpers/classCallCheck":28,"@babel/runtime/helpers/createClass":30,"@babel/runtime/helpers/defineProperty":31,"@babel/runtime/helpers/interopRequireDefault":35,"@babel/runtime/helpers/objectWithoutProperties":40,"@babel/runtime/helpers/slicedToArray":52,"@babel/runtime/regenerator":59,"@statsig/js-client":110}],8:[function(require,module,exports){
"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"CLIENT_VERSION",{enumerable:!0,get:function(){return _version.CLIENT_VERSION}}),Object.defineProperty(exports,"DynamicConfig",{enumerable:!0,get:function(){return _DynamicConfig.DynamicConfig}}),Object.defineProperty(exports,"EvaluationReason",{enumerable:!0,get:function(){return _types.EvaluationReason}}),Object.defineProperty(exports,"FeatureGateEnvironment",{enumerable:!0,get:function(){return _types2.FeatureGateEnvironment}}),Object.defineProperty(exports,"PerimeterType",{enumerable:!0,get:function(){return _types2.PerimeterType}}),exports.default=void 0;var _FeatureGates,_classCallCheck2=_interopRequireDefault(require("@babel/runtime/helpers/classCallCheck")),_createClass2=_interopRequireDefault(require("@babel/runtime/helpers/createClass")),_defineProperty2=_interopRequireDefault(require("@babel/runtime/helpers/defineProperty")),_Client=require("./Client"),_version=require("./version"),_types=require("./compat/types"),_DynamicConfig=require("./compat/DynamicConfig"),_types2=require("./types"),FeatureGates=function(){return(0,_createClass2.default)(function e(){(0,_classCallCheck2.default)(this,e)},null,[{key:"isGateExists",value:function(e){return this.client.isGateExist(e)}},{key:"isExperimentExists",value:function(e){return this.client.isExperimentExist(e)}}])}();_FeatureGates=FeatureGates,(0,_defineProperty2.default)(FeatureGates,"client",new _Client.Client),(0,_defineProperty2.default)(FeatureGates,"hasCheckGateErrorOccurred",!1),(0,_defineProperty2.default)(FeatureGates,"hasGetExperimentValueErrorOccurred",!1),(0,_defineProperty2.default)(FeatureGates,"checkGate",function(e,t){try{if("undefined"!=typeof window&&window.__CRITERION__&&"function"==typeof window.__CRITERION__.getFeatureFlagOverride){var r=window.__CRITERION__.getFeatureFlagOverride(e);if(void 0!==r)return r}}catch(t){_FeatureGates.hasCheckGateErrorOccurred||(console.warn({msg:"An error has occurred checking the feature gate from criterion override. Only the first occurrence of this error is logged.",gateName:e,error:t}),_FeatureGates.hasCheckGateErrorOccurred=!0)}return _FeatureGates.client.checkGate(e,t)}),(0,_defineProperty2.default)(FeatureGates,"getExperimentValue",function(e,t,r,a){try{if("undefined"!=typeof window&&window.__CRITERION__&&"function"==typeof window.__CRITERION__.getExperimentValueOverride){var i=window.__CRITERION__.getExperimentValueOverride(e,t);if(void 0!==i&&null!==i)return i}}catch(t){return _FeatureGates.hasGetExperimentValueErrorOccurred||(console.warn({msg:"An error has occurred getting the experiment value from criterion override. Only the first occurrence of this error is logged.",experimentName:e,defaultValue:r,options:a,error:t}),_FeatureGates.hasGetExperimentValueErrorOccurred=!0),r}return _FeatureGates.client.getExperimentValue(e,t,r,a)}),(0,_defineProperty2.default)(FeatureGates,"initializeCalled",_FeatureGates.client.initializeCalled.bind(_FeatureGates.client)),(0,_defineProperty2.default)(FeatureGates,"initializeCompleted",_FeatureGates.client.initializeCompleted.bind(_FeatureGates.client)),(0,_defineProperty2.default)(FeatureGates,"initialize",_FeatureGates.client.initialize.bind(_FeatureGates.client)),(0,_defineProperty2.default)(FeatureGates,"initializeWithProvider",_FeatureGates.client.initializeWithProvider.bind(_FeatureGates.client)),(0,_defineProperty2.default)(FeatureGates,"initializeFromValues",_FeatureGates.client.initializeFromValues.bind(_FeatureGates.client)),(0,_defineProperty2.default)(FeatureGates,"manuallyLogGateExposure",_FeatureGates.client.manuallyLogGateExposure.bind(_FeatureGates.client)),(0,_defineProperty2.default)(FeatureGates,"getExperiment",_FeatureGates.client.getExperiment.bind(_FeatureGates.client)),(0,_defineProperty2.default)(FeatureGates,"manuallyLogExperimentExposure",_FeatureGates.client.manuallyLogExperimentExposure.bind(_FeatureGates.client)),(0,_defineProperty2.default)(FeatureGates,"manuallyLogLayerExposure",_FeatureGates.client.manuallyLogLayerExposure.bind(_FeatureGates.client)),(0,_defineProperty2.default)(FeatureGates,"shutdownStatsig",_FeatureGates.client.shutdownStatsig.bind(_FeatureGates.client)),(0,_defineProperty2.default)(FeatureGates,"overrideGate",_FeatureGates.client.overrideGate.bind(_FeatureGates.client)),(0,_defineProperty2.default)(FeatureGates,"clearGateOverride",_FeatureGates.client.clearGateOverride.bind(_FeatureGates.client)),(0,_defineProperty2.default)(FeatureGates,"overrideConfig",_FeatureGates.client.overrideConfig.bind(_FeatureGates.client)),(0,_defineProperty2.default)(FeatureGates,"clearConfigOverride",_FeatureGates.client.clearConfigOverride.bind(_FeatureGates.client)),(0,_defineProperty2.default)(FeatureGates,"setOverrides",_FeatureGates.client.setOverrides.bind(_FeatureGates.client)),(0,_defineProperty2.default)(FeatureGates,"getOverrides",_FeatureGates.client.getOverrides.bind(_FeatureGates.client)),(0,_defineProperty2.default)(FeatureGates,"clearAllOverrides",_FeatureGates.client.clearAllOverrides.bind(_FeatureGates.client)),(0,_defineProperty2.default)(FeatureGates,"isCurrentUser",_FeatureGates.client.isCurrentUser.bind(_FeatureGates.client)),(0,_defineProperty2.default)(FeatureGates,"onGateUpdated",_FeatureGates.client.onGateUpdated.bind(_FeatureGates.client)),(0,_defineProperty2.default)(FeatureGates,"onExperimentValueUpdated",_FeatureGates.client.onExperimentValueUpdated.bind(_FeatureGates.client)),(0,_defineProperty2.default)(FeatureGates,"onAnyUpdated",_FeatureGates.client.onAnyUpdated.bind(_FeatureGates.client)),(0,_defineProperty2.default)(FeatureGates,"updateUser",_FeatureGates.client.updateUser.bind(_FeatureGates.client)),(0,_defineProperty2.default)(FeatureGates,"updateUserWithProvider",_FeatureGates.client.updateUserWithProvider.bind(_FeatureGates.client)),(0,_defineProperty2.default)(FeatureGates,"updateUserWithValues",_FeatureGates.client.updateUserWithValues.bind(_FeatureGates.client)),(0,_defineProperty2.default)(FeatureGates,"getPackageVersion",_FeatureGates.client.getPackageVersion.bind(_FeatureGates.client)),(0,_defineProperty2.default)(FeatureGates,"getLayer",_FeatureGates.client.getLayer.bind(_FeatureGates.client)),(0,_defineProperty2.default)(FeatureGates,"getLayerValue",_FeatureGates.client.getLayerValue.bind(_FeatureGates.client));var boundFGJS=FeatureGates;if("undefined"!=typeof window)if(void 0===window.__FEATUREGATES_JS__)window.__FEATUREGATES_JS__=FeatureGates;else{var _boundFGJS,_boundFGJS$getPackage,boundVersion=(null===(_boundFGJS=boundFGJS=window.__FEATUREGATES_JS__)||void 0===_boundFGJS||null===(_boundFGJS$getPackage=_boundFGJS.getPackageVersion)||void 0===_boundFGJS$getPackage?void 0:_boundFGJS$getPackage.call(_boundFGJS))||"4.10.0 or earlier";if(boundVersion!==_version.CLIENT_VERSION){var message="Multiple versions of FeatureGateClients found on the current page.\n      The currently bound version is ".concat(boundVersion," when module version ").concat(_version.CLIENT_VERSION," was loading.");console.warn(message)}}var _default=exports.default=boundFGJS;

},{"./Client":7,"./compat/DynamicConfig":11,"./compat/types":13,"./types":17,"./version":19,"@babel/runtime/helpers/classCallCheck":28,"@babel/runtime/helpers/createClass":30,"@babel/runtime/helpers/defineProperty":31,"@babel/runtime/helpers/interopRequireDefault":35}],9:[function(require,module,exports){
"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports.NoFetchDataAdapter=void 0;var _regenerator=_interopRequireDefault(require("@babel/runtime/regenerator")),_asyncToGenerator2=_interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator")),_classCallCheck2=_interopRequireDefault(require("@babel/runtime/helpers/classCallCheck")),_createClass2=_interopRequireDefault(require("@babel/runtime/helpers/createClass")),_possibleConstructorReturn2=_interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn")),_getPrototypeOf2=_interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf")),_get2=_interopRequireDefault(require("@babel/runtime/helpers/get")),_inherits2=_interopRequireDefault(require("@babel/runtime/helpers/inherits")),_defineProperty2=_interopRequireDefault(require("@babel/runtime/helpers/defineProperty")),_jsClient=require("@statsig/js-client");function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,a)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach(function(t){(0,_defineProperty2.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function _callSuper(e,t,r){return t=(0,_getPrototypeOf2.default)(t),(0,_possibleConstructorReturn2.default)(e,_isNativeReflectConstruct()?Reflect.construct(t,r||[],(0,_getPrototypeOf2.default)(e).constructor):t.apply(e,r))}function _isNativeReflectConstruct(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(_isNativeReflectConstruct=function(){return!!e})()}function _superPropGet(e,t,r,a){var n=(0,_get2.default)((0,_getPrototypeOf2.default)(1&a?e.prototype:e),t,r);return 2&a&&"function"==typeof n?function(e){return n.apply(r,e)}:n}var NoFetchDataAdapter=exports.NoFetchDataAdapter=function(e){function t(){var e;return(0,_classCallCheck2.default)(this,t),e=_callSuper(this,t,["NoFetchDataAdapter","nofetch"]),(0,_defineProperty2.default)(e,"bootstrapResult",null),e}return(0,_inherits2.default)(t,e),(0,_createClass2.default)(t,[{key:"setBootstrapData",value:function(e){this.bootstrapResult=e?{source:"Bootstrap",data:JSON.stringify(e),receivedAt:Date.now(),stableID:_jsClient.StableID.get(this._getSdkKey()),fullUserHash:null}:null}},{key:"prefetchData",value:function(){var e=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r){return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e)}));return function(t,r){return e.apply(this,arguments)}}()},{key:"getDataAsync",value:function(){var e=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r,a){return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.bootstrapResult&&_objectSpread(_objectSpread({},this.bootstrapResult),{},{fullUserHash:(0,_jsClient._getFullUserHash)(r)}));case 1:case"end":return e.stop()}},e,this)}));return function(t,r,a){return e.apply(this,arguments)}}()},{key:"getDataSync",value:function(e){return this.bootstrapResult&&_objectSpread(_objectSpread({},this.bootstrapResult),{},{fullUserHash:(0,_jsClient._getFullUserHash)(e)})}},{key:"_fetchFromNetwork",value:function(){var e=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(t,r,a){return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",null);case 1:case"end":return e.stop()}},e)}));return function(t,r,a){return e.apply(this,arguments)}}()},{key:"_getCacheKey",value:function(e){var t=(0,_jsClient._getStorageKey)(this._getSdkKey(),e);return"".concat(_jsClient.DataAdapterCachePrefix,".").concat(this._cacheSuffix,".").concat(t)}},{key:"_isCachedResultValidFor204",value:function(e,t){return!1}},{key:"setDataLegacy",value:function(e,r){_superPropGet(t,"setData",this,3)([e,r])}},{key:"toJSON",value:function(){var e=_objectSpread({},this);return delete e._options,delete e._inMemoryCache,delete e.bootstrapResult,e}}])}(_jsClient.DataAdapterCore);

},{"@babel/runtime/helpers/asyncToGenerator":27,"@babel/runtime/helpers/classCallCheck":28,"@babel/runtime/helpers/createClass":30,"@babel/runtime/helpers/defineProperty":31,"@babel/runtime/helpers/get":32,"@babel/runtime/helpers/getPrototypeOf":33,"@babel/runtime/helpers/inherits":34,"@babel/runtime/helpers/interopRequireDefault":35,"@babel/runtime/helpers/possibleConstructorReturn":42,"@babel/runtime/regenerator":59,"@statsig/js-client":110}],10:[function(require,module,exports){
"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports.PersistentOverrideAdapter=exports.LOCAL_STORAGE_KEY=void 0;var _defineProperty2=_interopRequireDefault(require("@babel/runtime/helpers/defineProperty")),_slicedToArray2=_interopRequireDefault(require("@babel/runtime/helpers/slicedToArray")),_classCallCheck2=_interopRequireDefault(require("@babel/runtime/helpers/classCallCheck")),_createClass2=_interopRequireDefault(require("@babel/runtime/helpers/createClass")),_clientCore=require("@statsig/client-core");function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);r&&(i=i.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,i)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){(0,_defineProperty2.default)(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}function _createForOfIteratorHelper(e,r){var t="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!t){if(Array.isArray(e)||(t=_unsupportedIterableToArray(e))||r&&e&&"number"==typeof e.length){t&&(e=t);var i=0,a=function(){};return{s:a,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,o=!0,s=!1;return{s:function(){t=t.call(e)},n:function(){var e=t.next();return o=e.done,e},e:function(e){s=!0,n=e},f:function(){try{o||null==t.return||t.return()}finally{if(s)throw n}}}}function _unsupportedIterableToArray(e,r){if(e){if("string"==typeof e)return _arrayLikeToArray(e,r);var t={}.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(e):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?_arrayLikeToArray(e,r):void 0}}function _arrayLikeToArray(e,r){(null==r||r>e.length)&&(r=e.length);for(var t=0,i=Array(r);t<r;t++)i[t]=e[t];return i}var LOCAL_OVERRIDE_REASON="LocalOverride:Recognized",LOCAL_STORAGE_KEY=exports.LOCAL_STORAGE_KEY="STATSIG_OVERRIDES",LEGACY_LOCAL_STORAGE_KEY="STATSIG_JS_LITE_LOCAL_OVERRIDES",makeEmptyStore=function(){return{gates:{},configs:{},layers:{}}},djb2MapKey=function(e,r){return r+":"+e},PersistentOverrideAdapter=exports.PersistentOverrideAdapter=function(){return(0,_createClass2.default)(function e(r){(0,_classCallCheck2.default)(this,e),this._overrides=makeEmptyStore(),this._djb2Map=new Map,this._localStorageKey=r},[{key:"parseStoredOverrides",value:function(e){try{var r=window.localStorage.getItem(e);return r?JSON.parse(r):makeEmptyStore()}catch(e){return makeEmptyStore()}}},{key:"mergeOverrides",value:function(){for(var e=makeEmptyStore(),r=arguments.length,t=new Array(r),i=0;i<r;i++)t[i]=arguments[i];for(var a=0,n=t;a<n.length;a++){for(var o=n[a],s=0,l=Object.entries(null!==(d=o.gates)&&void 0!==d?d:{});s<l.length;s++){var d,c=(0,_slicedToArray2.default)(l[s],2),u=c[0],v=c[1];e.gates[u]=v}for(var _=0,y=Object.entries(null!==(p=o.configs)&&void 0!==p?p:{});_<y.length;_++){var p,f=(0,_slicedToArray2.default)(y[_],2),O=f[0],h=f[1];e.configs[O]=h}for(var b=0,g=Object.entries(null!==(m=o.layers)&&void 0!==m?m:{});b<g.length;b++){var m,j=(0,_slicedToArray2.default)(g[b],2),S=j[0],A=j[1];e.layers[S]=A}}return e}},{key:"initFromStoredOverrides",value:function(){var e=this.mergeOverrides(this._overrides,this.parseStoredOverrides(LEGACY_LOCAL_STORAGE_KEY),this.parseStoredOverrides(this._localStorageKey));try{window.localStorage.removeItem(LEGACY_LOCAL_STORAGE_KEY)}catch(e){}for(var r=0,t=Object.values(e);r<t.length;r++){var i,a=t[r],n=new Set(Object.keys(a)),o=_createForOfIteratorHelper(n);try{for(o.s();!(i=o.n()).done;){var s=i.value,l=(0,_clientCore._DJB2)(s);n.has(l)&&delete a[l]}}catch(e){o.e(e)}finally{o.f()}}this.applyOverrides(e)}},{key:"saveOverrides",value:function(){try{window.localStorage.setItem(this._localStorageKey,JSON.stringify(this._overrides))}catch(e){}}},{key:"getOverrides",value:function(){return this.mergeOverrides(this._overrides)}},{key:"applyOverrides",value:function(e){var r=_objectSpread(_objectSpread({},makeEmptyStore()),e);this._djb2Map.clear();for(var t=0,i=Object.entries(r);t<i.length;t++)for(var a=(0,_slicedToArray2.default)(i[t],2),n=a[0],o=a[1],s=0,l=Object.entries(o);s<l.length;s++){var d=(0,_slicedToArray2.default)(l[s],2),c=d[0],u=d[1];this._djb2Map.set(djb2MapKey((0,_clientCore._DJB2)(c),n),u)}this._overrides=r}},{key:"setOverrides",value:function(e){this.applyOverrides(e),this.saveOverrides()}},{key:"overrideGate",value:function(e,r){this._overrides.gates[e]=r,this._djb2Map.set(djb2MapKey((0,_clientCore._DJB2)(e),"gates"),r),this.saveOverrides()}},{key:"removeGateOverride",value:function(e){delete this._overrides.gates[e],this._djb2Map.delete(djb2MapKey((0,_clientCore._DJB2)(e),"gates")),this.saveOverrides()}},{key:"getGateOverride",value:function(e,r){var t,i=null!==(t=this._overrides.gates[e.name])&&void 0!==t?t:this._djb2Map.get(djb2MapKey(e.name,"gates"));return null==i?null:_objectSpread(_objectSpread({},e),{},{value:i,details:_objectSpread(_objectSpread({},e.details),{},{reason:LOCAL_OVERRIDE_REASON})})}},{key:"overrideDynamicConfig",value:function(e,r){this._overrides.configs[e]=r,this._djb2Map.set(djb2MapKey((0,_clientCore._DJB2)(e),"configs"),r),this.saveOverrides()}},{key:"removeDynamicConfigOverride",value:function(e){delete this._overrides.configs[e],this._djb2Map.delete(djb2MapKey((0,_clientCore._DJB2)(e),"configs")),this.saveOverrides()}},{key:"getDynamicConfigOverride",value:function(e,r){return this._getConfigOverride(e,this._overrides.configs)}},{key:"overrideExperiment",value:function(e,r){this._overrides.configs[e]=r,this._djb2Map.set(djb2MapKey((0,_clientCore._DJB2)(e),"configs"),r),this.saveOverrides()}},{key:"removeExperimentOverride",value:function(e){delete this._overrides.configs[e],this._djb2Map.delete(djb2MapKey((0,_clientCore._DJB2)(e),"configs")),this.saveOverrides()}},{key:"getExperimentOverride",value:function(e,r){return this._getConfigOverride(e,this._overrides.configs)}},{key:"overrideLayer",value:function(e,r){this._overrides.layers[e]=r,this._djb2Map.set(djb2MapKey((0,_clientCore._DJB2)(e),"layers"),r),this.saveOverrides()}},{key:"removeLayerOverride",value:function(e){delete this._overrides.layers[e],this._djb2Map.delete(djb2MapKey((0,_clientCore._DJB2)(e),"layers")),this.saveOverrides()}},{key:"removeAllOverrides",value:function(){this._overrides=makeEmptyStore();try{window.localStorage.removeItem(this._localStorageKey)}catch(e){}}},{key:"getLayerOverride",value:function(e,r){var t,i=null!==(t=this._overrides.layers[e.name])&&void 0!==t?t:this._djb2Map.get(djb2MapKey(e.name,"layers"));return null==i?null:_objectSpread(_objectSpread({},e),{},{__value:i,get:(0,_clientCore._makeTypedGet)(e.name,i),details:_objectSpread(_objectSpread({},e.details),{},{reason:LOCAL_OVERRIDE_REASON})})}},{key:"_getConfigOverride",value:function(e,r){var t,i=null!==(t=r[e.name])&&void 0!==t?t:this._djb2Map.get(djb2MapKey(e.name,"configs"));return null==i?null:_objectSpread(_objectSpread({},e),{},{value:i,get:(0,_clientCore._makeTypedGet)(e.name,i),details:_objectSpread(_objectSpread({},e.details),{},{reason:LOCAL_OVERRIDE_REASON})})}}])}();

},{"@babel/runtime/helpers/classCallCheck":28,"@babel/runtime/helpers/createClass":30,"@babel/runtime/helpers/defineProperty":31,"@babel/runtime/helpers/interopRequireDefault":35,"@babel/runtime/helpers/slicedToArray":52,"@statsig/client-core":103}],11:[function(require,module,exports){
"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports.DynamicConfig=void 0;var _typeof2=_interopRequireDefault(require("@babel/runtime/helpers/typeof")),_classCallCheck2=_interopRequireDefault(require("@babel/runtime/helpers/classCallCheck")),_createClass2=_interopRequireDefault(require("@babel/runtime/helpers/createClass")),_utils=require("../utils"),DynamicConfig=exports.DynamicConfig=function(){function e(l,t,i,r){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"",n=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;(0,_classCallCheck2.default)(this,e),this.value=t,this._name=l,this._ruleID=i,this._secondaryExposures=a,this._allocatedExperimentName=u,this._evaluationDetails=r,this._onDefaultValueFallback=n}return(0,_createClass2.default)(e,[{key:"get",value:function(e,l,t){var i,r=this.getValue(e,l);if(null==r)return l;var a,u=Array.isArray(l)?"array":(0,_typeof2.default)(l),n=Array.isArray(r)?"array":(0,_typeof2.default)(r);return t?t(r)?(this.fireExposure(e),r):(null===(a=this._onDefaultValueFallback)||void 0===a||a.call(this,this,e,u,n),l):null==l||u===n?(this.fireExposure(e),r):(null===(i=this._onDefaultValueFallback)||void 0===i||i.call(this,this,e,u,n),l)}},{key:"getValue",value:function(e,l){return null==e?this.value:(null==l&&(l=null),null==this.value[e]?l:(this.fireExposure(e),this.value[e]))}},{key:"fireExposure",value:function(e){this.experiment&&this.experiment.get(e)}}],[{key:"fromExperiment",value:function(l){var t,i,r=new e(l.name,l.value,l.ruleID,(0,_utils.migrateEvaluationDetails)(l.details),null===(t=l.__evaluation)||void 0===t?void 0:t.secondary_exposures,null!==(i=l.groupName)&&void 0!==i?i:void 0);return r.experiment=l,r}}])}();

},{"../utils":18,"@babel/runtime/helpers/classCallCheck":28,"@babel/runtime/helpers/createClass":30,"@babel/runtime/helpers/interopRequireDefault":35,"@babel/runtime/helpers/typeof":56}],12:[function(require,module,exports){
"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports.Layer=void 0;var _typeof2=_interopRequireDefault(require("@babel/runtime/helpers/typeof")),_classCallCheck2=_interopRequireDefault(require("@babel/runtime/helpers/classCallCheck")),_createClass2=_interopRequireDefault(require("@babel/runtime/helpers/createClass")),_utils=require("../utils"),Layer=exports.Layer=function(){function e(r,t,a,l){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,u=arguments.length>5&&void 0!==arguments[5]?arguments[5]:[],n=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[],o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:"",s=arguments.length>8&&void 0!==arguments[8]?arguments[8]:[];(0,_classCallCheck2.default)(this,e),this._logParameterFunction=i,this._name=r,this._value=JSON.parse(JSON.stringify(null!==t&&void 0!==t?t:{})),this._ruleID=null!==a&&void 0!==a?a:"",this._evaluationDetails=l,this._secondaryExposures=u,this._undelegatedSecondaryExposures=n,this._allocatedExperimentName=o,this._explicitParameters=s}return(0,_createClass2.default)(e,[{key:"get",value:function(e,r,t){var a=this,l=this._value[e];if(null==l)return r;var i=function(){return a._logLayerParameterExposure(e),l};return t?t(l)?i():r:null==r?i():(0,_typeof2.default)(l)===(0,_typeof2.default)(r)&&Array.isArray(r)===Array.isArray(l)?i():r}},{key:"getValue",value:function(e,r){void 0==r&&(r=null);var t=this._value[e];return null!=t&&this._logLayerParameterExposure(e),null!==t&&void 0!==t?t:r}},{key:"_logLayerParameterExposure",value:function(e){var r;null===(r=this._logParameterFunction)||void 0===r||r.call(this,this,e)}}],[{key:"fromLayer",value:function(r){var t,a,l,i;return new e(r.name,r.__value,r.ruleID,(0,_utils.migrateEvaluationDetails)(r.details),function(e,t){return r.get(t)},null===(t=r.__evaluation)||void 0===t?void 0:t.secondary_exposures,null===(a=r.__evaluation)||void 0===a?void 0:a.undelegated_secondary_exposures,null===(l=r.__evaluation)||void 0===l?void 0:l.allocated_experiment_name,null===(i=r.__evaluation)||void 0===i?void 0:i.explicit_parameters)}}])}();

},{"../utils":18,"@babel/runtime/helpers/classCallCheck":28,"@babel/runtime/helpers/createClass":30,"@babel/runtime/helpers/interopRequireDefault":35,"@babel/runtime/helpers/typeof":56}],13:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.EvaluationReason=void 0;var EvaluationReason=exports.EvaluationReason=function(o){return o.Error="Error",o.LocalOverride="LocalOverride",o.Unrecognized="Unrecognized",o.Uninitialized="Uninitialized",o.NetworkNotModified="NetworkNotModified",o.Network="Network",o.InvalidBootstrap="InvalidBootstrap",o.Bootstrap="Bootstrap",o.Cache="Cache",o.Unknown="Unknown",o}({});

},{}],14:[function(require,module,exports){
"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.STAGING_BASE_URL=exports.PROD_BASE_URL=exports.GATEWAY_BASE_URL=exports.FEDM_STAGING_BASE_URL=exports.FEDM_PROD_BASE_URL=exports.DEV_BASE_URL=void 0;var _regenerator=_interopRequireDefault(require("@babel/runtime/regenerator")),_defineProperty2=_interopRequireDefault(require("@babel/runtime/helpers/defineProperty")),_asyncToGenerator2=_interopRequireDefault(require("@babel/runtime/helpers/asyncToGenerator")),_classCallCheck2=_interopRequireDefault(require("@babel/runtime/helpers/classCallCheck")),_createClass2=_interopRequireDefault(require("@babel/runtime/helpers/createClass")),_types=require("../types"),_version=require("../version"),_errors=require("./errors");function ownKeys(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter(function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable})),t.push.apply(t,n)}return t}function _objectSpread(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{};r%2?ownKeys(Object(t),!0).forEach(function(r){(0,_defineProperty2.default)(e,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):ownKeys(Object(t)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(t,r))})}return e}var DEFAULT_REQUEST_TIMEOUT_MS=5e3,PROD_BASE_URL=exports.PROD_BASE_URL="https://api.atlassian.com/flags",STAGING_BASE_URL=exports.STAGING_BASE_URL="https://api.stg.atlassian.com/flags",DEV_BASE_URL=exports.DEV_BASE_URL="https://api.dev.atlassian.com/flags",FEDM_STAGING_BASE_URL=exports.FEDM_STAGING_BASE_URL="https://api.stg.atlassian-us-gov-mod.com/flags",FEDM_PROD_BASE_URL=exports.FEDM_PROD_BASE_URL="https://api.atlassian-us-gov-mod.com/flags",GATEWAY_BASE_URL=exports.GATEWAY_BASE_URL="/gateway/api/flags",Fetcher=exports.default=function(){function e(){(0,_classCallCheck2.default)(this,e)}return(0,_createClass2.default)(e,null,[{key:"fetchClientSdk",value:function(){var e=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(r){var t,n;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=r.targetApp,n="/api/v2/frontend/clientSdkKey/".concat(t),e.prev=2,e.next=5,this.fetchRequest(n,"GET",r);case 5:return e.abrupt("return",e.sent);case 8:if(e.prev=8,e.t0=e.catch(2),!(e.t0 instanceof Error)){e.next=12;break}throw e.t0;case 12:throw Error("Failed to retrieve client sdk key");case 13:case"end":return e.stop()}},e,this,[[2,8]])}));return function(r){return e.apply(this,arguments)}}()},{key:"fetchExperimentValues",value:function(){var e=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(r,t,n){var a;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a={identifiers:t,customAttributes:n,targetApp:r.targetApp},e.prev=1,e.next=4,this.fetchRequest("/api/v2/frontend/experimentValues","POST",r,a);case 4:return e.abrupt("return",e.sent);case 7:if(e.prev=7,e.t0=e.catch(1),!(e.t0 instanceof Error)){e.next=11;break}throw e.t0;case 11:throw Error("Failed to retrieve experiment values");case 12:case"end":return e.stop()}},e,this,[[1,7]])}));return function(r,t,n){return e.apply(this,arguments)}}()},{key:"handleResponseError",value:function(){var e=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(r){var t;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(r.ok){e.next=5;break}return e.next=3,r.text();case 3:throw t=e.sent,new _errors.ResponseError("Non 2xx response status received, status: ".concat(r.status,", body: ").concat(JSON.stringify(t)));case 5:if(204!==r.status){e.next=7;break}throw new _errors.ResponseError("Unexpected 204 response");case 7:case"end":return e.stop()}},e)}));return function(r){return e.apply(this,arguments)}}()},{key:"extractResponseBody",value:function(){var e=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function e(r){var t;return _regenerator.default.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.text();case 2:return t=e.sent,e.abrupt("return",JSON.parse(t));case 4:case"end":return e.stop()}},e)}));return function(r){return e.apply(this,arguments)}}()},{key:"getBaseUrl",value:function(e){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=arguments.length>2?arguments[2]:void 0;if(r)return GATEWAY_BASE_URL;if(t===_types.PerimeterType.FEDRAMP_MODERATE)switch(e){case _types.FeatureGateEnvironment.Production:return FEDM_PROD_BASE_URL;case _types.FeatureGateEnvironment.Staging:return FEDM_STAGING_BASE_URL;default:throw new Error('Invalid environment "'.concat(e,'" for "').concat(t,'" perimeter'))}else{if(t!==_types.PerimeterType.COMMERCIAL)throw new Error('Invalid perimeter "'.concat(t,'"'));switch(e){case _types.FeatureGateEnvironment.Development:return DEV_BASE_URL;case _types.FeatureGateEnvironment.Staging:return STAGING_BASE_URL;default:return PROD_BASE_URL}}}},{key:"fetchRequest",value:function(){var r=(0,_asyncToGenerator2.default)(_regenerator.default.mark(function r(t,n,a,s){var o,i,u,c,p;return _regenerator.default.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return o=e.getBaseUrl(a.environment,a.useGatewayURL,a.perimeter),i=a.fetchTimeoutMs||DEFAULT_REQUEST_TIMEOUT_MS,AbortSignal.timeout?u=AbortSignal.timeout(i):AbortController&&(c=new AbortController,u=c.signal,setTimeout(function(){return c.abort()},i)),r.next=5,fetch("".concat(o).concat(t),_objectSpread({method:n,headers:{"Content-Type":"application/json","X-Client-Name":"feature-gate-js-client","X-Client-Version":_version.CLIENT_VERSION,"X-API-KEY":a.apiKey},signal:u},s&&{body:JSON.stringify(s)}));case 5:return p=r.sent,r.next=8,this.handleResponseError(p);case 8:return r.next=10,this.extractResponseBody(p);case 10:return r.abrupt("return",r.sent);case 11:case"end":return r.stop()}},r,this)}));return function(e,t,n,a){return r.apply(this,arguments)}}()}])}();

},{"../types":17,"../version":19,"./errors":15,"@babel/runtime/helpers/asyncToGenerator":27,"@babel/runtime/helpers/classCallCheck":28,"@babel/runtime/helpers/createClass":30,"@babel/runtime/helpers/defineProperty":31,"@babel/runtime/helpers/interopRequireDefault":35,"@babel/runtime/regenerator":59}],15:[function(require,module,exports){
"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports.ResponseError=void 0;var _createClass2=_interopRequireDefault(require("@babel/runtime/helpers/createClass")),_classCallCheck2=_interopRequireDefault(require("@babel/runtime/helpers/classCallCheck")),_possibleConstructorReturn2=_interopRequireDefault(require("@babel/runtime/helpers/possibleConstructorReturn")),_getPrototypeOf2=_interopRequireDefault(require("@babel/runtime/helpers/getPrototypeOf")),_inherits2=_interopRequireDefault(require("@babel/runtime/helpers/inherits")),_wrapNativeSuper2=_interopRequireDefault(require("@babel/runtime/helpers/wrapNativeSuper"));function _callSuper(e,r,t){return r=(0,_getPrototypeOf2.default)(r),(0,_possibleConstructorReturn2.default)(e,_isNativeReflectConstruct()?Reflect.construct(r,t||[],(0,_getPrototypeOf2.default)(e).constructor):r.apply(e,t))}function _isNativeReflectConstruct(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(_isNativeReflectConstruct=function(){return!!e})()}var ResponseError=exports.ResponseError=function(e){function r(e){return(0,_classCallCheck2.default)(this,r),_callSuper(this,r,[e])}return(0,_inherits2.default)(r,e),(0,_createClass2.default)(r)}((0,_wrapNativeSuper2.default)(Error));

},{"@babel/runtime/helpers/classCallCheck":28,"@babel/runtime/helpers/createClass":30,"@babel/runtime/helpers/getPrototypeOf":33,"@babel/runtime/helpers/inherits":34,"@babel/runtime/helpers/interopRequireDefault":35,"@babel/runtime/helpers/possibleConstructorReturn":42,"@babel/runtime/helpers/wrapNativeSuper":58}],16:[function(require,module,exports){
"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"default",{enumerable:!0,get:function(){return _Fetcher.default}});var _Fetcher=_interopRequireDefault(require("./Fetcher"));

},{"./Fetcher":14,"@babel/runtime/helpers/interopRequireDefault":35}],17:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.PerimeterType=exports.NON_BOOLEAN_VALUE=exports.FeatureGateEnvironment=void 0;var FeatureGateEnvironment=exports.FeatureGateEnvironment=function(e){return e.Development="development",e.Staging="staging",e.Production="production",e}({}),PerimeterType=exports.PerimeterType=function(e){return e.COMMERCIAL="commercial",e.FEDRAMP_MODERATE="fedramp-moderate",e}({}),NON_BOOLEAN_VALUE=exports.NON_BOOLEAN_VALUE="non_boolean";

},{}],18:[function(require,module,exports){
"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports.toStatsigUser=exports.shallowEquals=exports.migrateInitializationOptions=exports.migrateEvaluationDetails=exports.getOptionsWithDefaults=void 0;var _objectWithoutProperties2=_interopRequireDefault(require("@babel/runtime/helpers/objectWithoutProperties")),_slicedToArray2=_interopRequireDefault(require("@babel/runtime/helpers/slicedToArray")),_defineProperty2=_interopRequireDefault(require("@babel/runtime/helpers/defineProperty")),_jsClient=require("@statsig/js-client"),_atlassianContext=require("@atlaskit/atlassian-context"),_types=require("./compat/types"),_types2=require("./types"),_excluded=["api","disableCurrentPageLogging","loggingIntervalMillis","loggingBufferMaxSize","localMode","eventLoggingApi","eventLoggingApiForRetries","disableLocalStorage","ignoreWindowUndefined","disableAllLogging","initTimeoutMs","disableNetworkKeepalive","overrideStableID","disableErrorLogging","disableAutoMetricsLogging"];function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,i)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach(function(t){(0,_defineProperty2.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var getOptionsWithDefaults=exports.getOptionsWithDefaults=function(e){return _objectSpread({perimeter:(0,_atlassianContext.isFedRamp)()?_types2.PerimeterType.FEDRAMP_MODERATE:_types2.PerimeterType.COMMERCIAL},e)},shallowEquals=exports.shallowEquals=function(e,t){if(!e&&!t)return!0;if(!e||!t)return!1;var r=Object.entries(e),i=Object.entries(t);if(r.length!==i.length)return!1;var o=function(e,t){var r=(0,_slicedToArray2.default)(e,1)[0],i=(0,_slicedToArray2.default)(t,1)[0];return r.localeCompare(i)};r.sort(o),i.sort(o);for(var n=0;n<r.length;n++){if((0,_slicedToArray2.default)(r[n],2)[1]!==(0,_slicedToArray2.default)(i[n],2)[1])return!1}return!0},toStatsigUser=exports.toStatsigUser=function(e,t,r){var i={customIDs:null!==t&&void 0!==t&&t.stableID||!r?e:_objectSpread({stableID:_jsClient.StableID.get(r)},e),custom:t};return e.atlassianAccountId&&(i.userID=e.atlassianAccountId),i},migrateInitializationOptions=exports.migrateInitializationOptions=function(e){var t=e.api,r=e.disableCurrentPageLogging,i=e.loggingIntervalMillis,o=e.loggingBufferMaxSize,n=e.localMode,a=e.eventLoggingApi,l=e.eventLoggingApiForRetries,s=e.disableLocalStorage,u=e.ignoreWindowUndefined,g=e.disableAllLogging;e.initTimeoutMs,e.disableNetworkKeepalive,e.overrideStableID,e.disableErrorLogging,e.disableAutoMetricsLogging;return _objectSpread(_objectSpread({},(0,_objectWithoutProperties2.default)(e,_excluded)),{},{networkConfig:{api:t,logEventUrl:a?a+"rgstr":void 0,logEventFallbackUrls:l?[l]:void 0,preventAllNetworkTraffic:n||!u&&"undefined"==typeof window},includeCurrentPageUrlWithEvents:!r,loggingIntervalMs:i,loggingBufferMaxSize:o,disableStorage:void 0===s?n:s,disableLogging:void 0===g?n:g})},evaluationReasonMappings=Object.entries(_types.EvaluationReason).map(function(e){var t=(0,_slicedToArray2.default)(e,2),r=t[0],i=t[1];return[r.toLowerCase(),i]}),migrateEvaluationDetails=exports.migrateEvaluationDetails=function(e){var t,r,i,o=e.reason.toLowerCase();return{reason:null!==(t=null===(r=evaluationReasonMappings.find(function(e){var t=(0,_slicedToArray2.default)(e,1)[0];return o.includes(t)}))||void 0===r?void 0:r[1])&&void 0!==t?t:_types.EvaluationReason.Unknown,time:null!==(i=e.receivedAt)&&void 0!==i?i:Date.now()}};

},{"./compat/types":13,"./types":17,"@atlaskit/atlassian-context":4,"@babel/runtime/helpers/defineProperty":31,"@babel/runtime/helpers/interopRequireDefault":35,"@babel/runtime/helpers/objectWithoutProperties":40,"@babel/runtime/helpers/slicedToArray":52,"@statsig/js-client":110}],19:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.CLIENT_VERSION=void 0;var CLIENT_VERSION=exports.CLIENT_VERSION="4.26.5";

},{}],20:[function(require,module,exports){
"use strict";var _typeof=require("@babel/runtime/helpers/typeof");Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"CLIENT_VERSION",{enumerable:!0,get:function(){return _FeatureGates.CLIENT_VERSION}}),Object.defineProperty(exports,"DynamicConfig",{enumerable:!0,get:function(){return _DynamicConfig.DynamicConfig}}),Object.defineProperty(exports,"EvaluationReason",{enumerable:!0,get:function(){return _types.EvaluationReason}}),Object.defineProperty(exports,"FeatureGateEnvironment",{enumerable:!0,get:function(){return _FeatureGates.FeatureGateEnvironment}}),Object.defineProperty(exports,"Layer",{enumerable:!0,get:function(){return _Layer.Layer}}),Object.defineProperty(exports,"PerimeterType",{enumerable:!0,get:function(){return _FeatureGates.PerimeterType}}),Object.defineProperty(exports,"default",{enumerable:!0,get:function(){return _FeatureGates.default}});var _FeatureGates=_interopRequireWildcard(require("./client/FeatureGates")),_DynamicConfig=require("./client/compat/DynamicConfig"),_Layer=require("./client/compat/Layer"),_types=require("./client/compat/types");function _getRequireWildcardCache(e){if("function"!=typeof WeakMap)return null;var r=new WeakMap,t=new WeakMap;return(_getRequireWildcardCache=function(e){return e?t:r})(e)}function _interopRequireWildcard(e,r){if(!r&&e&&e.__esModule)return e;if(null===e||"object"!=_typeof(e)&&"function"!=typeof e)return{default:e};var t=_getRequireWildcardCache(r);if(t&&t.has(e))return t.get(e);var n={__proto__:null},a=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var i in e)if("default"!==i&&{}.hasOwnProperty.call(e,i)){var u=a?Object.getOwnPropertyDescriptor(e,i):null;u&&(u.get||u.set)?Object.defineProperty(n,i,u):n[i]=e[i]}return n.default=e,t&&t.set(e,n),n}

},{"./client/FeatureGates":8,"./client/compat/DynamicConfig":11,"./client/compat/Layer":12,"./client/compat/types":13,"@babel/runtime/helpers/typeof":56}],21:[function(require,module,exports){
"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.ALL_FEATURE_VALUES=void 0;var _classCallCheck2=_interopRequireDefault(require("@babel/runtime/helpers/classCallCheck")),_createClass2=_interopRequireDefault(require("@babel/runtime/helpers/createClass")),_defineProperty2=_interopRequireDefault(require("@babel/runtime/helpers/defineProperty")),_eventemitter=require("eventemitter2");function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach(function(t){(0,_defineProperty2.default)(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}var ALL_FEATURE_VALUES=exports.ALL_FEATURE_VALUES="@all-features",Subscriptions=exports.default=function(){return(0,_createClass2.default)(function e(){(0,_classCallCheck2.default)(this,e),(0,_defineProperty2.default)(this,"eventToValue",new Map),this.emitter=new _eventemitter.EventEmitter2},[{key:"onGateUpdated",value:function(e,t,r,n){var i=this,o=r(e,_objectSpread(_objectSpread({},n),{},{fireGateExposure:!1}));void 0===this.eventToValue.get(t)&&this.eventToValue.set(t,o);var a=function(){var o=r(e,_objectSpread(_objectSpread({},n),{},{fireGateExposure:!1}));i.eventToValue.get(t)!==o&&(i.eventToValue.set(t,o),t(o))};return this.emitter.on(e,a),function(){i.emitter.off(e,a)}}},{key:"onExperimentValueUpdated",value:function(e,t,r,n,i,o){var a=this,u="".concat(e,".").concat(t),s=i(e,t,r,_objectSpread(_objectSpread({},o),{},{fireExperimentExposure:!1}));void 0===this.eventToValue.get(n)&&this.eventToValue.set(n,s);var c=function(){var u=i(e,t,r,_objectSpread(_objectSpread({},o),{},{fireExperimentExposure:!1}));a.eventToValue.get(n)!==u&&(a.eventToValue.set(n,u),n(u))};return this.emitter.on(u,c),function(){a.emitter.off(u,c)}}},{key:"onAnyUpdated",value:function(e){var t=this;return this.emitter.on(ALL_FEATURE_VALUES,e),function(){t.emitter.off(ALL_FEATURE_VALUES,e)}}},{key:"anyUpdated",value:function(){var e=this;this.emitter.emit(ALL_FEATURE_VALUES),this.emitter.eventNames().filter(function(e){return e!==ALL_FEATURE_VALUES}).forEach(function(t){e.emitter.emit(t)})}}])}();

},{"@babel/runtime/helpers/classCallCheck":28,"@babel/runtime/helpers/createClass":30,"@babel/runtime/helpers/defineProperty":31,"@babel/runtime/helpers/interopRequireDefault":35,"eventemitter2":111}],22:[function(require,module,exports){
"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),Object.defineProperty(exports,"default",{enumerable:!0,get:function(){return _Subscriptions.default}});var _Subscriptions=_interopRequireDefault(require("./Subscriptions"));

},{"./Subscriptions":21,"@babel/runtime/helpers/interopRequireDefault":35}],23:[function(require,module,exports){
function _OverloadYield(e,o){this.v=e,this.k=o}module.exports=_OverloadYield,module.exports.__esModule=!0,module.exports.default=module.exports;

},{}],24:[function(require,module,exports){
function _arrayLikeToArray(r,e){(null==e||e>r.length)&&(e=r.length);for(var o=0,l=Array(e);o<e;o++)l[o]=r[o];return l}module.exports=_arrayLikeToArray,module.exports.__esModule=!0,module.exports.default=module.exports;

},{}],25:[function(require,module,exports){
function _arrayWithHoles(e){if(Array.isArray(e))return e}module.exports=_arrayWithHoles,module.exports.__esModule=!0,module.exports.default=module.exports;

},{}],26:[function(require,module,exports){
function _assertThisInitialized(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}module.exports=_assertThisInitialized,module.exports.__esModule=!0,module.exports.default=module.exports;

},{}],27:[function(require,module,exports){
function asyncGeneratorStep(e,n,o,r,t,a,u){try{var s=e[a](u),c=s.value}catch(e){return void o(e)}s.done?n(c):Promise.resolve(c).then(r,t)}function _asyncToGenerator(e){return function(){var n=this,o=arguments;return new Promise(function(r,t){var a=e.apply(n,o);function u(e){asyncGeneratorStep(a,r,t,u,s,"next",e)}function s(e){asyncGeneratorStep(a,r,t,u,s,"throw",e)}u(void 0)})}}module.exports=_asyncToGenerator,module.exports.__esModule=!0,module.exports.default=module.exports;

},{}],28:[function(require,module,exports){
function _classCallCheck(e,l){if(!(e instanceof l))throw new TypeError("Cannot call a class as a function")}module.exports=_classCallCheck,module.exports.__esModule=!0,module.exports.default=module.exports;

},{}],29:[function(require,module,exports){
var isNativeReflectConstruct=require("./isNativeReflectConstruct.js"),setPrototypeOf=require("./setPrototypeOf.js");function _construct(t,e,r){if(isNativeReflectConstruct())return Reflect.construct.apply(null,arguments);var o=[null];o.push.apply(o,e);var s=new(t.bind.apply(t,o));return r&&setPrototypeOf(s,r.prototype),s}module.exports=_construct,module.exports.__esModule=!0,module.exports.default=module.exports;

},{"./isNativeReflectConstruct.js":37,"./setPrototypeOf.js":51}],30:[function(require,module,exports){
var toPropertyKey=require("./toPropertyKey.js");function _defineProperties(e,r){for(var t=0;t<r.length;t++){var o=r[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,toPropertyKey(o.key),o)}}function _createClass(e,r,t){return r&&_defineProperties(e.prototype,r),t&&_defineProperties(e,t),Object.defineProperty(e,"prototype",{writable:!1}),e}module.exports=_createClass,module.exports.__esModule=!0,module.exports.default=module.exports;

},{"./toPropertyKey.js":55}],31:[function(require,module,exports){
var toPropertyKey=require("./toPropertyKey.js");function _defineProperty(e,r,o){return(r=toPropertyKey(r))in e?Object.defineProperty(e,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):e[r]=o,e}module.exports=_defineProperty,module.exports.__esModule=!0,module.exports.default=module.exports;

},{"./toPropertyKey.js":55}],32:[function(require,module,exports){
var superPropBase=require("./superPropBase.js");function _get(){return module.exports=_get="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,r){var o=superPropBase(e,t);if(o){var u=Object.getOwnPropertyDescriptor(o,t);return u.get?u.get.call(arguments.length<3?e:r):u.value}},module.exports.__esModule=!0,module.exports.default=module.exports,_get.apply(null,arguments)}module.exports=_get,module.exports.__esModule=!0,module.exports.default=module.exports;

},{"./superPropBase.js":53}],33:[function(require,module,exports){
function _getPrototypeOf(e){return module.exports=_getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},module.exports.__esModule=!0,module.exports.default=module.exports,_getPrototypeOf(e)}module.exports=_getPrototypeOf,module.exports.__esModule=!0,module.exports.default=module.exports;

},{}],34:[function(require,module,exports){
var setPrototypeOf=require("./setPrototypeOf.js");function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&setPrototypeOf(e,t)}module.exports=_inherits,module.exports.__esModule=!0,module.exports.default=module.exports;

},{"./setPrototypeOf.js":51}],35:[function(require,module,exports){
function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}module.exports=_interopRequireDefault,module.exports.__esModule=!0,module.exports.default=module.exports;

},{}],36:[function(require,module,exports){
function _isNativeFunction(t){try{return-1!==Function.toString.call(t).indexOf("[native code]")}catch(e){return"function"==typeof t}}module.exports=_isNativeFunction,module.exports.__esModule=!0,module.exports.default=module.exports;

},{}],37:[function(require,module,exports){
function _isNativeReflectConstruct(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(e){}return(module.exports=_isNativeReflectConstruct=function(){return!!e},module.exports.__esModule=!0,module.exports.default=module.exports)()}module.exports=_isNativeReflectConstruct,module.exports.__esModule=!0,module.exports.default=module.exports;

},{}],38:[function(require,module,exports){
function _iterableToArrayLimit(e,r){var l=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=l){var t,o,u,n,i=[],a=!0,f=!1;try{if(u=(l=l.call(e)).next,0===r){if(Object(l)!==l)return;a=!1}else for(;!(a=(t=u.call(l)).done)&&(i.push(t.value),i.length!==r);a=!0);}catch(e){f=!0,o=e}finally{try{if(!a&&null!=l.return&&(n=l.return(),Object(n)!==n))return}finally{if(f)throw o}}return i}}module.exports=_iterableToArrayLimit,module.exports.__esModule=!0,module.exports.default=module.exports;

},{}],39:[function(require,module,exports){
function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}module.exports=_nonIterableRest,module.exports.__esModule=!0,module.exports.default=module.exports;

},{}],40:[function(require,module,exports){
var objectWithoutPropertiesLoose=require("./objectWithoutPropertiesLoose.js");function _objectWithoutProperties(e,o){if(null==e)return{};var t,r,s=objectWithoutPropertiesLoose(e,o);if(Object.getOwnPropertySymbols){var u=Object.getOwnPropertySymbols(e);for(r=0;r<u.length;r++)t=u[r],-1===o.indexOf(t)&&{}.propertyIsEnumerable.call(e,t)&&(s[t]=e[t])}return s}module.exports=_objectWithoutProperties,module.exports.__esModule=!0,module.exports.default=module.exports;

},{"./objectWithoutPropertiesLoose.js":41}],41:[function(require,module,exports){
function _objectWithoutPropertiesLoose(e,o){if(null==e)return{};var t={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==o.indexOf(r))continue;t[r]=e[r]}return t}module.exports=_objectWithoutPropertiesLoose,module.exports.__esModule=!0,module.exports.default=module.exports;

},{}],42:[function(require,module,exports){
var _typeof=require("./typeof.js").default,assertThisInitialized=require("./assertThisInitialized.js");function _possibleConstructorReturn(e,r){if(r&&("object"==_typeof(r)||"function"==typeof r))return r;if(void 0!==r)throw new TypeError("Derived constructors may only return object or undefined");return assertThisInitialized(e)}module.exports=_possibleConstructorReturn,module.exports.__esModule=!0,module.exports.default=module.exports;

},{"./assertThisInitialized.js":26,"./typeof.js":56}],43:[function(require,module,exports){
var regeneratorDefine=require("./regeneratorDefine.js");function _regenerator(){var e,r,t="function"==typeof Symbol?Symbol:{},o=t.iterator||"@@iterator",n=t.toStringTag||"@@toStringTag";function i(t,o,n,i){var f=o&&o.prototype instanceof u?o:u,c=Object.create(f.prototype);return regeneratorDefine(c,"_invoke",function(t,o,n){var i,u,f,c=0,p=n||[],l=!1,s={p:0,n:0,v:e,a:g,f:g.bind(e,4),d:function(r,t){return i=r,u=0,f=e,s.n=t,a}};function g(t,o){for(u=t,f=o,r=0;!l&&c&&!n&&r<p.length;r++){var n,i=p[r],g=s.p,d=i[2];t>3?(n=d===o)&&(f=i[(u=i[4])?5:(u=3,3)],i[4]=i[5]=e):i[0]<=g&&((n=t<2&&g<i[1])?(u=0,s.v=o,s.n=i[1]):g<d&&(n=t<3||i[0]>o||o>d)&&(i[4]=t,i[5]=o,s.n=d,u=0))}if(n||t>1)return a;throw l=!0,o}return function(n,p,d){if(c>1)throw TypeError("Generator is already running");for(l&&1===p&&g(p,d),u=p,f=d;(r=u<2?e:f)||!l;){i||(u?u<3?(u>1&&(s.n=-1),g(u,f)):s.n=f:s.v=f);try{if(c=2,i){if(u||(n="next"),r=i[n]){if(!(r=r.call(i,f)))throw TypeError("iterator result is not an object");if(!r.done)return r;f=r.value,u<2&&(u=0)}else 1===u&&(r=i.return)&&r.call(i),u<2&&(f=TypeError("The iterator does not provide a '"+n+"' method"),u=1);i=e}else if((r=(l=s.n<0)?f:t.call(o,s))!==a)break}catch(r){i=e,u=1,f=r}finally{c=1}}return{value:r,done:l}}}(t,n,i),!0),c}var a={};function u(){}function f(){}function c(){}r=Object.getPrototypeOf;var p=[][o]?r(r([][o]())):(regeneratorDefine(r={},o,function(){return this}),r),l=c.prototype=u.prototype=Object.create(p);function s(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,c):(e.__proto__=c,regeneratorDefine(e,n,"GeneratorFunction")),e.prototype=Object.create(l),e}return f.prototype=c,regeneratorDefine(l,"constructor",c),regeneratorDefine(c,"constructor",f),f.displayName="GeneratorFunction",regeneratorDefine(c,n,"GeneratorFunction"),regeneratorDefine(l),regeneratorDefine(l,n,"Generator"),regeneratorDefine(l,o,function(){return this}),regeneratorDefine(l,"toString",function(){return"[object Generator]"}),(module.exports=_regenerator=function(){return{w:i,m:s}},module.exports.__esModule=!0,module.exports.default=module.exports)()}module.exports=_regenerator,module.exports.__esModule=!0,module.exports.default=module.exports;

},{"./regeneratorDefine.js":47}],44:[function(require,module,exports){
var regeneratorAsyncGen=require("./regeneratorAsyncGen.js");function _regeneratorAsync(e,r,n,o,t){var u=regeneratorAsyncGen(e,r,n,o,t);return u.next().then(function(e){return e.done?e.value:u.next()})}module.exports=_regeneratorAsync,module.exports.__esModule=!0,module.exports.default=module.exports;

},{"./regeneratorAsyncGen.js":45}],45:[function(require,module,exports){
var regenerator=require("./regenerator.js"),regeneratorAsyncIterator=require("./regeneratorAsyncIterator.js");function _regeneratorAsyncGen(e,r,o,t,n){return new regeneratorAsyncIterator(regenerator().w(e,r,o,t),n||Promise)}module.exports=_regeneratorAsyncGen,module.exports.__esModule=!0,module.exports.default=module.exports;

},{"./regenerator.js":43,"./regeneratorAsyncIterator.js":46}],46:[function(require,module,exports){
var OverloadYield=require("./OverloadYield.js"),regeneratorDefine=require("./regeneratorDefine.js");function AsyncIterator(e,r){function t(n,o,i,u){try{var a=e[n](o),c=a.value;return c instanceof OverloadYield?r.resolve(c.v).then(function(e){t("next",e,i,u)},function(e){t("throw",e,i,u)}):r.resolve(c).then(function(e){a.value=e,i(a)},function(e){return t("throw",e,i,u)})}catch(e){u(e)}}var n;this.next||(regeneratorDefine(AsyncIterator.prototype),regeneratorDefine(AsyncIterator.prototype,"function"==typeof Symbol&&Symbol.asyncIterator||"@asyncIterator",function(){return this})),regeneratorDefine(this,"_invoke",function(e,o,i){function u(){return new r(function(r,n){t(e,i,r,n)})}return n=n?n.then(u,u):u()},!0)}module.exports=AsyncIterator,module.exports.__esModule=!0,module.exports.default=module.exports;

},{"./OverloadYield.js":23,"./regeneratorDefine.js":47}],47:[function(require,module,exports){
function _regeneratorDefine(e,r,o,t){var n=Object.defineProperty;try{n({},"",{})}catch(e){n=0}module.exports=_regeneratorDefine=function(e,r,o,t){function u(r,o){_regeneratorDefine(e,r,function(e){return this._invoke(r,o,e)})}r?n?n(e,r,{value:o,enumerable:!t,configurable:!t,writable:!t}):e[r]=o:(u("next",0),u("throw",1),u("return",2))},module.exports.__esModule=!0,module.exports.default=module.exports,_regeneratorDefine(e,r,o,t)}module.exports=_regeneratorDefine,module.exports.__esModule=!0,module.exports.default=module.exports;

},{}],48:[function(require,module,exports){
function _regeneratorKeys(e){var r=Object(e),o=[];for(var n in r)o.unshift(n);return function e(){for(;o.length;)if((n=o.pop())in r)return e.value=n,e.done=!1,e;return e.done=!0,e}}module.exports=_regeneratorKeys,module.exports.__esModule=!0,module.exports.default=module.exports;

},{}],49:[function(require,module,exports){
var OverloadYield=require("./OverloadYield.js"),regenerator=require("./regenerator.js"),regeneratorAsync=require("./regeneratorAsync.js"),regeneratorAsyncGen=require("./regeneratorAsyncGen.js"),regeneratorAsyncIterator=require("./regeneratorAsyncIterator.js"),regeneratorKeys=require("./regeneratorKeys.js"),regeneratorValues=require("./regeneratorValues.js");function _regeneratorRuntime(){"use strict";var e=regenerator(),r=e.m(_regeneratorRuntime),t=(Object.getPrototypeOf?Object.getPrototypeOf(r):r.__proto__).constructor;function n(e){var r="function"==typeof e&&e.constructor;return!!r&&(r===t||"GeneratorFunction"===(r.displayName||r.name))}var o={throw:1,return:2,break:3,continue:3};function u(e){var r,t;return function(n){r||(r={stop:function(){return t(n.a,2)},catch:function(){return n.v},abrupt:function(e,r){return t(n.a,o[e],r)},delegateYield:function(e,o,u){return r.resultName=o,t(n.d,regeneratorValues(e),u)},finish:function(e){return t(n.f,e)}},t=function(e,t,o){n.p=r.prev,n.n=r.next;try{return e(t,o)}finally{r.next=n.n}}),r.resultName&&(r[r.resultName]=n.v,r.resultName=void 0),r.sent=n.v,r.next=n.n;try{return e.call(this,r)}finally{n.p=r.prev,n.n=r.next}}}return(module.exports=_regeneratorRuntime=function(){return{wrap:function(r,t,n,o){return e.w(u(r),t,n,o&&o.reverse())},isGeneratorFunction:n,mark:e.m,awrap:function(e,r){return new OverloadYield(e,r)},AsyncIterator:regeneratorAsyncIterator,async:function(e,r,t,o,a){return(n(r)?regeneratorAsyncGen:regeneratorAsync)(u(e),r,t,o,a)},keys:regeneratorKeys,values:regeneratorValues}},module.exports.__esModule=!0,module.exports.default=module.exports)()}module.exports=_regeneratorRuntime,module.exports.__esModule=!0,module.exports.default=module.exports;

},{"./OverloadYield.js":23,"./regenerator.js":43,"./regeneratorAsync.js":44,"./regeneratorAsyncGen.js":45,"./regeneratorAsyncIterator.js":46,"./regeneratorKeys.js":48,"./regeneratorValues.js":50}],50:[function(require,module,exports){
var _typeof=require("./typeof.js").default;function _regeneratorValues(e){if(null!=e){var t=e["function"==typeof Symbol&&Symbol.iterator||"@@iterator"],r=0;if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length))return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}}}throw new TypeError(_typeof(e)+" is not iterable")}module.exports=_regeneratorValues,module.exports.__esModule=!0,module.exports.default=module.exports;

},{"./typeof.js":56}],51:[function(require,module,exports){
function _setPrototypeOf(e,t){return module.exports=_setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},module.exports.__esModule=!0,module.exports.default=module.exports,_setPrototypeOf(e,t)}module.exports=_setPrototypeOf,module.exports.__esModule=!0,module.exports.default=module.exports;

},{}],52:[function(require,module,exports){
var arrayWithHoles=require("./arrayWithHoles.js"),iterableToArrayLimit=require("./iterableToArrayLimit.js"),unsupportedIterableToArray=require("./unsupportedIterableToArray.js"),nonIterableRest=require("./nonIterableRest.js");function _slicedToArray(e,r){return arrayWithHoles(e)||iterableToArrayLimit(e,r)||unsupportedIterableToArray(e,r)||nonIterableRest()}module.exports=_slicedToArray,module.exports.__esModule=!0,module.exports.default=module.exports;

},{"./arrayWithHoles.js":25,"./iterableToArrayLimit.js":38,"./nonIterableRest.js":39,"./unsupportedIterableToArray.js":57}],53:[function(require,module,exports){
var getPrototypeOf=require("./getPrototypeOf.js");function _superPropBase(e,o){for(;!{}.hasOwnProperty.call(e,o)&&null!==(e=getPrototypeOf(e)););return e}module.exports=_superPropBase,module.exports.__esModule=!0,module.exports.default=module.exports;

},{"./getPrototypeOf.js":33}],54:[function(require,module,exports){
var _typeof=require("./typeof.js").default;function toPrimitive(e,t){if("object"!=_typeof(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,t||"default");if("object"!=_typeof(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}module.exports=toPrimitive,module.exports.__esModule=!0,module.exports.default=module.exports;

},{"./typeof.js":56}],55:[function(require,module,exports){
var _typeof=require("./typeof.js").default,toPrimitive=require("./toPrimitive.js");function toPropertyKey(e){var t=toPrimitive(e,"string");return"symbol"==_typeof(t)?t:t+""}module.exports=toPropertyKey,module.exports.__esModule=!0,module.exports.default=module.exports;

},{"./toPrimitive.js":54,"./typeof.js":56}],56:[function(require,module,exports){
function _typeof(o){"@babel/helpers - typeof";return module.exports=_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o},module.exports.__esModule=!0,module.exports.default=module.exports,_typeof(o)}module.exports=_typeof,module.exports.__esModule=!0,module.exports.default=module.exports;

},{}],57:[function(require,module,exports){
var arrayLikeToArray=require("./arrayLikeToArray.js");function _unsupportedIterableToArray(r,e){if(r){if("string"==typeof r)return arrayLikeToArray(r,e);var o={}.toString.call(r).slice(8,-1);return"Object"===o&&r.constructor&&(o=r.constructor.name),"Map"===o||"Set"===o?Array.from(r):"Arguments"===o||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o)?arrayLikeToArray(r,e):void 0}}module.exports=_unsupportedIterableToArray,module.exports.__esModule=!0,module.exports.default=module.exports;

},{"./arrayLikeToArray.js":24}],58:[function(require,module,exports){
var getPrototypeOf=require("./getPrototypeOf.js"),setPrototypeOf=require("./setPrototypeOf.js"),isNativeFunction=require("./isNativeFunction.js"),construct=require("./construct.js");function _wrapNativeSuper(e){var t="function"==typeof Map?new Map:void 0;return module.exports=_wrapNativeSuper=function(e){if(null===e||!isNativeFunction(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return construct(e,arguments,getPrototypeOf(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),setPrototypeOf(r,e)},module.exports.__esModule=!0,module.exports.default=module.exports,_wrapNativeSuper(e)}module.exports=_wrapNativeSuper,module.exports.__esModule=!0,module.exports.default=module.exports;

},{"./construct.js":29,"./getPrototypeOf.js":33,"./isNativeFunction.js":36,"./setPrototypeOf.js":51}],59:[function(require,module,exports){
var runtime=require("../helpers/regeneratorRuntime")();module.exports=runtime;try{regeneratorRuntime=runtime}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=runtime:Function("r","regeneratorRuntime = r")(runtime)}

},{"../helpers/regeneratorRuntime":49}],60:[function(require,module,exports){
(function (global){(function (){
"use strict";var _a,_b,_c;Object.defineProperty(exports,"__esModule",{value:!0}),exports._getInstance=exports._getStatsigGlobalFlag=exports._getStatsigGlobal=void 0;const Log_1=require("./Log"),_getStatsigGlobal=()=>{try{return"undefined"!=typeof __STATSIG__?__STATSIG__:statsigGlobal}catch(t){return statsigGlobal}};exports._getStatsigGlobal=_getStatsigGlobal;const _getStatsigGlobalFlag=t=>(0,exports._getStatsigGlobal)()[t];exports._getStatsigGlobalFlag=_getStatsigGlobalFlag;const _getInstance=t=>{const e=(0,exports._getStatsigGlobal)();return t?e.instances&&e.instances[t]:(e.instances&&Object.keys(e.instances).length>1&&Log_1.Log.warn("Call made to Statsig global instance without an SDK key but there is more than one client instance. If you are using mulitple clients, please specify the SDK key."),e.firstInstance)};exports._getInstance=_getInstance;const GLOBAL_KEY="__STATSIG__",_window="undefined"!=typeof window?window:{},_global="undefined"!=typeof global?global:{},_globalThis="undefined"!=typeof globalThis?globalThis:{},statsigGlobal=null!==(_c=null!==(_b=null!==(_a=_window.__STATSIG__)&&void 0!==_a?_a:_global.__STATSIG__)&&void 0!==_b?_b:_globalThis.__STATSIG__)&&void 0!==_c?_c:{instance:exports._getInstance};_window.__STATSIG__=statsigGlobal,_global.__STATSIG__=statsigGlobal,_globalThis.__STATSIG__=statsigGlobal;

}).call(this)}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"./Log":73}],61:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports._getStorageKey=exports._getUserStorageKey=void 0;const Hashing_1=require("./Hashing");function _getUserStorageKey(e,t,r){var o;if(r)return r(e,t);const s=t&&t.customIDs?t.customIDs:{},g=[`uid:${null!==(o=null===t||void 0===t?void 0:t.userID)&&void 0!==o?o:""}`,`cids:${Object.keys(s).sort((e,t)=>e.localeCompare(t)).map(e=>`${e}-${s[e]}`).join(",")}`,`k:${e}`];return(0,Hashing_1._DJB2)(g.join("|"))}function _getStorageKey(e,t,r){return t?_getUserStorageKey(e,t,r):(0,Hashing_1._DJB2)(`k:${e}`)}exports._getUserStorageKey=_getUserStorageKey,exports._getStorageKey=_getStorageKey;

},{"./Hashing":71}],62:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});

},{}],63:[function(require,module,exports){
"use strict";var __awaiter=this&&this.__awaiter||function(e,t,a,r){return new(a||(a=Promise))(function(s,o){function i(e){try{l(r.next(e))}catch(e){o(e)}}function n(e){try{l(r.throw(e))}catch(e){o(e)}}function l(e){var t;e.done?s(e.value):(t=e.value,t instanceof a?t:new a(function(e){e(t)})).then(i,n)}l((r=r.apply(e,t||[])).next())})};Object.defineProperty(exports,"__esModule",{value:!0}),exports._makeDataAdapterResult=exports.DataAdapterCore=void 0;const Log_1=require("./Log"),StableID_1=require("./StableID"),StatsigUser_1=require("./StatsigUser"),StorageProvider_1=require("./StorageProvider"),TypedJsonParse_1=require("./TypedJsonParse"),CACHE_LIMIT=10;class DataAdapterCore{constructor(e,t){this._adapterName=e,this._cacheSuffix=t,this._options=null,this._sdkKey=null,this._lastModifiedStoreKey=`statsig.last_modified_time.${t}`,this._inMemoryCache=new InMemoryCache}attach(e,t,a){this._sdkKey=e,this._options=t}getDataSync(e){const t=e&&(0,StatsigUser_1._normalizeUser)(e,this._options),a=this._getCacheKey(t),r=this._inMemoryCache.get(a,t);if(r&&this._getIsCacheValueValid(r))return r;const s=this._loadFromCache(a);return s&&this._getIsCacheValueValid(s)?(this._inMemoryCache.add(a,s),this._inMemoryCache.get(a,t)):null}setData(e,t){const a=t&&(0,StatsigUser_1._normalizeUser)(t,this._options),r=this._getCacheKey(a);this._inMemoryCache.add(r,_makeDataAdapterResult("Bootstrap",e,null,a))}_getIsCacheValueValid(e){return null==e.stableID||e.stableID===StableID_1.StableID.get(this._getSdkKey())}_getDataAsyncImpl(e,t,a){return __awaiter(this,void 0,void 0,function*(){StorageProvider_1.Storage.isReady()||(yield StorageProvider_1.Storage.isReadyResolver());const r=null!==e&&void 0!==e?e:this.getDataSync(t),s=[this._fetchAndPrepFromNetwork(r,t,a)];return(null===a||void 0===a?void 0:a.timeoutMs)&&s.push(new Promise(e=>setTimeout(e,a.timeoutMs)).then(()=>(Log_1.Log.debug("Fetching latest value timed out"),null))),yield Promise.race(s)})}_prefetchDataImpl(e,t){return __awaiter(this,void 0,void 0,function*(){const a=e&&(0,StatsigUser_1._normalizeUser)(e,this._options),r=this._getCacheKey(a),s=yield this._getDataAsyncImpl(null,a,t);s&&this._inMemoryCache.add(r,Object.assign(Object.assign({},s),{source:"Prefetch"}))})}_fetchAndPrepFromNetwork(e,t,a){return __awaiter(this,void 0,void 0,function*(){var r;const s=null!==(r=null===e||void 0===e?void 0:e.data)&&void 0!==r?r:null,o=null!=e&&this._isCachedResultValidFor204(e,t),i=yield this._fetchFromNetwork(s,t,a,o);if(!i)return Log_1.Log.debug("No response returned for latest value"),null;const n=(0,TypedJsonParse_1._typedJsonParse)(i,"has_updates","Response"),l=this._getSdkKey(),d=StableID_1.StableID.get(l);let _=null;if(!0===(null===n||void 0===n?void 0:n.has_updates))_=_makeDataAdapterResult("Network",i,d,t);else{if(!s||!1!==(null===n||void 0===n?void 0:n.has_updates))return null;_=_makeDataAdapterResult("NetworkNotModified",s,d,t)}const c=this._getCacheKey(t);return this._inMemoryCache.add(c,_),this._writeToCache(c,_),_})}_getSdkKey(){return null!=this._sdkKey?this._sdkKey:(Log_1.Log.error(`${this._adapterName} is not attached to a Client`),"")}_loadFromCache(e){var t;const a=null===(t=StorageProvider_1.Storage.getItem)||void 0===t?void 0:t.call(StorageProvider_1.Storage,e);if(null==a)return null;const r=(0,TypedJsonParse_1._typedJsonParse)(a,"source","Cached Result");return r?Object.assign(Object.assign({},r),{source:"Cache"}):null}_writeToCache(e,t){StorageProvider_1.Storage.setItem(e,JSON.stringify(t)),this._runLocalStorageCacheEviction(e)}_runLocalStorageCacheEviction(e){var t;const a=null!==(t=(0,StorageProvider_1._getObjectFromStorage)(this._lastModifiedStoreKey))&&void 0!==t?t:{};a[e]=Date.now();const r=_getEvictableKey(a,CACHE_LIMIT);r&&(delete a[r],StorageProvider_1.Storage.removeItem(r)),(0,StorageProvider_1._setObjectInStorage)(this._lastModifiedStoreKey,a)}}function _makeDataAdapterResult(e,t,a,r){return{source:e,data:t,receivedAt:Date.now(),stableID:a,fullUserHash:(0,StatsigUser_1._getFullUserHash)(r)}}exports.DataAdapterCore=DataAdapterCore,exports._makeDataAdapterResult=_makeDataAdapterResult;class InMemoryCache{constructor(){this._data={}}get(e,t){var a;const r=this._data[e],s=null===r||void 0===r?void 0:r.stableID,o=null===(a=null===t||void 0===t?void 0:t.customIDs)||void 0===a?void 0:a.stableID;return o&&s&&o!==s?(Log_1.Log.warn("'StatsigUser.customIDs.stableID' mismatch"),null):r}add(e,t){const a=_getEvictableKey(this._data,CACHE_LIMIT-1);a&&delete this._data[a],this._data[e]=t}merge(e){this._data=Object.assign(Object.assign({},this._data),e)}}function _getEvictableKey(e,t){const a=Object.keys(e);return a.length<=t?null:a.reduce((t,a)=>{const r=e[t],s=e[a];return"object"==typeof r&&"object"==typeof s?s.receivedAt<r.receivedAt?a:t:s<r?a:t})}

},{"./Log":73,"./StableID":85,"./StatsigUser":96,"./StorageProvider":97,"./TypedJsonParse":98}],64:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Diagnostics=void 0;const MARKER_MAP=new Map,ACT_START="start",ACT_END="end",DIAGNOSTICS_EVENT="statsig::diagnostics";function _createMarker(e,t,r,a){return Object.assign({key:r,action:t,step:a,timestamp:Date.now()},e)}function _makeDiagnosticsEvent(e,t){return{eventName:DIAGNOSTICS_EVENT,user:e,value:null,metadata:t,time:Date.now()}}function _addMarker(e,t){var r;const a=null!==(r=MARKER_MAP.get(e))&&void 0!==r?r:[];a.push(t),MARKER_MAP.set(e,a)}function _safeGetField(e,t){if(t in e)return e[t]}exports.Diagnostics={_getMarkers:e=>MARKER_MAP.get(e),_markInitOverallStart:e=>{_addMarker(e,_createMarker({},"start","overall"))},_markInitOverallEnd:(e,t,r)=>{_addMarker(e,_createMarker({success:t,error:t?void 0:{name:"InitializeError",message:"Failed to initialize"},evaluationDetails:r},"end","overall"))},_markInitNetworkReqStart:(e,t)=>{_addMarker(e,_createMarker(t,"start","initialize","network_request"))},_markInitNetworkReqEnd:(e,t)=>{_addMarker(e,_createMarker(t,"end","initialize","network_request"))},_markInitProcessStart:e=>{_addMarker(e,_createMarker({},"start","initialize","process"))},_markInitProcessEnd:(e,t)=>{_addMarker(e,_createMarker(t,"end","initialize","process"))},_clearMarkers:e=>{MARKER_MAP.delete(e)},_formatError(e){if(e&&"object"==typeof e)return{code:_safeGetField(e,"code"),name:_safeGetField(e,"name"),message:_safeGetField(e,"message")}},_getDiagnosticsData(e,t,r,a){var i;return{success:!0===(null===e||void 0===e?void 0:e.ok),statusCode:null===e||void 0===e?void 0:e.status,sdkRegion:null===(i=null===e||void 0===e?void 0:e.headers)||void 0===i?void 0:i.get("x-statsig-region"),isDelta:!0===r.includes('"is_delta":true')||void 0,attempt:t,error:exports.Diagnostics._formatError(a)}},_enqueueDiagnosticsEvent(e,t,r,a){const i=exports.Diagnostics._getMarkers(r);if(null==i||i.length<=0)return-1;const s=i[i.length-1].timestamp-i[0].timestamp;exports.Diagnostics._clearMarkers(r);const n=_makeDiagnosticsEvent(e,{context:"initialize",markers:i.slice(),statsigOptions:a});return t.enqueue(n),s}};

},{}],65:[function(require,module,exports){
"use strict";var __awaiter=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,s){function c(e){try{a(n.next(e))}catch(e){s(e)}}function i(e){try{a(n.throw(e))}catch(e){s(e)}}function a(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(c,i)}a((n=n.apply(e,t||[])).next())})};Object.defineProperty(exports,"__esModule",{value:!0}),exports._fetchTxtRecords=void 0;const FEATURE_ASSETS_DNS_QUERY=new Uint8Array([0,0,1,0,0,1,0,0,0,0,0,0,13,102,101,97,116,117,114,101,97,115,115,101,116,115,3,111,114,103,0,0,16,0,1]),DNS_QUERY_ENDPOINT="https://cloudflare-dns.com/dns-query",DOMAIN_CHARS=["i","e","d"],MAX_START_LOOKUP=200;function _fetchTxtRecords(e){return __awaiter(this,void 0,void 0,function*(){const t=yield e(DNS_QUERY_ENDPOINT,{method:"POST",headers:{"Content-Type":"application/dns-message",Accept:"application/dns-message"},body:FEATURE_ASSETS_DNS_QUERY});if(!t.ok){const e=new Error("Failed to fetch TXT records from DNS");throw e.name="DnsTxtFetchError",e}const r=yield t.arrayBuffer();return _parseDnsResponse(new Uint8Array(r))})}function _parseDnsResponse(e){const t=e.findIndex((t,r)=>r<MAX_START_LOOKUP&&"="===String.fromCharCode(t)&&DOMAIN_CHARS.includes(String.fromCharCode(e[r-1])));if(-1===t){const e=new Error("Failed to parse TXT records from DNS");throw e.name="DnsTxtParseError",e}let r="";for(let n=t-1;n<e.length;n++)r+=String.fromCharCode(e[n]);return r.split(",")}exports._fetchTxtRecords=_fetchTxtRecords;

},{}],66:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});

},{}],67:[function(require,module,exports){
"use strict";var __awaiter=this&&this.__awaiter||function(t,r,e,n){return new(e||(e=Promise))(function(o,i){function s(t){try{c(n.next(t))}catch(t){i(t)}}function a(t){try{c(n.throw(t))}catch(t){i(t)}}function c(t){var r;t.done?o(t.value):(r=t.value,r instanceof e?r:new e(function(t){t(r)})).then(s,a)}c((n=n.apply(t,r||[])).next())})};Object.defineProperty(exports,"__esModule",{value:!0}),exports.ErrorBoundary=exports.EXCEPTION_ENDPOINT=void 0;const Log_1=require("./Log"),SDKType_1=require("./SDKType"),StatsigMetadata_1=require("./StatsigMetadata");exports.EXCEPTION_ENDPOINT="https://statsigapi.net/v1/sdk_exception";const UNKNOWN_ERROR="[Statsig] UnknownError";class ErrorBoundary{constructor(t,r,e,n){this._sdkKey=t,this._options=r,this._emitter=e,this._lastSeenError=n,this._seen=new Set}wrap(t){try{const r=t;_getAllInstanceMethodNames(r).forEach(e=>{const n=r[e];"$EB"in n||(r[e]=((...r)=>this._capture(e,()=>n.apply(t,r))),r[e].$EB=!0)})}catch(t){this._onError("eb:wrap",t)}}logError(t,r){this._onError(t,r)}getLastSeenErrorAndReset(){const t=this._lastSeenError;return this._lastSeenError=void 0,null!==t&&void 0!==t?t:null}attachErrorIfNoneExists(t){this._lastSeenError||(this._lastSeenError=_resolveError(t))}_capture(t,r){try{const e=r();return e&&e instanceof Promise?e.catch(r=>this._onError(t,r)):e}catch(r){return this._onError(t,r),null}}_onError(t,r){try{Log_1.Log.warn(`Caught error in ${t}`,{error:r}),(()=>__awaiter(this,void 0,void 0,function*(){var e,n,o,i,s,a,c;const l=r||Error(UNKNOWN_ERROR),u=l instanceof Error,_=u?l.name:"No Name",g=_resolveError(l);if(this._lastSeenError=g,this._seen.has(_))return;if(this._seen.add(_),null===(n=null===(e=this._options)||void 0===e?void 0:e.networkConfig)||void 0===n?void 0:n.preventAllNetworkTraffic)return void(null===(o=this._emitter)||void 0===o||o.call(this,{name:"error",error:r,tag:t}));const h=SDKType_1.SDKType._get(this._sdkKey),d=StatsigMetadata_1.StatsigMetadataProvider.get(),E=u?l.stack:_getDescription(l),p=Object.assign({tag:t,exception:_,info:E,statsigOptions:_getStatsigOptionLoggingCopy(this._options)},Object.assign(Object.assign({},d),{sdkType:h}));yield(null!==(a=null===(s=null===(i=this._options)||void 0===i?void 0:i.networkConfig)||void 0===s?void 0:s.networkOverrideFunc)&&void 0!==a?a:fetch)(exports.EXCEPTION_ENDPOINT,{method:"POST",headers:{"STATSIG-API-KEY":this._sdkKey,"STATSIG-SDK-TYPE":String(h),"STATSIG-SDK-VERSION":String(d.sdkVersion),"Content-Type":"application/json"},body:JSON.stringify(p)}),null===(c=this._emitter)||void 0===c||c.call(this,{name:"error",error:r,tag:t})}))().then(()=>{}).catch(()=>{})}catch(t){}}}function _resolveError(t){return t instanceof Error?t:"string"==typeof t?new Error(t):new Error("An unknown error occurred.")}function _getDescription(t){try{return JSON.stringify(t)}catch(t){return UNKNOWN_ERROR}}function _getAllInstanceMethodNames(t){const r=new Set;let e=Object.getPrototypeOf(t);for(;e&&e!==Object.prototype;)Object.getOwnPropertyNames(e).filter(t=>"function"==typeof(null===e||void 0===e?void 0:e[t])).forEach(t=>r.add(t)),e=Object.getPrototypeOf(e);return Array.from(r)}function _getStatsigOptionLoggingCopy(t){if(!t)return{};const r={};return Object.entries(t).forEach(([t,e])=>{switch(typeof e){case"number":case"bigint":case"boolean":r[String(t)]=e;break;case"string":e.length<50?r[String(t)]=e:r[String(t)]="set";break;case"object":"environment"===t?r.environment=e:"networkConfig"===t?r.networkConfig=e:r[String(t)]=null!=e?"set":"unset"}}),r}exports.ErrorBoundary=ErrorBoundary;

},{"./Log":73,"./SDKType":81,"./StatsigMetadata":90}],68:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});

},{}],69:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});

},{}],70:[function(require,module,exports){
"use strict";var __awaiter=this&&this.__awaiter||function(e,t,s,i){return new(s||(s=Promise))(function(o,n){function r(e){try{g(i.next(e))}catch(e){n(e)}}function a(e){try{g(i.throw(e))}catch(e){n(e)}}function g(e){var t;e.done?o(e.value):(t=e.value,t instanceof s?t:new s(function(e){e(t)})).then(r,a)}g((i=i.apply(e,t||[])).next())})};Object.defineProperty(exports,"__esModule",{value:!0}),exports.EventLogger=void 0;const CacheKey_1=require("./CacheKey"),Hashing_1=require("./Hashing"),Log_1=require("./Log"),NetworkConfig_1=require("./NetworkConfig"),SafeJs_1=require("./SafeJs"),StatsigEvent_1=require("./StatsigEvent"),StatsigOptionsCommon_1=require("./StatsigOptionsCommon"),StorageProvider_1=require("./StorageProvider"),UrlConfiguration_1=require("./UrlConfiguration"),VisibilityObserving_1=require("./VisibilityObserving"),DEFAULT_QUEUE_SIZE=100,DEFAULT_FLUSH_INTERVAL_MS=1e4,MAX_DEDUPER_KEYS=1e3,DEDUPER_WINDOW_DURATION_MS=6e5,MAX_FAILED_LOGS=500,QUICK_FLUSH_WINDOW_MS=200,EVENT_LOGGER_MAP={},RetryFailedLogsTrigger={Startup:"startup",GainedFocus:"gained_focus"};class EventLogger{static _safeFlushAndForget(e){var t;null===(t=EVENT_LOGGER_MAP[e])||void 0===t||t.flush().catch(()=>{})}static _safeRetryFailedLogs(e){var t;null===(t=EVENT_LOGGER_MAP[e])||void 0===t||t._retryFailedLogs(RetryFailedLogsTrigger.GainedFocus)}constructor(e,t,s,i){var o,n;this._sdkKey=e,this._emitter=t,this._network=s,this._options=i,this._queue=[],this._lastExposureTimeMap={},this._nonExposedChecks={},this._hasRunQuickFlush=!1,this._creationTime=Date.now(),this._loggingEnabled=null!==(o=null===i||void 0===i?void 0:i.loggingEnabled)&&void 0!==o?o:!0===(null===i||void 0===i?void 0:i.disableLogging)?StatsigOptionsCommon_1.LoggingEnabledOption.disabled:StatsigOptionsCommon_1.LoggingEnabledOption.browserOnly,(null===i||void 0===i?void 0:i.loggingEnabled)&&void 0!==i.disableLogging&&Log_1.Log.warn("Detected both loggingEnabled and disableLogging options. loggingEnabled takes precedence - please remove disableLogging."),this._maxQueueSize=null!==(n=null===i||void 0===i?void 0:i.loggingBufferMaxSize)&&void 0!==n?n:DEFAULT_QUEUE_SIZE;const r=null===i||void 0===i?void 0:i.networkConfig;this._logEventUrlConfig=new UrlConfiguration_1.UrlConfiguration(NetworkConfig_1.Endpoint._rgstr,null===r||void 0===r?void 0:r.logEventUrl,null===r||void 0===r?void 0:r.api,null===r||void 0===r?void 0:r.logEventFallbackUrls)}setLogEventCompressionMode(e){this._network.setLogEventCompressionMode(e)}setLoggingEnabled(e){this._loggingEnabled=e}enqueue(e){this._shouldLogEvent(e)&&(this._normalizeAndAppendEvent(e),this._quickFlushIfNeeded(),this._queue.length>this._maxQueueSize&&EventLogger._safeFlushAndForget(this._sdkKey))}incrementNonExposureCount(e){var t;const s=null!==(t=this._nonExposedChecks[e])&&void 0!==t?t:0;this._nonExposedChecks[e]=s+1}reset(){this.flush().catch(()=>{}),this._lastExposureTimeMap={}}start(){var e;const t=(0,SafeJs_1._isServerEnv)();t&&"always"!==(null===(e=this._options)||void 0===e?void 0:e.loggingEnabled)||(EVENT_LOGGER_MAP[this._sdkKey]=this,t||(0,VisibilityObserving_1._subscribeToVisiblityChanged)(e=>{"background"===e?EventLogger._safeFlushAndForget(this._sdkKey):"foreground"===e&&EventLogger._safeRetryFailedLogs(this._sdkKey)}),this._retryFailedLogs(RetryFailedLogsTrigger.Startup),this._startBackgroundFlushInterval())}stop(){return __awaiter(this,void 0,void 0,function*(){this._flushIntervalId&&(clearInterval(this._flushIntervalId),this._flushIntervalId=null),delete EVENT_LOGGER_MAP[this._sdkKey],yield this.flush()})}flush(){return __awaiter(this,void 0,void 0,function*(){if(this._appendAndResetNonExposedChecks(),0===this._queue.length)return;const e=this._queue;this._queue=[],yield this._sendEvents(e)})}_quickFlushIfNeeded(){this._hasRunQuickFlush||(this._hasRunQuickFlush=!0,Date.now()-this._creationTime>QUICK_FLUSH_WINDOW_MS||setTimeout(()=>EventLogger._safeFlushAndForget(this._sdkKey),QUICK_FLUSH_WINDOW_MS))}_shouldLogEvent(e){var t;if("always"!==(null===(t=this._options)||void 0===t?void 0:t.loggingEnabled)&&(0,SafeJs_1._isServerEnv)())return!1;if(!(0,StatsigEvent_1._isExposureEvent)(e))return!0;const s=e.user?e.user:{statsigEnvironment:void 0},i=(0,CacheKey_1._getUserStorageKey)(this._sdkKey,s),o=e.metadata?e.metadata:{},n=[e.eventName,i,o.gate,o.config,o.ruleID,o.allocatedExperiment,o.parameterName,String(o.isExplicitParameter),o.reason].join("|"),r=this._lastExposureTimeMap[n],a=Date.now();return!(r&&a-r<DEDUPER_WINDOW_DURATION_MS)&&(Object.keys(this._lastExposureTimeMap).length>MAX_DEDUPER_KEYS&&(this._lastExposureTimeMap={}),this._lastExposureTimeMap[n]=a,!0)}_sendEvents(e){return __awaiter(this,void 0,void 0,function*(){var t,s;if("disabled"===this._loggingEnabled)return this._saveFailedLogsToStorage(e),!1;try{const i=(0,VisibilityObserving_1._isUnloading)()&&this._network.isBeaconSupported()&&null==(null===(s=null===(t=this._options)||void 0===t?void 0:t.networkConfig)||void 0===s?void 0:s.networkOverrideFunc);return this._emitter({name:"pre_logs_flushed",events:e}),(i?this._sendEventsViaBeacon(e):yield this._sendEventsViaPost(e)).success?(this._emitter({name:"logs_flushed",events:e}),!0):(Log_1.Log.warn("Failed to flush events."),this._saveFailedLogsToStorage(e),!1)}catch(e){return Log_1.Log.warn("Failed to flush events."),!1}})}_sendEventsViaPost(e){return __awaiter(this,void 0,void 0,function*(){var t;const s=yield this._network.post(this._getRequestData(e)),i=null!==(t=null===s||void 0===s?void 0:s.code)&&void 0!==t?t:-1;return{success:i>=200&&i<300}})}_sendEventsViaBeacon(e){return{success:this._network.beacon(this._getRequestData(e))}}_getRequestData(e){return{sdkKey:this._sdkKey,data:{events:e},urlConfig:this._logEventUrlConfig,retries:3,isCompressable:!0,params:{[NetworkConfig_1.NetworkParam.EventCount]:String(e.length)},credentials:"same-origin"}}_saveFailedLogsToStorage(e){for(;e.length>MAX_FAILED_LOGS;)e.shift();const t=this._getStorageKey();try{(0,StorageProvider_1._setObjectInStorage)(t,e)}catch(e){Log_1.Log.warn("Unable to save failed logs to storage")}}_retryFailedLogs(e){const t=this._getStorageKey();(()=>__awaiter(this,void 0,void 0,function*(){StorageProvider_1.Storage.isReady()||(yield StorageProvider_1.Storage.isReadyResolver());const s=(0,StorageProvider_1._getObjectFromStorage)(t);s&&(e===RetryFailedLogsTrigger.Startup&&StorageProvider_1.Storage.removeItem(t),(yield this._sendEvents(s))&&e===RetryFailedLogsTrigger.GainedFocus&&StorageProvider_1.Storage.removeItem(t))}))().catch(()=>{Log_1.Log.warn("Failed to flush stored logs")})}_getStorageKey(){return`statsig.failed_logs.${(0,Hashing_1._DJB2)(this._sdkKey)}`}_normalizeAndAppendEvent(e){e.user&&(e.user=Object.assign({},e.user),delete e.user.privateAttributes);const t={},s=this._getCurrentPageUrl();s&&(t.statsigMetadata={currentPage:s});const i=Object.assign(Object.assign({},e),t);Log_1.Log.debug("Enqueued Event:",i),this._queue.push(i)}_appendAndResetNonExposedChecks(){0!==Object.keys(this._nonExposedChecks).length&&(this._normalizeAndAppendEvent({eventName:"statsig::non_exposed_checks",user:null,time:Date.now(),metadata:{checks:Object.assign({},this._nonExposedChecks)}}),this._nonExposedChecks={})}_getCurrentPageUrl(){var e;if(!1!==(null===(e=this._options)||void 0===e?void 0:e.includeCurrentPageUrlWithEvents))return(0,SafeJs_1._getCurrentPageUrlSafe)()}_startBackgroundFlushInterval(){var e,t;const s=null!==(t=null===(e=this._options)||void 0===e?void 0:e.loggingIntervalMs)&&void 0!==t?t:DEFAULT_FLUSH_INTERVAL_MS,i=setInterval(()=>{const e=EVENT_LOGGER_MAP[this._sdkKey];e&&e._flushIntervalId===i?EventLogger._safeFlushAndForget(this._sdkKey):clearInterval(i)},s);this._flushIntervalId=i}}exports.EventLogger=EventLogger;

},{"./CacheKey":61,"./Hashing":71,"./Log":73,"./NetworkConfig":75,"./SafeJs":82,"./StatsigEvent":89,"./StatsigOptionsCommon":91,"./StorageProvider":97,"./UrlConfiguration":101,"./VisibilityObserving":102}],71:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports._getSortedObject=exports._DJB2Object=exports._DJB2=void 0;const TypingUtils_1=require("./TypingUtils"),_DJB2=t=>{let e=0;for(let r=0;r<t.length;r++){e=(e<<5)-e+t.charCodeAt(r),e&=e}return String(e>>>0)};exports._DJB2=_DJB2;const _DJB2Object=(t,e)=>(0,exports._DJB2)(JSON.stringify((0,exports._getSortedObject)(t,e)));exports._DJB2Object=_DJB2Object;const _getSortedObject=(t,e)=>{if(null==t)return null;const r={};return Object.keys(t).sort().forEach(o=>{const s=t[o];0!==e&&"object"===(0,TypingUtils_1._typeOf)(s)?r[o]=(0,exports._getSortedObject)(s,null!=e?e-1:e):r[o]=s}),r};exports._getSortedObject=_getSortedObject;

},{"./TypingUtils":99}],72:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});

},{}],73:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.Log=exports.LogLevel=void 0;const DEBUG=" DEBUG ",_INFO="  INFO ",_WARN="  WARN ",ERROR=" ERROR ";function addTag(e){return e.unshift("[Statsig]"),e}exports.LogLevel={None:0,Error:1,Warn:2,Info:3,Debug:4};class Log{static info(...e){Log.level>=exports.LogLevel.Info&&console.info(_INFO,...addTag(e))}static debug(...e){Log.level>=exports.LogLevel.Debug&&console.debug(DEBUG,...addTag(e))}static warn(...e){Log.level>=exports.LogLevel.Warn&&console.warn(_WARN,...addTag(e))}static error(...e){Log.level>=exports.LogLevel.Error&&console.error(ERROR,...addTag(e))}}exports.Log=Log,Log.level=exports.LogLevel.Warn;

},{}],74:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.createMemoKey=exports.MemoPrefix=void 0,exports.MemoPrefix={_gate:"g",_dynamicConfig:"c",_experiment:"e",_configList:"cl",_layer:"l",_paramStore:"p"};const EXIST_KEYS=new Set([]),DO_NOT_MEMO_KEYS=new Set(["userPersistedValues"]);function createMemoKey(e,t,r){let o=`${e}|${t}`;if(!r)return o;for(const e of Object.keys(r)){if(DO_NOT_MEMO_KEYS.has(e))return;EXIST_KEYS.has(e)?o+=`|${e}=true`:o+=`|${e}=${r[e]}`}return o}exports.createMemoKey=createMemoKey;

},{}],75:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.NetworkParam=exports.NetworkDefault=exports.Endpoint=void 0,exports.Endpoint={_initialize:"initialize",_rgstr:"rgstr",_download_config_specs:"download_config_specs"},exports.NetworkDefault={[exports.Endpoint._rgstr]:"https://prodregistryv2.org/v1",[exports.Endpoint._initialize]:"https://featureassets.org/v1",[exports.Endpoint._download_config_specs]:"https://api.statsigcdn.com/v1"},exports.NetworkParam={EventCount:"ec",SdkKey:"k",SdkType:"st",SdkVersion:"sv",Time:"t",SessionID:"sid",StatsigEncoded:"se",IsGzipped:"gz"};

},{}],76:[function(require,module,exports){
"use strict";var __awaiter=this&&this.__awaiter||function(e,t,o,i){return new(o||(o=Promise))(function(n,r){function s(e){try{l(i.next(e))}catch(e){r(e)}}function a(e){try{l(i.throw(e))}catch(e){r(e)}}function l(e){var t;e.done?n(e.value):(t=e.value,t instanceof o?t:new o(function(e){e(t)})).then(s,a)}l((i=i.apply(e,t||[])).next())})};Object.defineProperty(exports,"__esModule",{value:!0}),exports.NetworkCore=void 0,require("./$_StatsigGlobal");const __StatsigGlobal_1=require("./$_StatsigGlobal"),Diagnostics_1=require("./Diagnostics"),Log_1=require("./Log"),NetworkConfig_1=require("./NetworkConfig"),NetworkFallbackResolver_1=require("./NetworkFallbackResolver"),SDKFlags_1=require("./SDKFlags"),SDKType_1=require("./SDKType"),SafeJs_1=require("./SafeJs"),SessionID_1=require("./SessionID"),StableID_1=require("./StableID"),StatsigClientEventEmitter_1=require("./StatsigClientEventEmitter"),StatsigMetadata_1=require("./StatsigMetadata"),StatsigOptionsCommon_1=require("./StatsigOptionsCommon"),VisibilityObserving_1=require("./VisibilityObserving"),DEFAULT_TIMEOUT_MS=1e4,BACKOFF_BASE_MS=500,BACKOFF_MAX_MS=3e4,RATE_LIMIT_WINDOW_MS=1e3,RATE_LIMIT_MAX_REQ_COUNT=50,LEAK_RATE=RATE_LIMIT_MAX_REQ_COUNT/1e3,RETRYABLE_CODES=new Set([408,500,502,503,504,522,524,599]);class NetworkCore{constructor(e,t){this._emitter=t,this._errorBoundary=null,this._timeout=DEFAULT_TIMEOUT_MS,this._netConfig={},this._options={},this._leakyBucket={},this._lastUsedInitUrl=null,e&&(this._options=e),this._options.networkConfig&&(this._netConfig=this._options.networkConfig),this._netConfig.networkTimeoutMs&&(this._timeout=this._netConfig.networkTimeoutMs),this._fallbackResolver=new NetworkFallbackResolver_1.NetworkFallbackResolver(this._options),this.setLogEventCompressionMode(this._getLogEventCompressionMode(e))}setLogEventCompressionMode(e){this._options.logEventCompressionMode=e}setErrorBoundary(e){this._errorBoundary=e,this._errorBoundary.wrap(this),this._errorBoundary.wrap(this._fallbackResolver),this._fallbackResolver.setErrorBoundary(e)}isBeaconSupported(){return"undefined"!=typeof navigator&&"function"==typeof navigator.sendBeacon}getLastUsedInitUrlAndReset(){const e=this._lastUsedInitUrl;return this._lastUsedInitUrl=null,e}beacon(e){if(!_ensureValidSdkKey(e))return!1;const t=this._getInternalRequestArgs("POST",e),o=this._getPopulatedURL(t),i=navigator;return i.sendBeacon.bind(i)(o,t.body)}post(e){return __awaiter(this,void 0,void 0,function*(){const t=this._getInternalRequestArgs("POST",e);return this._tryEncodeBody(t),yield this._tryToCompressBody(t),this._sendRequest(t)})}get(e){const t=this._getInternalRequestArgs("GET",e);return this._sendRequest(t)}_sendRequest(e){return __awaiter(this,void 0,void 0,function*(){var t,o,i,n;if(!_ensureValidSdkKey(e))return null;if(this._netConfig.preventAllNetworkTraffic)return null;const{method:r,body:s,retries:a,attempt:l}=e,_=e.urlConfig.endpoint;if(this._isRateLimited(_))return Log_1.Log.warn(`Request to ${_} was blocked because you are making requests too frequently.`),null;const d=null!==l&&void 0!==l?l:1,g="undefined"!=typeof AbortController?new AbortController:null,u=setTimeout(()=>{null===g||void 0===g||g.abort(`Timeout of ${this._timeout}ms expired.`)},this._timeout),c=this._getPopulatedURL(e);let f=null;const p=(0,VisibilityObserving_1._isUnloading)();try{const l={method:r,body:s,headers:Object.assign({},e.headers),signal:null===g||void 0===g?void 0:g.signal,priority:e.priority,keepalive:p};_tryMarkInitStart(e,d);const k=this._leakyBucket[_];if(k&&(k.lastRequestTime=Date.now(),this._leakyBucket[_]=k),f=yield(null!==(t=this._netConfig.networkOverrideFunc)&&void 0!==t?t:fetch)(c,l),clearTimeout(u),!f.ok){const e=yield f.text().catch(()=>"No Text"),t=new Error(`NetworkError: ${c} ${e}`);throw t.name="NetworkError",t}const m=yield f.text();return _tryMarkInitEnd(e,f,d,m),this._fallbackResolver.tryBumpExpiryTime(e.sdkKey,e.urlConfig),{body:m,code:f.status}}catch(t){const s=_getErrorMessage(g,t),l=_didTimeout(g);if(_tryMarkInitEnd(e,f,d,"",t),(yield this._fallbackResolver.tryFetchUpdatedFallbackInfo(e.sdkKey,e.urlConfig,s,l))&&(e.fallbackUrl=this._fallbackResolver.getActiveFallbackUrl(e.sdkKey,e.urlConfig)),!a||d>a||!RETRYABLE_CODES.has(null!==(o=null===f||void 0===f?void 0:f.status)&&void 0!==o?o:500)){null===(i=this._emitter)||void 0===i||i.call(this,{name:"error",error:t,tag:StatsigClientEventEmitter_1.ErrorTag.NetworkError,requestArgs:e});const o=`A networking error occurred during ${r} request to ${c}.`;return Log_1.Log.error(o,s,t),null===(n=this._errorBoundary)||void 0===n||n.attachErrorIfNoneExists(o),null}return yield _exponentialBackoff(d),this._sendRequest(Object.assign(Object.assign({},e),{retries:a,attempt:d+1}))}})}_getLogEventCompressionMode(e){let t=null===e||void 0===e?void 0:e.logEventCompressionMode;return t||!0!==(null===e||void 0===e?void 0:e.disableCompression)||(t=StatsigOptionsCommon_1.LogEventCompressionMode.Disabled),t||(t=StatsigOptionsCommon_1.LogEventCompressionMode.Enabled),t}_isRateLimited(e){var t;const o=Date.now(),i=null!==(t=this._leakyBucket[e])&&void 0!==t?t:{count:0,lastRequestTime:o},n=o-i.lastRequestTime,r=Math.floor(n*LEAK_RATE);return i.count=Math.max(0,i.count-r),i.count>=RATE_LIMIT_MAX_REQ_COUNT||(i.count+=1,i.lastRequestTime=o,this._leakyBucket[e]=i,!1)}_getPopulatedURL(e){var t;const o=null!==(t=e.fallbackUrl)&&void 0!==t?t:e.urlConfig.getUrl();e.urlConfig.endpoint!==NetworkConfig_1.Endpoint._initialize&&e.urlConfig.endpoint!==NetworkConfig_1.Endpoint._download_config_specs||(this._lastUsedInitUrl=o);const i=Object.assign({[NetworkConfig_1.NetworkParam.SdkKey]:e.sdkKey,[NetworkConfig_1.NetworkParam.SdkType]:SDKType_1.SDKType._get(e.sdkKey),[NetworkConfig_1.NetworkParam.SdkVersion]:StatsigMetadata_1.SDK_VERSION,[NetworkConfig_1.NetworkParam.Time]:String(Date.now()),[NetworkConfig_1.NetworkParam.SessionID]:SessionID_1.SessionID.get(e.sdkKey)},e.params),n=Object.keys(i).map(e=>`${encodeURIComponent(e)}=${encodeURIComponent(i[e])}`).join("&");return`${o}${n?`?${n}`:""}`}_tryEncodeBody(e){var t;const o=(0,SafeJs_1._getWindowSafe)(),i=e.body;if(e.isStatsigEncodable&&!this._options.disableStatsigEncoding&&"string"==typeof i&&null==(0,__StatsigGlobal_1._getStatsigGlobalFlag)("no-encode")&&(null===o||void 0===o?void 0:o.btoa))try{e.body=o.btoa(i).split("").reverse().join(""),e.params=Object.assign(Object.assign({},null!==(t=e.params)&&void 0!==t?t:{}),{[NetworkConfig_1.NetworkParam.StatsigEncoded]:"1"})}catch(t){Log_1.Log.warn(`Request encoding failed for ${e.urlConfig.getUrl()}`,t)}}_tryToCompressBody(e){return __awaiter(this,void 0,void 0,function*(){var t;const o=e.body;if("string"==typeof o&&_allowCompression(e,this._options))try{const i=(new TextEncoder).encode(o),n=new CompressionStream("gzip"),r=n.writable.getWriter();r.write(i).catch(Log_1.Log.error),r.close().catch(Log_1.Log.error);const s=n.readable.getReader(),a=[];let l;for(;!(l=yield s.read()).done;)a.push(l.value);const _=a.reduce((e,t)=>e+t.length,0),d=new Uint8Array(_);let g=0;for(const e of a)d.set(e,g),g+=e.length;e.body=d,e.params=Object.assign(Object.assign({},null!==(t=e.params)&&void 0!==t?t:{}),{[NetworkConfig_1.NetworkParam.IsGzipped]:"1"})}catch(t){Log_1.Log.warn(`Request compression failed for ${e.urlConfig.getUrl()}`,t)}})}_getInternalRequestArgs(e,t){const o=this._fallbackResolver.getActiveFallbackUrl(t.sdkKey,t.urlConfig),i=Object.assign(Object.assign({},t),{method:e,fallbackUrl:o});return"data"in t&&_populateRequestBody(i,t.data),i}}exports.NetworkCore=NetworkCore;const _ensureValidSdkKey=e=>!!e.sdkKey||(Log_1.Log.warn("Unable to make request without an SDK key"),!1),_populateRequestBody=(e,t)=>{const{sdkKey:o,fallbackUrl:i}=e,n=StableID_1.StableID.get(o),r=SessionID_1.SessionID.get(o),s=SDKType_1.SDKType._get(o);e.body=JSON.stringify(Object.assign(Object.assign({},t),{statsigMetadata:Object.assign(Object.assign({},StatsigMetadata_1.StatsigMetadataProvider.get()),{stableID:n,sessionID:r,sdkType:s,fallbackUrl:i})}))};function _allowCompression(e,t){if(!e.isCompressable)return!1;if(null!=(0,__StatsigGlobal_1._getStatsigGlobalFlag)("no-compress")||"undefined"==typeof CompressionStream||"undefined"==typeof TextEncoder)return!1;const o=null!=e.urlConfig.customUrl||null!=e.urlConfig.fallbackUrls,i=!0===SDKFlags_1.SDKFlags.get(e.sdkKey,"enable_log_event_compression");switch(t.logEventCompressionMode){case StatsigOptionsCommon_1.LogEventCompressionMode.Disabled:return!1;case StatsigOptionsCommon_1.LogEventCompressionMode.Enabled:return!(o&&!i);case StatsigOptionsCommon_1.LogEventCompressionMode.Forced:return!0;default:return!1}}function _getErrorMessage(e,t){return(null===e||void 0===e?void 0:e.signal.aborted)&&"string"==typeof e.signal.reason?e.signal.reason:"string"==typeof t?t:t instanceof Error?`${t.name}: ${t.message}`:"Unknown Error"}function _didTimeout(e){return(null===e||void 0===e?void 0:e.signal.aborted)&&"string"==typeof e.signal.reason&&e.signal.reason.includes("Timeout")||!1}function _tryMarkInitStart(e,t){e.urlConfig.endpoint===NetworkConfig_1.Endpoint._initialize&&Diagnostics_1.Diagnostics._markInitNetworkReqStart(e.sdkKey,{attempt:t})}function _tryMarkInitEnd(e,t,o,i,n){e.urlConfig.endpoint===NetworkConfig_1.Endpoint._initialize&&Diagnostics_1.Diagnostics._markInitNetworkReqEnd(e.sdkKey,Diagnostics_1.Diagnostics._getDiagnosticsData(t,o,i,n))}function _exponentialBackoff(e){return __awaiter(this,void 0,void 0,function*(){yield new Promise(t=>setTimeout(t,Math.min(BACKOFF_BASE_MS*(e*e),BACKOFF_MAX_MS)))})}

},{"./$_StatsigGlobal":60,"./Diagnostics":64,"./Log":73,"./NetworkConfig":75,"./NetworkFallbackResolver":77,"./SDKFlags":80,"./SDKType":81,"./SafeJs":82,"./SessionID":83,"./StableID":85,"./StatsigClientEventEmitter":87,"./StatsigMetadata":90,"./StatsigOptionsCommon":91,"./VisibilityObserving":102}],77:[function(require,module,exports){
"use strict";var __awaiter=this&&this.__awaiter||function(e,t,r,n){return new(r||(r=Promise))(function(o,l){function a(e){try{s(n.next(e))}catch(e){l(e)}}function i(e){try{s(n.throw(e))}catch(e){l(e)}}function s(e){var t;e.done?o(e.value):(t=e.value,t instanceof r?t:new r(function(e){e(t)})).then(a,i)}s((n=n.apply(e,t||[])).next())})};Object.defineProperty(exports,"__esModule",{value:!0}),exports._isDomainFailure=exports.NetworkFallbackResolver=void 0;const DnsTxtQuery_1=require("./DnsTxtQuery"),Hashing_1=require("./Hashing"),Log_1=require("./Log"),StorageProvider_1=require("./StorageProvider"),DEFAULT_TTL_MS=6048e5,COOLDOWN_TIME_MS=144e5;class NetworkFallbackResolver{constructor(e){var t;this._fallbackInfo=null,this._errorBoundary=null,this._dnsQueryCooldowns={},this._networkOverrideFunc=null===(t=e.networkConfig)||void 0===t?void 0:t.networkOverrideFunc}setErrorBoundary(e){this._errorBoundary=e}tryBumpExpiryTime(e,t){var r;const n=null===(r=this._fallbackInfo)||void 0===r?void 0:r[t.endpoint];n&&(n.expiryTime=Date.now()+DEFAULT_TTL_MS,_tryWriteFallbackInfoToCache(e,Object.assign(Object.assign({},this._fallbackInfo),{[t.endpoint]:n})))}getActiveFallbackUrl(e,t){var r,n;if(null!=t.customUrl&&null!=t.fallbackUrls)return null;let o=this._fallbackInfo;null==o&&(o=null!==(r=_readFallbackInfoFromCache(e))&&void 0!==r?r:{},this._fallbackInfo=o);const l=o[t.endpoint];return!l||Date.now()>(null!==(n=l.expiryTime)&&void 0!==n?n:0)||t.getChecksum()!==l.urlConfigChecksum?(delete o[t.endpoint],this._fallbackInfo=o,_tryWriteFallbackInfoToCache(e,this._fallbackInfo),null):l.url?l.url:null}tryFetchUpdatedFallbackInfo(e,t,r,n){return __awaiter(this,void 0,void 0,function*(){var o,l;try{if(!_isDomainFailure(r,n))return!1;const a=null==t.customUrl&&null==t.fallbackUrls?yield this._tryFetchFallbackUrlsFromNetwork(t):t.fallbackUrls,i=this._pickNewFallbackUrl(null===(o=this._fallbackInfo)||void 0===o?void 0:o[t.endpoint],a);return!!i&&(this._updateFallbackInfoWithNewUrl(e,t,i),!0)}catch(e){return null===(l=this._errorBoundary)||void 0===l||l.logError("tryFetchUpdatedFallbackInfo",e),!1}})}_updateFallbackInfoWithNewUrl(e,t,r){var n,o,l;const a={urlConfigChecksum:t.getChecksum(),url:r,expiryTime:Date.now()+DEFAULT_TTL_MS,previous:[]},i=t.endpoint,s=null===(n=this._fallbackInfo)||void 0===n?void 0:n[i];s&&a.previous.push(...s.previous),a.previous.length>10&&(a.previous=[]);const c=null===(l=null===(o=this._fallbackInfo)||void 0===o?void 0:o[i])||void 0===l?void 0:l.url;null!=c&&a.previous.push(c),this._fallbackInfo=Object.assign(Object.assign({},this._fallbackInfo),{[i]:a}),_tryWriteFallbackInfoToCache(e,this._fallbackInfo)}_tryFetchFallbackUrlsFromNetwork(e){return __awaiter(this,void 0,void 0,function*(){var t;const r=this._dnsQueryCooldowns[e.endpoint];if(r&&Date.now()<r)return null;this._dnsQueryCooldowns[e.endpoint]=Date.now()+COOLDOWN_TIME_MS;const n=[],o=yield(0,DnsTxtQuery_1._fetchTxtRecords)(null!==(t=this._networkOverrideFunc)&&void 0!==t?t:fetch),l=_extractPathFromUrl(e.defaultUrl);for(const t of o){if(!t.startsWith(e.endpointDnsKey+"="))continue;const r=t.split("=");if(r.length>1){let e=r[1];e.endsWith("/")&&(e=e.slice(0,-1)),n.push(`https://${e}${l}`)}}return n})}_pickNewFallbackUrl(e,t){var r;if(null==t)return null;const n=new Set(null!==(r=null===e||void 0===e?void 0:e.previous)&&void 0!==r?r:[]),o=null===e||void 0===e?void 0:e.url;let l=null;for(const e of t){const t=e.endsWith("/")?e.slice(0,-1):e;if(!n.has(e)&&t!==o){l=t;break}}return l}}function _isDomainFailure(e,t){var r;const n=null!==(r=null===e||void 0===e?void 0:e.toLowerCase())&&void 0!==r?r:"";return t||n.includes("uncaught exception")||n.includes("failed to fetch")||n.includes("networkerror when attempting to fetch resource")}function _getFallbackInfoStorageKey(e){return`statsig.network_fallback.${(0,Hashing_1._DJB2)(e)}`}function _tryWriteFallbackInfoToCache(e,t){const r=_getFallbackInfoStorageKey(e);t&&0!==Object.keys(t).length?StorageProvider_1.Storage.setItem(r,JSON.stringify(t)):StorageProvider_1.Storage.removeItem(r)}function _readFallbackInfoFromCache(e){const t=_getFallbackInfoStorageKey(e),r=StorageProvider_1.Storage.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch(e){return Log_1.Log.error("Failed to parse FallbackInfo"),null}}function _extractPathFromUrl(e){try{return new URL(e).pathname}catch(e){return null}}exports.NetworkFallbackResolver=NetworkFallbackResolver,exports._isDomainFailure=_isDomainFailure;

},{"./DnsTxtQuery":65,"./Hashing":71,"./Log":73,"./StorageProvider":97}],78:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});

},{}],79:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});

},{}],80:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SDKFlags=void 0;const FLAGMAP={};exports.SDKFlags={setFlags:(e,s)=>{FLAGMAP[e]=s},get:(e,s)=>{var t,o;return null!==(o=null===(t=FLAGMAP[e])||void 0===t?void 0:t[s])&&void 0!==o&&o}};

},{}],81:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.SDKType=void 0;const SDK_CLIENT={};let suffix;exports.SDKType={_get:e=>{var s;return(null!==(s=SDK_CLIENT[e])&&void 0!==s?s:"js-mono")+(null!==suffix&&void 0!==suffix?suffix:"")},_setClientType(e,s){SDK_CLIENT[e]=s},_setBindingType(e){suffix&&"-react"!==suffix||(suffix="-"+e)}};

},{}],82:[function(require,module,exports){
(function (process){(function (){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports._getUnloadEvent=exports._getCurrentPageUrlSafe=exports._addDocumentEventListenerSafe=exports._addWindowEventListenerSafe=exports._isServerEnv=exports._getDocumentSafe=exports._getWindowSafe=void 0;const _getWindowSafe=()=>"undefined"!=typeof window?window:null;exports._getWindowSafe=_getWindowSafe;const _getDocumentSafe=()=>{var e;const t=(0,exports._getWindowSafe)();return null!==(e=null===t||void 0===t?void 0:t.document)&&void 0!==e?e:null};exports._getDocumentSafe=_getDocumentSafe;const _isServerEnv=()=>{if(null!==(0,exports._getDocumentSafe)())return!1;const e="undefined"!=typeof process&&null!=process.versions&&null!=process.versions.node;return"string"==typeof EdgeRuntime||e};exports._isServerEnv=_isServerEnv;const _addWindowEventListenerSafe=(e,t)=>{const n=(0,exports._getWindowSafe)();"function"==typeof(null===n||void 0===n?void 0:n.addEventListener)&&n.addEventListener(e,t)};exports._addWindowEventListenerSafe=_addWindowEventListenerSafe;const _addDocumentEventListenerSafe=(e,t)=>{const n=(0,exports._getDocumentSafe)();"function"==typeof(null===n||void 0===n?void 0:n.addEventListener)&&n.addEventListener(e,t)};exports._addDocumentEventListenerSafe=_addDocumentEventListenerSafe;const _getCurrentPageUrlSafe=()=>{var e;try{return null===(e=(0,exports._getWindowSafe)())||void 0===e?void 0:e.location.href.split(/[?#]/)[0]}catch(e){return}};exports._getCurrentPageUrlSafe=_getCurrentPageUrlSafe;const _getUnloadEvent=()=>{const e=(0,exports._getWindowSafe)();return e&&"onpagehide"in e?"pagehide":"beforeunload"};exports._getUnloadEvent=_getUnloadEvent;

}).call(this)}).call(this,require('_process'))
},{"_process":112}],83:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.StatsigSession=exports.SessionID=void 0;const __StatsigGlobal_1=require("./$_StatsigGlobal"),CacheKey_1=require("./CacheKey"),Log_1=require("./Log"),StorageProvider_1=require("./StorageProvider"),UUID_1=require("./UUID"),MAX_SESSION_IDLE_TIME=18e5,MAX_SESSION_AGE=144e5,PROMISE_MAP={};function _loadSession(e){let t=_loadFromStorage(e);const o=Date.now();return t||(t={sessionID:(0,UUID_1.getUUID)(),startTime:o,lastUpdate:o}),{data:t,sdkKey:e}}function _overrideSessionId(e,t){const o=Date.now();return{data:{sessionID:e,startTime:o,lastUpdate:o},sdkKey:t}}function _bumpSession(e){const t=Date.now(),o=e.data,s=e.sdkKey;if(_isIdle(o)||_hasRunTooLong(o)){o.sessionID=(0,UUID_1.getUUID)(),o.startTime=t;const e=null===__STATSIG__||void 0===__STATSIG__?void 0:__STATSIG__.instance(s);e&&e.$emt({name:"session_expired"})}o.lastUpdate=t,_persistToStorage(o,e.sdkKey),clearTimeout(e.idleTimeoutID),clearTimeout(e.ageTimeoutID);const i=t-o.startTime;return e.idleTimeoutID=_createSessionTimeout(s,MAX_SESSION_IDLE_TIME),e.ageTimeoutID=_createSessionTimeout(s,MAX_SESSION_AGE-i),e}function _createSessionTimeout(e,t){return setTimeout(()=>{var t;const o=null===(t=(0,__StatsigGlobal_1._getStatsigGlobal)())||void 0===t?void 0:t.instance(e);o&&o.$emt({name:"session_expired"})},t)}function _isIdle({lastUpdate:e}){return Date.now()-e>MAX_SESSION_IDLE_TIME}function _hasRunTooLong({startTime:e}){return Date.now()-e>MAX_SESSION_AGE}function _getSessionIDStorageKey(e){return`statsig.session_id.${(0,CacheKey_1._getStorageKey)(e)}`}function _persistToStorage(e,t){const o=_getSessionIDStorageKey(t);try{(0,StorageProvider_1._setObjectInStorage)(o,e)}catch(e){Log_1.Log.warn("Failed to save SessionID")}}function _loadFromStorage(e){const t=_getSessionIDStorageKey(e);return(0,StorageProvider_1._getObjectFromStorage)(t)}exports.SessionID={get:e=>exports.StatsigSession.get(e).data.sessionID},exports.StatsigSession={get:e=>{return null==PROMISE_MAP[e]&&(PROMISE_MAP[e]=_loadSession(e)),_bumpSession(PROMISE_MAP[e])},overrideInitialSessionID:(e,t)=>{PROMISE_MAP[t]=_overrideSessionId(e,t)}};

},{"./$_StatsigGlobal":60,"./CacheKey":61,"./Log":73,"./StorageProvider":97,"./UUID":100}],84:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports._fastApproxSizeOf=void 0;const CURLY_AND_SQUARE_BRACKET_SIZE=2,APPROX_ADDITIONAL_SIZE=1,_fastApproxSizeOf=(e,t)=>{let o=0;const r=Object.keys(e);for(let p=0;p<r.length;p++){const s=r[p],f=e[s];if(o+=s.length,(o+="object"==typeof f&&null!==f?(0,exports._fastApproxSizeOf)(f,t)+2:String(f).length+1)>=t)return o}return o};exports._fastApproxSizeOf=_fastApproxSizeOf;

},{}],85:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.StableID=void 0;const CacheKey_1=require("./CacheKey"),Log_1=require("./Log"),SafeJs_1=require("./SafeJs"),StorageProvider_1=require("./StorageProvider"),UUID_1=require("./UUID"),PROMISE_MAP={},COOKIE_ENABLED_MAP={},DISABLED_MAP={};function _getStableIDStorageKey(e){return`statsig.stable_id.${(0,CacheKey_1._getStorageKey)(e)}`}function _persistToStorage(e,t){const o=_getStableIDStorageKey(t);try{(0,StorageProvider_1._setObjectInStorage)(o,e)}catch(e){Log_1.Log.warn("Failed to save StableID to storage")}}function _loadFromStorage(e){const t=_getStableIDStorageKey(e);return(0,StorageProvider_1._getObjectFromStorage)(t)}function _loadFromCookie(e){if(!COOKIE_ENABLED_MAP[e]||null==(0,SafeJs_1._getDocumentSafe)())return null;const t=document.cookie.split(";");for(const o of t){const[t,r]=o.trim().split("=");if(t===_getCookieName(e))return decodeURIComponent(r)}return null}function _persistToCookie(e,t){if(!COOKIE_ENABLED_MAP[t]||!document)return;const o=new Date;o.setFullYear(o.getFullYear()+1),document.cookie=`${_getCookieName(t)}=${encodeURIComponent(e)}; expires=${o.toUTCString()}; path=/`}function _getCookieName(e){return`statsig.stable_id.${(0,CacheKey_1._getStorageKey)(e)}`}exports.StableID={cookiesEnabled:!1,randomID:Math.random().toString(36),get:e=>{if(DISABLED_MAP[e])return null;if(null!=PROMISE_MAP[e])return PROMISE_MAP[e];let t=null;return null!=(t=_loadFromCookie(e))?(PROMISE_MAP[e]=t,_persistToStorage(t,e),t):(null==(t=_loadFromStorage(e))&&(t=(0,UUID_1.getUUID)()),_persistToStorage(t,e),_persistToCookie(t,e),PROMISE_MAP[e]=t,t)},setOverride:(e,t)=>{PROMISE_MAP[t]=e,_persistToStorage(e,t),_persistToCookie(e,t)},_setCookiesEnabled:(e,t)=>{COOKIE_ENABLED_MAP[e]=t},_setDisabled:(e,t)=>{DISABLED_MAP[e]=t}};

},{"./CacheKey":61,"./Log":73,"./SafeJs":82,"./StorageProvider":97,"./UUID":100}],86:[function(require,module,exports){
"use strict";var __awaiter=this&&this.__awaiter||function(e,i,t,o){return new(t||(t=Promise))(function(s,r){function n(e){try{l(o.next(e))}catch(e){r(e)}}function a(e){try{l(o.throw(e))}catch(e){r(e)}}function l(e){var i;e.done?s(e.value):(i=e.value,i instanceof t?i:new t(function(e){e(i)})).then(n,a)}l((o=o.apply(e,i||[])).next())})};Object.defineProperty(exports,"__esModule",{value:!0}),exports.StatsigClientBase=void 0,require("./$_StatsigGlobal");const __StatsigGlobal_1=require("./$_StatsigGlobal"),ErrorBoundary_1=require("./ErrorBoundary"),EventLogger_1=require("./EventLogger"),Log_1=require("./Log"),MemoKey_1=require("./MemoKey"),SafeJs_1=require("./SafeJs"),SessionID_1=require("./SessionID"),StableID_1=require("./StableID"),StatsigOptionsCommon_1=require("./StatsigOptionsCommon"),StorageProvider_1=require("./StorageProvider"),MAX_MEMO_CACHE_SIZE=3e3;class StatsigClientBase{constructor(e,i,t,o){var s,r,n,a;this.loadingStatus="Uninitialized",this._initializePromise=null,this._listeners={};const l=this.$emt.bind(this);null!=(null===o||void 0===o?void 0:o.logLevel)&&(Log_1.Log.level=o.logLevel),(null===o||void 0===o?void 0:o.disableStorage)&&StorageProvider_1.Storage._setDisabled(!0),(null===o||void 0===o?void 0:o.initialSessionID)&&SessionID_1.StatsigSession.overrideInitialSessionID(o.initialSessionID,e),(null===o||void 0===o?void 0:o.storageProvider)&&StorageProvider_1.Storage._setProvider(o.storageProvider),(null===o||void 0===o?void 0:o.enableCookies)&&StableID_1.StableID._setCookiesEnabled(e,o.enableCookies),(null===o||void 0===o?void 0:o.disableStableID)&&StableID_1.StableID._setDisabled(e,!0),this._sdkKey=e,this._options=null!==o&&void 0!==o?o:{},this._memoCache={},this.overrideAdapter=null!==(s=null===o||void 0===o?void 0:o.overrideAdapter)&&void 0!==s?s:null,this._logger=new EventLogger_1.EventLogger(e,l,t,o),this._errorBoundary=new ErrorBoundary_1.ErrorBoundary(e,o,l),this._errorBoundary.wrap(this),this._errorBoundary.wrap(i),this._errorBoundary.wrap(this._logger),t.setErrorBoundary(this._errorBoundary),this.dataAdapter=i,this.dataAdapter.attach(e,o,t),this.storageProvider=StorageProvider_1.Storage,null===(a=null===(n=null===(r=this.overrideAdapter)||void 0===r?void 0:r.loadFromStorage)||void 0===n?void 0:n.call(r))||void 0===a||a.catch(e=>this._errorBoundary.logError("OA::loadFromStorage",e)),this._primeReadyRipcord(),_assignGlobalInstance(e,this)}updateRuntimeOptions(e){e.loggingEnabled?(this._options.loggingEnabled=e.loggingEnabled,this._logger.setLoggingEnabled(e.loggingEnabled)):null!=e.disableLogging&&(this._options.disableLogging=e.disableLogging,this._logger.setLoggingEnabled(e.disableLogging?"disabled":"browser-only")),null!=e.disableStorage&&(this._options.disableStorage=e.disableStorage,StorageProvider_1.Storage._setDisabled(e.disableStorage)),null!=e.enableCookies&&(this._options.enableCookies=e.enableCookies,StableID_1.StableID._setCookiesEnabled(this._sdkKey,e.enableCookies)),e.logEventCompressionMode?this._logger.setLogEventCompressionMode(e.logEventCompressionMode):e.disableCompression&&this._logger.setLogEventCompressionMode(StatsigOptionsCommon_1.LogEventCompressionMode.Disabled)}flush(){return this._logger.flush()}shutdown(){return __awaiter(this,void 0,void 0,function*(){this.$emt({name:"pre_shutdown"}),this._setStatus("Uninitialized",null),this._initializePromise=null,yield this._logger.stop()})}on(e,i){this._listeners[e]||(this._listeners[e]=[]),this._listeners[e].push(i)}off(e,i){if(this._listeners[e]){const t=this._listeners[e].indexOf(i);-1!==t&&this._listeners[e].splice(t,1)}}$on(e,i){i.__isInternal=!0,this.on(e,i)}$emt(e){var i;const t=i=>{try{i(e)}catch(t){if(!0===i.__isInternal)return void this._errorBoundary.logError(`__emit:${e.name}`,t);Log_1.Log.error("An error occurred in a StatsigClientEvent listener. This is not an issue with Statsig.",e)}};this._listeners[e.name]&&this._listeners[e.name].forEach(e=>t(e)),null===(i=this._listeners["*"])||void 0===i||i.forEach(t)}_setStatus(e,i){this.loadingStatus=e,this._memoCache={},this.$emt({name:"values_updated",status:e,values:i})}_enqueueExposure(e,i,t){!0!==(null===t||void 0===t?void 0:t.disableExposureLog)?this._logger.enqueue(i):this._logger.incrementNonExposureCount(e)}_memoize(e,i){return(t,o)=>{if(this._options.disableEvaluationMemoization)return i(t,o);const s=(0,MemoKey_1.createMemoKey)(e,t,o);return s?(s in this._memoCache||(Object.keys(this._memoCache).length>=MAX_MEMO_CACHE_SIZE&&(this._memoCache={}),this._memoCache[s]=i(t,o)),this._memoCache[s]):i(t,o)}}}function _assignGlobalInstance(e,i){var t;if((0,SafeJs_1._isServerEnv)())return;const o=(0,__StatsigGlobal_1._getStatsigGlobal)(),s=null!==(t=o.instances)&&void 0!==t?t:{},r=i;null!=s[e]&&Log_1.Log.warn("Creating multiple Statsig clients with the same SDK key can lead to unexpected behavior. Multi-instance support requires different SDK keys."),s[e]=r,o.firstInstance||(o.firstInstance=r),o.instances=s,__STATSIG__=o}exports.StatsigClientBase=StatsigClientBase;

},{"./$_StatsigGlobal":60,"./ErrorBoundary":67,"./EventLogger":70,"./Log":73,"./MemoKey":74,"./SafeJs":82,"./SessionID":83,"./StableID":85,"./StatsigOptionsCommon":91,"./StorageProvider":97}],87:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ErrorTag=void 0,exports.ErrorTag={NetworkError:"NetworkError"};

},{}],88:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.DataAdapterCachePrefix=void 0,exports.DataAdapterCachePrefix="statsig.cached";

},{}],89:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports._createLayerParameterExposure=exports._createConfigExposure=exports._mapExposures=exports._createGateExposure=exports._isExposureEvent=void 0;const CONFIG_EXPOSURE_NAME="statsig::config_exposure",GATE_EXPOSURE_NAME="statsig::gate_exposure",LAYER_EXPOSURE_NAME="statsig::layer_exposure",_createExposure=(e,a,o,r,t)=>(o.bootstrapMetadata&&(r.bootstrapMetadata=o.bootstrapMetadata),{eventName:e,user:a,value:null,metadata:_addEvaluationDetailsToMetadata(o,r),secondaryExposures:t,time:Date.now()}),_isExposureEvent=({eventName:e})=>e===GATE_EXPOSURE_NAME||e===CONFIG_EXPOSURE_NAME||e===LAYER_EXPOSURE_NAME;exports._isExposureEvent=_isExposureEvent;const _createGateExposure=(e,a,o)=>{var r,t,s;const n={gate:a.name,gateValue:String(a.value),ruleID:a.ruleID};return null!=(null===(r=a.__evaluation)||void 0===r?void 0:r.version)&&(n.configVersion=a.__evaluation.version),_createExposure(GATE_EXPOSURE_NAME,e,a.details,n,_mapExposures(null!==(s=null===(t=a.__evaluation)||void 0===t?void 0:t.secondary_exposures)&&void 0!==s?s:[],o))};function _mapExposures(e,a){return e.map(e=>"string"==typeof e?(null!==a&&void 0!==a?a:{})[e]:e).filter(e=>null!=e)}exports._createGateExposure=_createGateExposure,exports._mapExposures=_mapExposures;const _createConfigExposure=(e,a,o)=>{var r,t,s,n;const i={config:a.name,ruleID:a.ruleID};return null!=(null===(r=a.__evaluation)||void 0===r?void 0:r.version)&&(i.configVersion=a.__evaluation.version),null!=(null===(t=a.__evaluation)||void 0===t?void 0:t.passed)&&(i.rulePassed=String(a.__evaluation.passed)),_createExposure(CONFIG_EXPOSURE_NAME,e,a.details,i,_mapExposures(null!==(n=null===(s=a.__evaluation)||void 0===s?void 0:s.secondary_exposures)&&void 0!==n?n:[],o))};exports._createConfigExposure=_createConfigExposure;const _createLayerParameterExposure=(e,a,o,r)=>{var t,s,n,i,u,l,_;const E=a.__evaluation,p=!0===(null===(t=null===E||void 0===E?void 0:E.explicit_parameters)||void 0===t?void 0:t.includes(o));let v="",d=null!==(s=null===E||void 0===E?void 0:E.undelegated_secondary_exposures)&&void 0!==s?s:[];p&&(v=null!==(n=E.allocated_experiment_name)&&void 0!==n?n:"",d=null!==(i=E.secondary_exposures)&&void 0!==i?i:[]);const c=null===(u=a.__evaluation)||void 0===u?void 0:u.parameter_rule_ids,x={config:a.name,parameterName:o,ruleID:null!==(l=null===c||void 0===c?void 0:c[o])&&void 0!==l?l:a.ruleID,allocatedExperiment:v,isExplicitParameter:String(p)};return null!=(null===(_=a.__evaluation)||void 0===_?void 0:_.version)&&(x.configVersion=a.__evaluation.version),_createExposure(LAYER_EXPOSURE_NAME,e,a.details,x,_mapExposures(d,r))};exports._createLayerParameterExposure=_createLayerParameterExposure;const _addEvaluationDetailsToMetadata=(e,a)=>(a.reason=e.reason,e.lcut&&(a.lcut=String(e.lcut)),e.receivedAt&&(a.receivedAt=String(e.receivedAt)),a);

},{}],90:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.StatsigMetadataProvider=exports.SDK_VERSION=void 0,exports.SDK_VERSION="3.21.1";let metadata={sdkVersion:exports.SDK_VERSION,sdkType:"js-mono"};exports.StatsigMetadataProvider={get:()=>metadata,add:t=>{metadata=Object.assign(Object.assign({},metadata),t)}};

},{}],91:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.LoggingEnabledOption=exports.LogEventCompressionMode=void 0,exports.LogEventCompressionMode={Disabled:"d",Enabled:"e",Forced:"f"},exports.LoggingEnabledOption={disabled:"disabled",browserOnly:"browser-only",always:"always"};

},{}],92:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});

},{}],93:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports._makeTypedGet=exports._mergeOverride=exports._makeLayer=exports._makeExperiment=exports._makeDynamicConfig=exports._makeFeatureGate=void 0;const Log_1=require("./Log"),TypingUtils_1=require("./TypingUtils");function _makeEvaluation(e,t,a,n){var i;return{name:e,details:t,ruleID:null!==(i=null===a||void 0===a?void 0:a.rule_id)&&void 0!==i?i:"",__evaluation:a,value:n}}function _makeFeatureGate(e,t,a){var n;return Object.assign(Object.assign({},_makeEvaluation(e,t,a,!0===(null===a||void 0===a?void 0:a.value))),{idType:null!==(n=null===a||void 0===a?void 0:a.id_type)&&void 0!==n?n:null})}function _makeDynamicConfig(e,t,a){var n;const i=null!==(n=null===a||void 0===a?void 0:a.value)&&void 0!==n?n:{};return Object.assign(Object.assign({},_makeEvaluation(e,t,a,i)),{get:_makeTypedGet(e,null===a||void 0===a?void 0:a.value)})}function _makeExperiment(e,t,a){var n;const i=_makeDynamicConfig(e,t,a);return Object.assign(Object.assign({},i),{groupName:null!==(n=null===a||void 0===a?void 0:a.group_name)&&void 0!==n?n:null})}function _makeLayer(e,t,a,n){var i,o;return Object.assign(Object.assign({},_makeEvaluation(e,t,a,void 0)),{get:_makeTypedGet(e,null===a||void 0===a?void 0:a.value,n),groupName:null!==(i=null===a||void 0===a?void 0:a.group_name)&&void 0!==i?i:null,__value:null!==(o=null===a||void 0===a?void 0:a.value)&&void 0!==o?o:{}})}function _mergeOverride(e,t,a,n){return Object.assign(Object.assign(Object.assign({},e),t),{get:_makeTypedGet(e.name,a,n)})}function _makeTypedGet(e,t,a){return(n,i)=>{var o;const l=null!==(o=null===t||void 0===t?void 0:t[n])&&void 0!==o?o:null;return null==l?null!==i&&void 0!==i?i:null:null==i||(0,TypingUtils_1._isTypeMatch)(l,i)?(null===a||void 0===a||a(n),l):(Log_1.Log.warn(`Parameter type mismatch. '${e}.${n}' was found to be type '${typeof l}' but fallback/return type is '${typeof i}'. See https://docs.statsig.com/client/javascript-sdk/#typed-getters`),null!==i&&void 0!==i?i:null)}}exports._makeFeatureGate=_makeFeatureGate,exports._makeDynamicConfig=_makeDynamicConfig,exports._makeExperiment=_makeExperiment,exports._makeLayer=_makeLayer,exports._mergeOverride=_mergeOverride,exports._makeTypedGet=_makeTypedGet;

},{"./Log":73,"./TypingUtils":99}],94:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});

},{}],95:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.UPDATE_DETAIL_ERROR_MESSAGES=exports.createUpdateDetails=void 0;const createUpdateDetails=(e,t,r,o,a,s)=>({duration:r,source:t,success:e,error:o,sourceUrl:a,warnings:s});exports.createUpdateDetails=createUpdateDetails,exports.UPDATE_DETAIL_ERROR_MESSAGES={NO_NETWORK_DATA:"No data was returned from the network. This may be due to a network timeout if a timeout value was specified in the options or ad blocker error."};

},{}],96:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports._getFullUserHash=exports._normalizeUser=void 0;const Hashing_1=require("./Hashing"),Log_1=require("./Log");function _normalizeUser(e,r,n){try{const t=JSON.parse(JSON.stringify(e));return null!=r&&null!=r.environment?t.statsigEnvironment=r.environment:null!=n&&(t.statsigEnvironment={tier:n}),t}catch(e){return Log_1.Log.error("Failed to JSON.stringify user"),{statsigEnvironment:void 0}}}function _getFullUserHash(e){return e?(0,Hashing_1._DJB2Object)(e):null}exports._normalizeUser=_normalizeUser,exports._getFullUserHash=_getFullUserHash;

},{"./Hashing":71,"./Log":73}],97:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports._setObjectInStorage=exports._getObjectFromStorage=exports.Storage=void 0;const Log_1=require("./Log"),SafeJs_1=require("./SafeJs"),inMemoryStore={},_inMemoryProvider={isReady:()=>!0,isReadyResolver:()=>null,getProviderName:()=>"InMemory",getItem:e=>inMemoryStore[e]?inMemoryStore[e]:null,setItem:(e,r)=>{inMemoryStore[e]=r},removeItem:e=>{delete inMemoryStore[e]},getAllKeys:()=>Object.keys(inMemoryStore)};let _localStorageProvider=null;try{const e=(0,SafeJs_1._getWindowSafe)();e&&e.localStorage&&"function"==typeof e.localStorage.getItem&&(_localStorageProvider={isReady:()=>!0,isReadyResolver:()=>null,getProviderName:()=>"LocalStorage",getItem:r=>e.localStorage.getItem(r),setItem:(r,t)=>e.localStorage.setItem(r,t),removeItem:r=>e.localStorage.removeItem(r),getAllKeys:()=>Object.keys(e.localStorage)})}catch(e){Log_1.Log.warn("Failed to setup localStorageProvider.")}let _main=null!==_localStorageProvider&&void 0!==_localStorageProvider?_localStorageProvider:_inMemoryProvider,_current=_main;function _inMemoryBreaker(e){try{return e()}catch(e){if(e instanceof Error&&"SecurityError"===e.name)return exports.Storage._setProvider(_inMemoryProvider),null;if(e instanceof Error&&"QuotaExceededError"===e.name){const r=exports.Storage.getAllKeys().filter(e=>e.startsWith("statsig."));e.message=`${e.message}. Statsig Keys: ${r.length}`}throw e}}function _getObjectFromStorage(e){const r=exports.Storage.getItem(e);return JSON.parse(null!==r&&void 0!==r?r:"null")}function _setObjectInStorage(e,r){exports.Storage.setItem(e,JSON.stringify(r))}exports.Storage={isReady:()=>_current.isReady(),isReadyResolver:()=>_current.isReadyResolver(),getProviderName:()=>_current.getProviderName(),getItem:e=>_inMemoryBreaker(()=>_current.getItem(e)),setItem:(e,r)=>_inMemoryBreaker(()=>_current.setItem(e,r)),removeItem:e=>_current.removeItem(e),getAllKeys:()=>_current.getAllKeys(),_setProvider:e=>{_main=e,_current=e},_setDisabled:e=>{_current=e?_inMemoryProvider:_main}},exports._getObjectFromStorage=_getObjectFromStorage,exports._setObjectInStorage=_setObjectInStorage;

},{"./Log":73,"./SafeJs":82}],98:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports._typedJsonParse=void 0;const Log_1=require("./Log");function _typedJsonParse(e,r,o){try{const o=JSON.parse(e);if(o&&"object"==typeof o&&r in o)return o}catch(e){}return Log_1.Log.error(`Failed to parse ${o}`),null}exports._typedJsonParse=_typedJsonParse;

},{"./Log":73}],99:[function(require,module,exports){
"use strict";function _typeOf(e){return Array.isArray(e)?"array":typeof e}function _isTypeMatch(e,r){const t=e=>Array.isArray(e)?"array":null===e?"null":typeof e;return t(e)===t(r)}Object.defineProperty(exports,"__esModule",{value:!0}),exports._isTypeMatch=exports._typeOf=void 0,exports._typeOf=_typeOf,exports._isTypeMatch=_isTypeMatch;

},{}],100:[function(require,module,exports){
"use strict";function getUUID(){if("undefined"!=typeof crypto&&"function"==typeof crypto.randomUUID)return crypto.randomUUID();let e=(new Date).getTime(),x="undefined"!=typeof performance&&performance.now&&1e3*performance.now()||0;return`xxxxxxxx-xxxx-4xxx-${"89ab"[Math.floor(4*Math.random())]}xxx-xxxxxxxxxxxx`.replace(/[xy]/g,t=>{let o=16*Math.random();return e>0?(o=(e+o)%16|0,e=Math.floor(e/16)):(o=(x+o)%16|0,x=Math.floor(x/16)),("x"===t?o:7&o|8).toString(16)})}Object.defineProperty(exports,"__esModule",{value:!0}),exports.getUUID=void 0,exports.getUUID=getUUID;

},{}],101:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.UrlConfiguration=void 0;const Hashing_1=require("./Hashing"),NetworkConfig_1=require("./NetworkConfig"),ENDPOINT_DNS_KEY_MAP={[NetworkConfig_1.Endpoint._initialize]:"i",[NetworkConfig_1.Endpoint._rgstr]:"e",[NetworkConfig_1.Endpoint._download_config_specs]:"d"};class UrlConfiguration{constructor(t,i,o,r){this.customUrl=null,this.fallbackUrls=null,this.endpoint=t,this.endpointDnsKey=ENDPOINT_DNS_KEY_MAP[t],i&&(this.customUrl=i),!i&&o&&(this.customUrl=o.endsWith("/")?`${o}${t}`:`${o}/${t}`),r&&(this.fallbackUrls=r);const n=NetworkConfig_1.NetworkDefault[t];this.defaultUrl=`${n}/${t}`}getUrl(){var t;return null!==(t=this.customUrl)&&void 0!==t?t:this.defaultUrl}getChecksum(){var t;const i=(null!==(t=this.fallbackUrls)&&void 0!==t?t:[]).sort().join(",");return(0,Hashing_1._DJB2)(this.customUrl+i)}}exports.UrlConfiguration=UrlConfiguration;

},{"./Hashing":71,"./NetworkConfig":75}],102:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports._notifyVisibilityChanged=exports._subscribeToVisiblityChanged=exports._isUnloading=exports._isCurrentlyVisible=void 0;const SafeJs_1=require("./SafeJs"),FOREGROUND="foreground",BACKGROUND="background",LISTENERS=[];let current=FOREGROUND,isUnloading=!1;const _isCurrentlyVisible=()=>current===FOREGROUND;exports._isCurrentlyVisible=_isCurrentlyVisible;const _isUnloading=()=>isUnloading;exports._isUnloading=_isUnloading;const _subscribeToVisiblityChanged=i=>{LISTENERS.unshift(i)};exports._subscribeToVisiblityChanged=_subscribeToVisiblityChanged;const _notifyVisibilityChanged=i=>{i!==current&&(current=i,LISTENERS.forEach(e=>e(i)))};exports._notifyVisibilityChanged=_notifyVisibilityChanged,(0,SafeJs_1._addWindowEventListenerSafe)("focus",()=>{isUnloading=!1,(0,exports._notifyVisibilityChanged)(FOREGROUND)}),(0,SafeJs_1._addWindowEventListenerSafe)("blur",()=>(0,exports._notifyVisibilityChanged)(BACKGROUND)),(0,SafeJs_1._addDocumentEventListenerSafe)("visibilitychange",()=>{(0,exports._notifyVisibilityChanged)("visible"===document.visibilityState?FOREGROUND:BACKGROUND)}),(0,SafeJs_1._addWindowEventListenerSafe)((0,SafeJs_1._getUnloadEvent)(),()=>{isUnloading=!0,(0,exports._notifyVisibilityChanged)(BACKGROUND)});

},{"./SafeJs":82}],103:[function(require,module,exports){
"use strict";var __createBinding=this&&this.__createBinding||(Object.create?function(e,r,t,o){void 0===o&&(o=t);var i=Object.getOwnPropertyDescriptor(r,t);i&&("get"in i?r.__esModule:!i.writable&&!i.configurable)||(i={enumerable:!0,get:function(){return r[t]}}),Object.defineProperty(e,o,i)}:function(e,r,t,o){void 0===o&&(o=t),e[o]=r[t]}),__exportStar=this&&this.__exportStar||function(e,r){for(var t in e)"default"===t||Object.prototype.hasOwnProperty.call(r,t)||__createBinding(r,e,t)};Object.defineProperty(exports,"__esModule",{value:!0}),exports.Storage=exports.Log=exports.EventLogger=exports.Diagnostics=void 0,require("./$_StatsigGlobal");const __StatsigGlobal_1=require("./$_StatsigGlobal"),Diagnostics_1=require("./Diagnostics");Object.defineProperty(exports,"Diagnostics",{enumerable:!0,get:function(){return Diagnostics_1.Diagnostics}});const EventLogger_1=require("./EventLogger");Object.defineProperty(exports,"EventLogger",{enumerable:!0,get:function(){return EventLogger_1.EventLogger}});const Log_1=require("./Log");Object.defineProperty(exports,"Log",{enumerable:!0,get:function(){return Log_1.Log}});const StatsigMetadata_1=require("./StatsigMetadata"),StorageProvider_1=require("./StorageProvider");Object.defineProperty(exports,"Storage",{enumerable:!0,get:function(){return StorageProvider_1.Storage}}),__exportStar(require("./$_StatsigGlobal"),exports),__exportStar(require("./CacheKey"),exports),__exportStar(require("./ClientInterfaces"),exports),__exportStar(require("./DataAdapterCore"),exports),__exportStar(require("./Diagnostics"),exports),__exportStar(require("./DownloadConfigSpecsResponse"),exports),__exportStar(require("./ErrorBoundary"),exports),__exportStar(require("./EvaluationOptions"),exports),__exportStar(require("./EvaluationTypes"),exports),__exportStar(require("./Hashing"),exports),__exportStar(require("./InitializeResponse"),exports),__exportStar(require("./Log"),exports),__exportStar(require("./MemoKey"),exports),__exportStar(require("./NetworkConfig"),exports),__exportStar(require("./NetworkCore"),exports),__exportStar(require("./OverrideAdapter"),exports),__exportStar(require("./ParamStoreTypes"),exports),__exportStar(require("./SafeJs"),exports),__exportStar(require("./SDKType"),exports),__exportStar(require("./SessionID"),exports),__exportStar(require("./SizeOf"),exports),__exportStar(require("./StableID"),exports),__exportStar(require("./StatsigClientBase"),exports),__exportStar(require("./StatsigClientEventEmitter"),exports),__exportStar(require("./StatsigDataAdapter"),exports),__exportStar(require("./StatsigEvent"),exports),__exportStar(require("./StatsigMetadata"),exports),__exportStar(require("./StatsigOptionsCommon"),exports),__exportStar(require("./StatsigPlugin"),exports),__exportStar(require("./StatsigTypeFactories"),exports),__exportStar(require("./StatsigTypes"),exports),__exportStar(require("./StatsigUser"),exports),__exportStar(require("./StorageProvider"),exports),__exportStar(require("./TypedJsonParse"),exports),__exportStar(require("./TypingUtils"),exports),__exportStar(require("./UrlConfiguration"),exports),__exportStar(require("./UUID"),exports),__exportStar(require("./VisibilityObserving"),exports),__exportStar(require("./StatsigUpdateDetails"),exports),__exportStar(require("./SDKFlags"),exports),Object.assign((0,__StatsigGlobal_1._getStatsigGlobal)(),{Log:Log_1.Log,SDK_VERSION:StatsigMetadata_1.SDK_VERSION});

},{"./$_StatsigGlobal":60,"./CacheKey":61,"./ClientInterfaces":62,"./DataAdapterCore":63,"./Diagnostics":64,"./DownloadConfigSpecsResponse":66,"./ErrorBoundary":67,"./EvaluationOptions":68,"./EvaluationTypes":69,"./EventLogger":70,"./Hashing":71,"./InitializeResponse":72,"./Log":73,"./MemoKey":74,"./NetworkConfig":75,"./NetworkCore":76,"./OverrideAdapter":78,"./ParamStoreTypes":79,"./SDKFlags":80,"./SDKType":81,"./SafeJs":82,"./SessionID":83,"./SizeOf":84,"./StableID":85,"./StatsigClientBase":86,"./StatsigClientEventEmitter":87,"./StatsigDataAdapter":88,"./StatsigEvent":89,"./StatsigMetadata":90,"./StatsigOptionsCommon":91,"./StatsigPlugin":92,"./StatsigTypeFactories":93,"./StatsigTypes":94,"./StatsigUpdateDetails":95,"./StatsigUser":96,"./StorageProvider":97,"./TypedJsonParse":98,"./TypingUtils":99,"./UUID":100,"./UrlConfiguration":101,"./VisibilityObserving":102}],104:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports._resolveDeltasResponse=void 0;const client_core_1=require("@statsig/client-core"),MAX_DELTAS_SORT_DEPTH=2;function _resolveDeltasResponse(e,s){const t=(0,client_core_1._typedJsonParse)(s,"checksum","DeltasEvaluationResponse");if(!t)return{hadBadDeltaChecksum:!0};const n=_handleDeletedEntries(_mergeDeltasIntoCache(e,t)),a=(0,client_core_1._DJB2Object)({feature_gates:n.feature_gates,dynamic_configs:n.dynamic_configs,layer_configs:n.layer_configs},MAX_DELTAS_SORT_DEPTH);return a===t.checksumV2?JSON.stringify(n):{hadBadDeltaChecksum:!0,badChecksum:a,badMergedConfigs:n,badFullResponse:t.deltas_full_response}}function _mergeDeltasIntoCache(e,s){return Object.assign(Object.assign(Object.assign({},e),s),{feature_gates:Object.assign(Object.assign({},e.feature_gates),s.feature_gates),layer_configs:Object.assign(Object.assign({},e.layer_configs),s.layer_configs),dynamic_configs:Object.assign(Object.assign({},e.dynamic_configs),s.dynamic_configs)})}function _handleDeletedEntries(e){const s=e;return _deleteEntriesInRecord(e.deleted_gates,s.feature_gates),delete s.deleted_gates,_deleteEntriesInRecord(e.deleted_configs,s.dynamic_configs),delete s.deleted_configs,_deleteEntriesInRecord(e.deleted_layers,s.layer_configs),delete s.deleted_layers,s}function _deleteEntriesInRecord(e,s){null===e||void 0===e||e.forEach(e=>{delete s[e]})}exports._resolveDeltasResponse=_resolveDeltasResponse;

},{"@statsig/client-core":103}],105:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const client_core_1=require("@statsig/client-core");class EvaluationStore{constructor(t){this._sdkKey=t,this._rawValues=null,this._values=null,this._source="Uninitialized",this._lcut=0,this._receivedAt=0,this._bootstrapMetadata=null,this._warnings=new Set}reset(){this._values=null,this._rawValues=null,this._source="Loading",this._lcut=0,this._receivedAt=0,this._bootstrapMetadata=null,this._warnings.clear()}finalize(){this._values||(this._source="NoValues")}getValues(){return this._rawValues?(0,client_core_1._typedJsonParse)(this._rawValues,"has_updates","EvaluationStoreValues"):null}setValues(t,e){var s;if(!t)return!1;const i=(0,client_core_1._typedJsonParse)(t.data,"has_updates","EvaluationResponse");return null!=i&&(this._source=t.source,!0!==(null===i||void 0===i?void 0:i.has_updates)||(this._rawValues=t.data,this._lcut=i.time,this._receivedAt=t.receivedAt,this._values=i,this._bootstrapMetadata=this._extractBootstrapMetadata(t.source,i),t.source&&i.user&&this._setWarningState(e,i),client_core_1.SDKFlags.setFlags(this._sdkKey,null!==(s=i.sdk_flags)&&void 0!==s?s:{}),!0))}getWarnings(){if(0!==this._warnings.size)return Array.from(this._warnings)}getGate(t){var e;return this._getDetailedStoreResult(null===(e=this._values)||void 0===e?void 0:e.feature_gates,t)}getConfig(t){var e;return this._getDetailedStoreResult(null===(e=this._values)||void 0===e?void 0:e.dynamic_configs,t)}getConfigList(){var t;return(null===(t=this._values)||void 0===t?void 0:t.dynamic_configs)?Object.values(this._values.dynamic_configs).map(t=>t.name):[]}getLayer(t){var e;return this._getDetailedStoreResult(null===(e=this._values)||void 0===e?void 0:e.layer_configs,t)}getParamStore(t){var e;return this._getDetailedStoreResult(null===(e=this._values)||void 0===e?void 0:e.param_stores,t)}getSource(){return this._source}getExposureMapping(){var t;return null===(t=this._values)||void 0===t?void 0:t.exposures}_extractBootstrapMetadata(t,e){if("Bootstrap"!==t)return null;const s={};return e.user&&(s.user=e.user),e.sdkInfo&&(s.generatorSDKInfo=e.sdkInfo),s.lcut=e.time,s}_getDetailedStoreResult(t,e){let s=null;return t&&(s=t[e]?t[e]:t[(0,client_core_1._DJB2)(e)]),{result:s,details:this._getDetails(null==s)}}_setWarningState(t,e){var s,i;const a=client_core_1.StableID.get(this._sdkKey);if((null===(s=t.customIDs)||void 0===s?void 0:s.stableID)!==a&&((null===(i=t.customIDs)||void 0===i?void 0:i.stableID)||a))this._warnings.add("StableIDMismatch");else if("user"in e){const s=e.user,i=Object.assign(Object.assign({},t),{analyticsOnlyMetadata:void 0,privateAttributes:void 0});(0,client_core_1._getFullUserHash)(i)!==(0,client_core_1._getFullUserHash)(s)&&this._warnings.add("PartialUserMatch")}}getCurrentSourceDetails(){if("Uninitialized"===this._source||"NoValues"===this._source)return{reason:this._source};const t={reason:this._source,lcut:this._lcut,receivedAt:this._receivedAt};return this._warnings.size>0&&(t.warnings=Array.from(this._warnings)),t}_getDetails(t){var e,s;const i=this.getCurrentSourceDetails();let a=i.reason;const r=null!==(e=i.warnings)&&void 0!==e?e:[];if("Bootstrap"===this._source&&r.length>0&&(a+=r[0]),"Uninitialized"!==a&&"NoValues"!==a){a=`${a}:${t?"Unrecognized":"Recognized"}`}const n="Bootstrap"===this._source&&null!==(s=this._bootstrapMetadata)&&void 0!==s?s:void 0;return n&&(i.bootstrapMetadata=n),Object.assign(Object.assign({},i),{reason:a})}}exports.default=EvaluationStore;

},{"@statsig/client-core":103}],106:[function(require,module,exports){
"use strict";var __awaiter=this&&this.__awaiter||function(i,e,t,n){return new(t||(t=Promise))(function(o,s){function l(i){try{d(n.next(i))}catch(i){s(i)}}function a(i){try{d(n.throw(i))}catch(i){s(i)}}function d(i){var e;i.done?o(i.value):(e=i.value,e instanceof t?e:new t(function(i){i(e)})).then(l,a)}d((n=n.apply(i,e||[])).next())})};Object.defineProperty(exports,"__esModule",{value:!0});const client_core_1=require("@statsig/client-core"),EvaluationResponseDeltas_1=require("./EvaluationResponseDeltas");class StatsigNetwork extends client_core_1.NetworkCore{constructor(i,e){super(i,e);const t=null===i||void 0===i?void 0:i.networkConfig;this._option=i,this._initializeUrlConfig=new client_core_1.UrlConfiguration(client_core_1.Endpoint._initialize,null===t||void 0===t?void 0:t.initializeUrl,null===t||void 0===t?void 0:t.api,null===t||void 0===t?void 0:t.initializeFallbackUrls)}fetchEvaluations(i,e,t,n,o){return __awaiter(this,void 0,void 0,function*(){var s,l,a,d,r,u;const c=e?(0,client_core_1._typedJsonParse)(e,"has_updates","InitializeResponse"):null;let v={user:n,hash:null!==(a=null===(l=null===(s=this._option)||void 0===s?void 0:s.networkConfig)||void 0===l?void 0:l.initializeHashAlgorithm)&&void 0!==a?a:"djb2",deltasResponseRequested:!1,full_checksum:null};if(null===c||void 0===c?void 0:c.has_updates){const i=(null===c||void 0===c?void 0:c.hash_used)!==(null!==(u=null===(r=null===(d=this._option)||void 0===d?void 0:d.networkConfig)||void 0===r?void 0:r.initializeHashAlgorithm)&&void 0!==u?u:"djb2");v=Object.assign(Object.assign({},v),{sinceTime:o&&!i?c.time:0,previousDerivedFields:"derived_fields"in c&&o?c.derived_fields:{},deltasResponseRequested:!0,full_checksum:c.full_checksum,partialUserMatchSinceTime:i?0:c.time})}return this._fetchEvaluations(i,c,v,t)})}_fetchEvaluations(i,e,t,n){return __awaiter(this,void 0,void 0,function*(){var o,s;const l=yield this.post({sdkKey:i,urlConfig:this._initializeUrlConfig,data:t,retries:2,isStatsigEncodable:!0,priority:n});if(204===(null===l||void 0===l?void 0:l.code))return'{"has_updates": false}';if(200!==(null===l||void 0===l?void 0:l.code))return null!==(o=null===l||void 0===l?void 0:l.body)&&void 0!==o?o:null;if(!0!==(null===e||void 0===e?void 0:e.has_updates)||!0!==(null===(s=l.body)||void 0===s?void 0:s.includes('"is_delta":true'))||!0!==t.deltasResponseRequested)return l.body;const a=(0,EvaluationResponseDeltas_1._resolveDeltasResponse)(e,l.body);return"string"==typeof a?a:this._fetchEvaluations(i,e,Object.assign(Object.assign(Object.assign({},t),a),{deltasResponseRequested:!1}),n)})}}exports.default=StatsigNetwork;

},{"./EvaluationResponseDeltas":104,"@statsig/client-core":103}],107:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports._makeParamStoreGetter=void 0;const client_core_1=require("@statsig/client-core"),NO_EXPOSURE_OPT={disableExposureLog:!0};function _shouldLogExposure(e){return null==e||!1===e.disableExposureLog}function _shouldReturnFallback(e,t){return null!=t&&!(0,client_core_1._isTypeMatch)(e,t)}function _getMappedStaticValue(e,t){return e.value}function _getMappedGateValue(e,t,a){return e.getFeatureGate(t.gate_name,_shouldLogExposure(a)?void 0:NO_EXPOSURE_OPT).value?t.pass_value:t.fail_value}function _getMappedDynamicConfigValue(e,t,a,r){const n=e.getDynamicConfig(t.config_name,_shouldLogExposure(r)?void 0:NO_EXPOSURE_OPT).get(t.param_name);return _shouldReturnFallback(n,a)?a:n}function _getMappedExperimentValue(e,t,a,r){const n=e.getExperiment(t.experiment_name,_shouldLogExposure(r)?void 0:NO_EXPOSURE_OPT).get(t.param_name);return _shouldReturnFallback(n,a)?a:n}function _getMappedLayerValue(e,t,a,r){const n=e.getLayer(t.layer_name,_shouldLogExposure(r)?void 0:NO_EXPOSURE_OPT).get(t.param_name);return _shouldReturnFallback(n,a)?a:n}function _makeParamStoreGetter(e,t,a){return(r,n)=>{if(null==t)return n;const u=t[r];if(null==u||null!=n&&(0,client_core_1._typeOf)(n)!==u.param_type)return n;switch(u.ref_type){case"static":return _getMappedStaticValue(u,a);case"gate":return _getMappedGateValue(e,u,a);case"dynamic_config":return _getMappedDynamicConfigValue(e,u,n,a);case"experiment":return _getMappedExperimentValue(e,u,n,a);case"layer":return _getMappedLayerValue(e,u,n,a);default:return n}}}exports._makeParamStoreGetter=_makeParamStoreGetter;

},{"@statsig/client-core":103}],108:[function(require,module,exports){
"use strict";var __awaiter=this&&this.__awaiter||function(e,t,i,r){return new(i||(i=Promise))(function(s,n){function a(e){try{_(r.next(e))}catch(e){n(e)}}function o(e){try{_(r.throw(e))}catch(e){n(e)}}function _(e){var t;e.done?s(e.value):(t=e.value,t instanceof i?t:new i(function(e){e(t)})).then(a,o)}_((r=r.apply(e,t||[])).next())})};Object.defineProperty(exports,"__esModule",{value:!0});const client_core_1=require("@statsig/client-core"),EvaluationStore_1=require("./EvaluationStore"),Network_1=require("./Network"),ParamStoreGetterFactory_1=require("./ParamStoreGetterFactory"),StatsigEvaluationsDataAdapter_1=require("./StatsigEvaluationsDataAdapter");class StatsigClient extends client_core_1.StatsigClientBase{static instance(e){const t=(0,client_core_1._getStatsigGlobal)().instance(e);return t instanceof StatsigClient?t:(client_core_1.Log.warn((0,client_core_1._isServerEnv)()?"StatsigClient.instance is not supported in server environments":"Unable to find StatsigClient instance"),new StatsigClient(null!==e&&void 0!==e?e:"",{}))}constructor(e,t,i=null){var r,s;client_core_1.SDKType._setClientType(e,"javascript-client");const n=new Network_1.default(i,e=>{this.$emt(e)});super(e,null!==(r=null===i||void 0===i?void 0:i.dataAdapter)&&void 0!==r?r:new StatsigEvaluationsDataAdapter_1.StatsigEvaluationsDataAdapter,n,i),this._possibleFirstTouchMetadata={},this.getFeatureGate=this._memoize(client_core_1.MemoPrefix._gate,this._getFeatureGateImpl.bind(this)),this.getDynamicConfig=this._memoize(client_core_1.MemoPrefix._dynamicConfig,this._getDynamicConfigImpl.bind(this)),this.getExperiment=this._memoize(client_core_1.MemoPrefix._experiment,this._getExperimentImpl.bind(this)),this.getConfigList=this._memoize(client_core_1.MemoPrefix._configList,this._getConfigListImpl.bind(this)),this.getLayer=this._memoize(client_core_1.MemoPrefix._layer,this._getLayerImpl.bind(this)),this.getParameterStore=this._memoize(client_core_1.MemoPrefix._paramStore,this._getParameterStoreImpl.bind(this)),this._store=new EvaluationStore_1.default(e),this._network=n,this._user=this._configureUser(t,i),this._sdkInstanceID=(0,client_core_1.getUUID)();const a=null!==(s=null===i||void 0===i?void 0:i.plugins)&&void 0!==s?s:[];for(const e of a)e.bind(this)}initializeSync(e){var t;return"Uninitialized"!==this.loadingStatus?(0,client_core_1.createUpdateDetails)(!0,this._store.getSource(),-1,null,null,["MultipleInitializations",...null!==(t=this._store.getWarnings())&&void 0!==t?t:[]]):(this._logger.start(),this.updateUserSync(this._user,e))}initializeAsync(e){return __awaiter(this,void 0,void 0,function*(){return this._initializePromise?this._initializePromise:(this._initializePromise=this._initializeAsyncImpl(e),this._initializePromise)})}updateUserSync(e,t){const i=performance.now();try{return this._updateUserSyncImpl(e,t,i)}catch(e){const t=e instanceof Error?e:new Error(String(e));return this._createErrorUpdateDetails(t,i)}}_updateUserSyncImpl(e,t,i){var r;const s=[...null!==(r=this._store.getWarnings())&&void 0!==r?r:[]];this._resetForUser(e);const n=this.dataAdapter.getDataSync(this._user);null==n&&s.push("NoCachedValues"),this._store.setValues(n,this._user),this._finalizeUpdate(n);const a=null===t||void 0===t?void 0:t.disableBackgroundCacheRefresh;return!0===a||null==a&&"Bootstrap"===(null===n||void 0===n?void 0:n.source)?(0,client_core_1.createUpdateDetails)(!0,this._store.getSource(),performance.now()-i,this._errorBoundary.getLastSeenErrorAndReset(),this._network.getLastUsedInitUrlAndReset(),s):(this._runPostUpdate(null!==n&&void 0!==n?n:null,this._user),(0,client_core_1.createUpdateDetails)(!0,this._store.getSource(),performance.now()-i,this._errorBoundary.getLastSeenErrorAndReset(),this._network.getLastUsedInitUrlAndReset(),s))}updateUserAsync(e,t){return __awaiter(this,void 0,void 0,function*(){const i=performance.now();try{return yield this._updateUserAsyncImpl(e,t)}catch(e){const t=e instanceof Error?e:new Error(String(e));return this._createErrorUpdateDetails(t,i)}})}_updateUserAsyncImpl(e,t){return __awaiter(this,void 0,void 0,function*(){this._resetForUser(e);const i=this._user;client_core_1.Diagnostics._markInitOverallStart(this._sdkKey);let r=this.dataAdapter.getDataSync(i);if(this._store.setValues(r,this._user),this._setStatus("Loading",r),r=yield this.dataAdapter.getDataAsync(r,i,t),i!==this._user)return(0,client_core_1.createUpdateDetails)(!1,this._store.getSource(),-1,new Error("User changed during update"),this._network.getLastUsedInitUrlAndReset());let s=!1;null!=r&&(client_core_1.Diagnostics._markInitProcessStart(this._sdkKey),s=this._store.setValues(r,this._user),client_core_1.Diagnostics._markInitProcessEnd(this._sdkKey,{success:s})),this._finalizeUpdate(r),s||(this._errorBoundary.attachErrorIfNoneExists(client_core_1.UPDATE_DETAIL_ERROR_MESSAGES.NO_NETWORK_DATA),this.$emt({name:"initialization_failure"})),client_core_1.Diagnostics._markInitOverallEnd(this._sdkKey,s,this._store.getCurrentSourceDetails());const n=client_core_1.Diagnostics._enqueueDiagnosticsEvent(this._user,this._logger,this._sdkKey,this._options);return(0,client_core_1.createUpdateDetails)(s,this._store.getSource(),n,this._errorBoundary.getLastSeenErrorAndReset(),this._network.getLastUsedInitUrlAndReset(),this._store.getWarnings())})}getContext(){return{sdkKey:this._sdkKey,options:this._options,values:this._store.getValues(),user:JSON.parse(JSON.stringify(this._user)),errorBoundary:this._errorBoundary,session:client_core_1.StatsigSession.get(this._sdkKey),stableID:client_core_1.StableID.get(this._sdkKey),sdkInstanceID:this._sdkInstanceID}}checkGate(e,t){return this.getFeatureGate(e,t).value}logEvent(e,t,i){const r="string"==typeof e?{eventName:e,value:t,metadata:i}:e;this.$emt({name:"log_event_called",event:r}),this._logger.enqueue(Object.assign(Object.assign({},r),{user:this._user,time:Date.now()}))}updateUserWithAnalyticsOnlyMetadata(e){this._user=this._configureUser(Object.assign(Object.assign({},this._user),{analyticsOnlyMetadata:e}),this._options)}_primeReadyRipcord(){this.$on("error",()=>{"Loading"===this.loadingStatus&&this._finalizeUpdate(null)})}_initializeAsyncImpl(e){return __awaiter(this,void 0,void 0,function*(){return client_core_1.Storage.isReady()||(yield client_core_1.Storage.isReadyResolver()),this._logger.start(),this.updateUserAsync(this._user,e)})}_createErrorUpdateDetails(e,t){var i;return(0,client_core_1.createUpdateDetails)(!1,this._store.getSource(),performance.now()-t,e,null,[...null!==(i=this._store.getWarnings())&&void 0!==i?i:[]])}_finalizeUpdate(e){this._store.finalize(),this._setStatus("Ready",e)}_runPostUpdate(e,t){this.dataAdapter.getDataAsync(e,t,{priority:"low"}).catch(e=>{client_core_1.Log.error("An error occurred after update.",e)})}_resetForUser(e){this._logger.reset(),this._store.reset(),this._user=this._configureUser(e,this._options)}_configureUser(e,t){var i;const r=(0,client_core_1._normalizeUser)(e,t),s=null===(i=r.customIDs)||void 0===i?void 0:i.stableID;return s&&client_core_1.StableID.setOverride(s,this._sdkKey),r.analyticsOnlyMetadata=Object.assign(Object.assign({},r.analyticsOnlyMetadata),this._possibleFirstTouchMetadata),r}_getFeatureGateImpl(e,t){var i,r;const{result:s,details:n}=this._store.getGate(e),a=(0,client_core_1._makeFeatureGate)(e,n,s),o=null===(r=null===(i=this.overrideAdapter)||void 0===i?void 0:i.getGateOverride)||void 0===r?void 0:r.call(i,a,this._user,t),_=null!==o&&void 0!==o?o:a;return this._enqueueExposure(e,(0,client_core_1._createGateExposure)(this._user,_,this._store.getExposureMapping()),t),this.$emt({name:"gate_evaluation",gate:_}),_}_getDynamicConfigImpl(e,t){var i,r;const{result:s,details:n}=this._store.getConfig(e),a=(0,client_core_1._makeDynamicConfig)(e,n,s),o=null===(r=null===(i=this.overrideAdapter)||void 0===i?void 0:i.getDynamicConfigOverride)||void 0===r?void 0:r.call(i,a,this._user,t),_=null!==o&&void 0!==o?o:a;return this._enqueueExposure(e,(0,client_core_1._createConfigExposure)(this._user,_,this._store.getExposureMapping()),t),this.$emt({name:"dynamic_config_evaluation",dynamicConfig:_}),_}_getExperimentImpl(e,t){var i,r,s,n;const{result:a,details:o}=this._store.getConfig(e),_=(0,client_core_1._makeExperiment)(e,o,a);null!=_.__evaluation&&(_.__evaluation.secondary_exposures=(0,client_core_1._mapExposures)(null!==(r=null===(i=_.__evaluation)||void 0===i?void 0:i.secondary_exposures)&&void 0!==r?r:[],this._store.getExposureMapping()));const l=null===(n=null===(s=this.overrideAdapter)||void 0===s?void 0:s.getExperimentOverride)||void 0===n?void 0:n.call(s,_,this._user,t),c=null!==l&&void 0!==l?l:_;return this._enqueueExposure(e,(0,client_core_1._createConfigExposure)(this._user,c,this._store.getExposureMapping()),t),this.$emt({name:"experiment_evaluation",experiment:c}),c}_getConfigListImpl(){return this._store.getConfigList()}_getLayerImpl(e,t){var i,r,s;const{result:n,details:a}=this._store.getLayer(e),o=(0,client_core_1._makeLayer)(e,a,n),_=null===(r=null===(i=this.overrideAdapter)||void 0===i?void 0:i.getLayerOverride)||void 0===r?void 0:r.call(i,o,this._user,t);(null===t||void 0===t?void 0:t.disableExposureLog)&&this._logger.incrementNonExposureCount(e);const l=(0,client_core_1._mergeOverride)(o,_,null!==(s=null===_||void 0===_?void 0:_.__value)&&void 0!==s?s:o.__value,i=>{null!==t&&void 0!==t&&t.disableExposureLog||this._enqueueExposure(e,(0,client_core_1._createLayerParameterExposure)(this._user,l,i,this._store.getExposureMapping()),t)});return this.$emt({name:"layer_evaluation",layer:l}),l}_getParameterStoreImpl(e,t){var i,r;const{result:s,details:n}=this._store.getParamStore(e);this._logger.incrementNonExposureCount(e);const a={name:e,details:n,__configuration:s,get:(0,ParamStoreGetterFactory_1._makeParamStoreGetter)(this,s,t)},o=null===(r=null===(i=this.overrideAdapter)||void 0===i?void 0:i.getParamStoreOverride)||void 0===r?void 0:r.call(i,a,t);return null!=o&&(a.__configuration=o.config,a.details=o.details,a.get=(0,ParamStoreGetterFactory_1._makeParamStoreGetter)(this,o.config,t)),a}}exports.default=StatsigClient;

},{"./EvaluationStore":105,"./Network":106,"./ParamStoreGetterFactory":107,"./StatsigEvaluationsDataAdapter":109,"@statsig/client-core":103}],109:[function(require,module,exports){
"use strict";var __awaiter=this&&this.__awaiter||function(t,e,a,r){return new(a||(a=Promise))(function(n,s){function o(t){try{u(r.next(t))}catch(t){s(t)}}function i(t){try{u(r.throw(t))}catch(t){s(t)}}function u(t){var e;t.done?n(t.value):(e=t.value,e instanceof a?e:new a(function(t){t(e)})).then(o,i)}u((r=r.apply(t,e||[])).next())})};Object.defineProperty(exports,"__esModule",{value:!0}),exports.StatsigEvaluationsDataAdapter=void 0;const client_core_1=require("@statsig/client-core"),Network_1=require("./Network");class StatsigEvaluationsDataAdapter extends client_core_1.DataAdapterCore{constructor(){super("EvaluationsDataAdapter","evaluations"),this._network=null,this._options=null}attach(t,e,a){super.attach(t,e,a),null!==a&&a instanceof Network_1.default?this._network=a:this._network=new Network_1.default(null!==e&&void 0!==e?e:{})}getDataAsync(t,e,a){return this._getDataAsyncImpl(t,(0,client_core_1._normalizeUser)(e,this._options),a)}prefetchData(t,e){return this._prefetchDataImpl(t,e)}setData(t){const e=(0,client_core_1._typedJsonParse)(t,"has_updates","data");e&&"user"in e?super.setData(t,e.user):client_core_1.Log.error("StatsigUser not found. You may be using an older server SDK version. Please upgrade your SDK or use setDataLegacy.")}setDataLegacy(t,e){super.setData(t,e)}_fetchFromNetwork(t,e,a,r){return __awaiter(this,void 0,void 0,function*(){var n;const s=yield null===(n=this._network)||void 0===n?void 0:n.fetchEvaluations(this._getSdkKey(),t,null===a||void 0===a?void 0:a.priority,e,r);return null!==s&&void 0!==s?s:null})}_getCacheKey(t){var e;const a=(0,client_core_1._getStorageKey)(this._getSdkKey(),t,null===(e=this._options)||void 0===e?void 0:e.customUserCacheKeyFunc);return`${client_core_1.DataAdapterCachePrefix}.${this._cacheSuffix}.${a}`}_isCachedResultValidFor204(t,e){return null!=t.fullUserHash&&t.fullUserHash===(0,client_core_1._getFullUserHash)(e)}}exports.StatsigEvaluationsDataAdapter=StatsigEvaluationsDataAdapter;

},{"./Network":106,"@statsig/client-core":103}],110:[function(require,module,exports){
"use strict";var __createBinding=this&&this.__createBinding||(Object.create?function(t,e,i,r){void 0===r&&(r=i);var n=Object.getOwnPropertyDescriptor(e,i);n&&("get"in n?e.__esModule:!n.writable&&!n.configurable)||(n={enumerable:!0,get:function(){return e[i]}}),Object.defineProperty(t,r,n)}:function(t,e,i,r){void 0===r&&(r=i),t[r]=e[i]}),__exportStar=this&&this.__exportStar||function(t,e){for(var i in t)"default"===i||Object.prototype.hasOwnProperty.call(e,i)||__createBinding(e,t,i)};Object.defineProperty(exports,"__esModule",{value:!0}),exports.StatsigClient=void 0;const client_core_1=require("@statsig/client-core"),StatsigClient_1=require("./StatsigClient");exports.StatsigClient=StatsigClient_1.default,__exportStar(require("@statsig/client-core"),exports);const __STATSIG__=Object.assign((0,client_core_1._getStatsigGlobal)(),{StatsigClient:StatsigClient_1.default});exports.default=__STATSIG__;

},{"./StatsigClient":108,"@statsig/client-core":103}],111:[function(require,module,exports){
(function (process){(function (){
!function(e){var t=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)},i=10;function s(){this._events={},this._conf&&n.call(this,this._conf)}function n(t){t?(this._conf=t,t.delimiter&&(this.delimiter=t.delimiter),this._maxListeners=t.maxListeners!==e?t.maxListeners:i,t.wildcard&&(this.wildcard=t.wildcard),t.newListener&&(this.newListener=t.newListener),t.verboseMemoryLeak&&(this.verboseMemoryLeak=t.verboseMemoryLeak),this.wildcard&&(this.listenerTree={})):this._maxListeners=i}function r(e,t){var i="(node) warning: possible EventEmitter memory leak detected. "+e+" listeners added. Use emitter.setMaxListeners() to increase limit.";if(this.verboseMemoryLeak&&(i+=" Event name: "+t+"."),"undefined"!=typeof process&&process.emitWarning){var s=new Error(i);s.name="MaxListenersExceededWarning",s.emitter=this,s.count=e,process.emitWarning(s)}else console.error(i),console.trace&&console.trace()}function l(e){this._events={},this.newListener=!1,this.verboseMemoryLeak=!1,n.call(this,e)}function o(e,t,i,s){if(!i)return[];var n,r,l,h,a,c,f,p=[],u=t.length,_=t[s],y=t[s+1];if(s===u&&i._listeners){if("function"==typeof i._listeners)return e&&e.push(i._listeners),[i];for(n=0,r=i._listeners.length;n<r;n++)e&&e.push(i._listeners[n]);return[i]}if("*"===_||"**"===_||i[_]){if("*"===_){for(l in i)"_listeners"!==l&&i.hasOwnProperty(l)&&(p=p.concat(o(e,t,i[l],s+1)));return p}if("**"===_){for(l in(f=s+1===u||s+2===u&&"*"===y)&&i._listeners&&(p=p.concat(o(e,t,i,u))),i)"_listeners"!==l&&i.hasOwnProperty(l)&&("*"===l||"**"===l?(i[l]._listeners&&!f&&(p=p.concat(o(e,t,i[l],u))),p=p.concat(o(e,t,i[l],s))):p=l===y?p.concat(o(e,t,i[l],s+2)):p.concat(o(e,t,i[l],s)));return p}p=p.concat(o(e,t,i[_],s+1))}if((h=i["*"])&&o(e,t,h,s+1),a=i["**"])if(s<u)for(l in a._listeners&&o(e,t,a,u),a)"_listeners"!==l&&a.hasOwnProperty(l)&&(l===y?o(e,t,a[l],s+2):l===_?o(e,t,a[l],s+1):((c={})[l]=a[l],o(e,t,{"**":c},s+1)));else a._listeners?o(e,t,a,u):a["*"]&&a["*"]._listeners&&o(e,t,a["*"],u);return p}l.EventEmitter2=l,l.prototype.delimiter=".",l.prototype.setMaxListeners=function(t){t!==e&&(this._maxListeners=t,this._conf||(this._conf={}),this._conf.maxListeners=t)},l.prototype.event="",l.prototype.once=function(e,t){return this._once(e,t,!1)},l.prototype.prependOnceListener=function(e,t){return this._once(e,t,!0)},l.prototype._once=function(e,t,i){return this._many(e,1,t,i),this},l.prototype.many=function(e,t,i){return this._many(e,t,i,!1)},l.prototype.prependMany=function(e,t,i){return this._many(e,t,i,!0)},l.prototype._many=function(e,t,i,s){var n=this;if("function"!=typeof i)throw new Error("many only accepts instances of Function");function r(){return 0==--t&&n.off(e,r),i.apply(this,arguments)}return r._origin=i,this._on(e,r,s),n},l.prototype.emit=function(){this._events||s.call(this);var e=arguments[0];if("newListener"===e&&!this.newListener&&!this._events.newListener)return!1;var t,i,n,r,l,h=arguments.length;if(this._all&&this._all.length){if(l=this._all.slice(),h>3)for(t=new Array(h),r=0;r<h;r++)t[r]=arguments[r];for(n=0,i=l.length;n<i;n++)switch(this.event=e,h){case 1:l[n].call(this,e);break;case 2:l[n].call(this,e,arguments[1]);break;case 3:l[n].call(this,e,arguments[1],arguments[2]);break;default:l[n].apply(this,t)}}if(this.wildcard){l=[];var a="string"==typeof e?e.split(this.delimiter):e.slice();o.call(this,l,a,this.listenerTree,0)}else{if("function"==typeof(l=this._events[e])){switch(this.event=e,h){case 1:l.call(this);break;case 2:l.call(this,arguments[1]);break;case 3:l.call(this,arguments[1],arguments[2]);break;default:for(t=new Array(h-1),r=1;r<h;r++)t[r-1]=arguments[r];l.apply(this,t)}return!0}l&&(l=l.slice())}if(l&&l.length){if(h>3)for(t=new Array(h-1),r=1;r<h;r++)t[r-1]=arguments[r];for(n=0,i=l.length;n<i;n++)switch(this.event=e,h){case 1:l[n].call(this);break;case 2:l[n].call(this,arguments[1]);break;case 3:l[n].call(this,arguments[1],arguments[2]);break;default:l[n].apply(this,t)}return!0}if(!this._all&&"error"===e)throw arguments[1]instanceof Error?arguments[1]:new Error("Uncaught, unspecified 'error' event.");return!!this._all},l.prototype.emitAsync=function(){this._events||s.call(this);var e=arguments[0];if("newListener"===e&&!this.newListener&&!this._events.newListener)return Promise.resolve([!1]);var t,i,n,r,l,h=[],a=arguments.length;if(this._all){if(a>3)for(t=new Array(a),r=1;r<a;r++)t[r]=arguments[r];for(n=0,i=this._all.length;n<i;n++)switch(this.event=e,a){case 1:h.push(this._all[n].call(this,e));break;case 2:h.push(this._all[n].call(this,e,arguments[1]));break;case 3:h.push(this._all[n].call(this,e,arguments[1],arguments[2]));break;default:h.push(this._all[n].apply(this,t))}}if(this.wildcard){l=[];var c="string"==typeof e?e.split(this.delimiter):e.slice();o.call(this,l,c,this.listenerTree,0)}else l=this._events[e];if("function"==typeof l)switch(this.event=e,a){case 1:h.push(l.call(this));break;case 2:h.push(l.call(this,arguments[1]));break;case 3:h.push(l.call(this,arguments[1],arguments[2]));break;default:for(t=new Array(a-1),r=1;r<a;r++)t[r-1]=arguments[r];h.push(l.apply(this,t))}else if(l&&l.length){if(l=l.slice(),a>3)for(t=new Array(a-1),r=1;r<a;r++)t[r-1]=arguments[r];for(n=0,i=l.length;n<i;n++)switch(this.event=e,a){case 1:h.push(l[n].call(this));break;case 2:h.push(l[n].call(this,arguments[1]));break;case 3:h.push(l[n].call(this,arguments[1],arguments[2]));break;default:h.push(l[n].apply(this,t))}}else if(!this._all&&"error"===e)return arguments[1]instanceof Error?Promise.reject(arguments[1]):Promise.reject("Uncaught, unspecified 'error' event.");return Promise.all(h)},l.prototype.on=function(e,t){return this._on(e,t,!1)},l.prototype.prependListener=function(e,t){return this._on(e,t,!0)},l.prototype.onAny=function(e){return this._onAny(e,!1)},l.prototype.prependAny=function(e){return this._onAny(e,!0)},l.prototype.addListener=l.prototype.on,l.prototype._onAny=function(e,t){if("function"!=typeof e)throw new Error("onAny only accepts instances of Function");return this._all||(this._all=[]),t?this._all.unshift(e):this._all.push(e),this},l.prototype._on=function(t,i,n){if("function"==typeof t)return this._onAny(t,i),this;if("function"!=typeof i)throw new Error("on only accepts instances of Function");return this._events||s.call(this),this.emit("newListener",t,i),this.wildcard?(function(t,i){for(var s=0,n=(t="string"==typeof t?t.split(this.delimiter):t.slice()).length;s+1<n;s++)if("**"===t[s]&&"**"===t[s+1])return;for(var l=this.listenerTree,o=t.shift();o!==e;){if(l[o]||(l[o]={}),l=l[o],0===t.length)return l._listeners?("function"==typeof l._listeners&&(l._listeners=[l._listeners]),l._listeners.push(i),!l._listeners.warned&&this._maxListeners>0&&l._listeners.length>this._maxListeners&&(l._listeners.warned=!0,r.call(this,l._listeners.length,o))):l._listeners=i,!0;o=t.shift()}return!0}.call(this,t,i),this):(this._events[t]?("function"==typeof this._events[t]&&(this._events[t]=[this._events[t]]),n?this._events[t].unshift(i):this._events[t].push(i),!this._events[t].warned&&this._maxListeners>0&&this._events[t].length>this._maxListeners&&(this._events[t].warned=!0,r.call(this,this._events[t].length,t))):this._events[t]=i,this)},l.prototype.off=function(i,s){if("function"!=typeof s)throw new Error("removeListener only takes instances of Function");var n,r=[];if(this.wildcard){var l="string"==typeof i?i.split(this.delimiter):i.slice();r=o.call(this,null,l,this.listenerTree,0)}else{if(!this._events[i])return this;n=this._events[i],r.push({_listeners:n})}for(var h=0;h<r.length;h++){var a=r[h];if(n=a._listeners,t(n)){for(var c=-1,f=0,p=n.length;f<p;f++)if(n[f]===s||n[f].listener&&n[f].listener===s||n[f]._origin&&n[f]._origin===s){c=f;break}if(c<0)continue;return this.wildcard?a._listeners.splice(c,1):this._events[i].splice(c,1),0===n.length&&(this.wildcard?delete a._listeners:delete this._events[i]),this.emit("removeListener",i,s),this}(n===s||n.listener&&n.listener===s||n._origin&&n._origin===s)&&(this.wildcard?delete a._listeners:delete this._events[i],this.emit("removeListener",i,s))}return function t(i){if(i!==e){var s=Object.keys(i);for(var n in s){var r=s[n],l=i[r];l instanceof Function||"object"!=typeof l||null===l||(Object.keys(l).length>0&&t(i[r]),0===Object.keys(l).length&&delete i[r])}}}(this.listenerTree),this},l.prototype.offAny=function(e){var t,i=0,s=0;if(e&&this._all&&this._all.length>0){for(i=0,s=(t=this._all).length;i<s;i++)if(e===t[i])return t.splice(i,1),this.emit("removeListenerAny",e),this}else{for(i=0,s=(t=this._all).length;i<s;i++)this.emit("removeListenerAny",t[i]);this._all=[]}return this},l.prototype.removeListener=l.prototype.off,l.prototype.removeAllListeners=function(e){if(0===arguments.length)return!this._events||s.call(this),this;if(this.wildcard)for(var t="string"==typeof e?e.split(this.delimiter):e.slice(),i=o.call(this,null,t,this.listenerTree,0),n=0;n<i.length;n++){i[n]._listeners=null}else this._events&&(this._events[e]=null);return this},l.prototype.listeners=function(e){if(this.wildcard){var i=[],n="string"==typeof e?e.split(this.delimiter):e.slice();return o.call(this,i,n,this.listenerTree,0),i}return this._events||s.call(this),this._events[e]||(this._events[e]=[]),t(this._events[e])||(this._events[e]=[this._events[e]]),this._events[e]},l.prototype.eventNames=function(){return Object.keys(this._events)},l.prototype.listenerCount=function(e){return this.listeners(e).length},l.prototype.listenersAny=function(){return this._all?this._all:[]},"function"==typeof define&&define.amd?define(function(){return l}):"object"==typeof exports?module.exports=l:window.EventEmitter2=l}();

}).call(this)}).call(this,require('_process'))
},{"_process":112}],112:[function(require,module,exports){
var cachedSetTimeout,cachedClearTimeout,process=module.exports={};function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}function runTimeout(e){if(cachedSetTimeout===setTimeout)return setTimeout(e,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(e,0);try{return cachedSetTimeout(e,0)}catch(t){try{return cachedSetTimeout.call(null,e,0)}catch(t){return cachedSetTimeout.call(this,e,0)}}}function runClearTimeout(e){if(cachedClearTimeout===clearTimeout)return clearTimeout(e);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(e);try{return cachedClearTimeout(e)}catch(t){try{return cachedClearTimeout.call(null,e)}catch(t){return cachedClearTimeout.call(this,e)}}}!function(){try{cachedSetTimeout="function"==typeof setTimeout?setTimeout:defaultSetTimout}catch(e){cachedSetTimeout=defaultSetTimout}try{cachedClearTimeout="function"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(e){cachedClearTimeout=defaultClearTimeout}}();var currentQueue,queue=[],draining=!1,queueIndex=-1;function cleanUpNextTick(){draining&&currentQueue&&(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var e=runTimeout(cleanUpNextTick);draining=!0;for(var t=queue.length;t;){for(currentQueue=queue,queue=[];++queueIndex<t;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,t=queue.length}currentQueue=null,draining=!1,runClearTimeout(e)}}function Item(e,t){this.fun=e,this.array=t}function noop(){}process.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];queue.push(new Item(e,t)),1!==queue.length||draining||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},process.title="browser",process.browser=!0,process.env={},process.argv=[],process.version="",process.versions={},process.on=noop,process.addListener=noop,process.once=noop,process.off=noop,process.removeListener=noop,process.removeAllListeners=noop,process.emit=noop,process.prependListener=noop,process.prependOnceListener=noop,process.listeners=function(e){return[]},process.binding=function(e){throw new Error("process.binding is not supported")},process.cwd=function(){return"/"},process.chdir=function(e){throw new Error("process.chdir is not supported")},process.umask=function(){return 0};

},{}],113:[function(require,module,exports){
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e=e||self).throttleDebounce={})}(this,function(e){"use strict";function t(e,t,o,n){var i,f=!1,u=0;function r(){i&&clearTimeout(i)}function c(){for(var c=arguments.length,d=new Array(c),a=0;a<c;a++)d[a]=arguments[a];var l=this,p=Date.now()-u;function s(){u=Date.now(),o.apply(l,d)}f||(n&&!i&&s(),r(),void 0===n&&p>e?s():!0!==t&&(i=setTimeout(n?function(){i=void 0}:s,void 0===n?e-p:e)))}return"boolean"!=typeof t&&(n=o,o=t,t=void 0),c.cancel=function(){r(),f=!0},c}e.debounce=function(e,o,n){return void 0===n?t(e,o,!1):t(e,n,!1!==o)},e.throttle=t,Object.defineProperty(e,"__esModule",{value:!0})});

},{}],114:[function(require,module,exports){
(function (global){(function (){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.isCommunityNewTopNavigationEnabled=exports.isCommunityAccountSwitcherEnabled=exports.championsIsActive=void 0;var _jQuery=_interopRequireDefault("undefined"!=typeof window?window.LITHIUM.jQuery:"undefined"!=typeof global?global.LITHIUM.jQuery:null),_featureGateJsClient=_interopRequireDefault(require("@atlaskit/feature-gate-js-client")),_championLeaderboard=require("../champion-leaderboard"),_championsLeaderboardGate=require("../../../web/html/assets/js/experiments/feature-gates/champions-leaderboard-gate"),_communityNewTopNavigationGate=require("../../../web/html/assets/js/experiments/feature-gates/community-new-top-navigation-gate");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _typeof(e){"@babel/helpers - typeof";return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _regenerator(){var e,t,r="function"==typeof Symbol?Symbol:{},n=r.iterator||"@@iterator",o=r.toStringTag||"@@toStringTag";function a(r,n,o,a){var c=n&&n.prototype instanceof u?n:u,l=Object.create(c.prototype);return _regeneratorDefine2(l,"_invoke",function(r,n,o){var a,u,c,l=0,s=o||[],f=!1,d={p:0,n:0,v:e,a:p,f:p.bind(e,4),d:function(t,r){return a=t,u=0,c=e,d.n=r,i}};function p(r,n){for(u=r,c=n,t=0;!f&&l&&!o&&t<s.length;t++){var o,a=s[t],p=d.p,y=a[2];r>3?(o=y===n)&&(c=a[(u=a[4])?5:(u=3,3)],a[4]=a[5]=e):a[0]<=p&&((o=r<2&&p<a[1])?(u=0,d.v=n,d.n=a[1]):p<y&&(o=r<3||a[0]>n||n>y)&&(a[4]=r,a[5]=n,d.n=y,u=0))}if(o||r>1)return i;throw f=!0,n}return function(o,s,y){if(l>1)throw TypeError("Generator is already running");for(f&&1===s&&p(s,y),u=s,c=y;(t=u<2?e:c)||!f;){a||(u?u<3?(u>1&&(d.n=-1),p(u,c)):d.n=c:d.v=c);try{if(l=2,a){if(u||(o="next"),t=a[o]){if(!(t=t.call(a,c)))throw TypeError("iterator result is not an object");if(!t.done)return t;c=t.value,u<2&&(u=0)}else 1===u&&(t=a.return)&&t.call(a),u<2&&(c=TypeError("The iterator does not provide a '"+o+"' method"),u=1);a=e}else if((t=(f=d.n<0)?c:r.call(n,d))!==i)break}catch(t){a=e,u=1,c=t}finally{l=1}}return{value:t,done:f}}}(r,o,a),!0),l}var i={};function u(){}function c(){}function l(){}t=Object.getPrototypeOf;var s=[][n]?t(t([][n]())):(_regeneratorDefine2(t={},n,function(){return this}),t),f=l.prototype=u.prototype=Object.create(s);function d(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,l):(e.__proto__=l,_regeneratorDefine2(e,o,"GeneratorFunction")),e.prototype=Object.create(f),e}return c.prototype=l,_regeneratorDefine2(f,"constructor",l),_regeneratorDefine2(l,"constructor",c),c.displayName="GeneratorFunction",_regeneratorDefine2(l,o,"GeneratorFunction"),_regeneratorDefine2(f),_regeneratorDefine2(f,o,"Generator"),_regeneratorDefine2(f,n,function(){return this}),_regeneratorDefine2(f,"toString",function(){return"[object Generator]"}),(_regenerator=function(){return{w:a,m:d}})()}function _regeneratorDefine2(e,t,r,n){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}(_regeneratorDefine2=function(e,t,r,n){function a(t,r){_regeneratorDefine2(e,t,function(e){return this._invoke(t,r,e)})}t?o?o(e,t,{value:r,enumerable:!n,configurable:!n,writable:!n}):e[t]=r:(a("next",0),a("throw",1),a("return",2))})(e,t,r,n)}function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),r.push.apply(r,n)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach(function(t){_defineProperty(e,t,r[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})}return e}function _defineProperty(e,t,r){return(t=_toPropertyKey(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function _toPropertyKey(e){var t=_toPrimitive(e,"string");return"symbol"==_typeof(t)?t:t+""}function _toPrimitive(e,t){if("object"!=_typeof(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=_typeof(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}function asyncGeneratorStep(e,t,r,n,o,a,i){try{var u=e[a](i),c=u.value}catch(e){return void r(e)}u.done?t(c):Promise.resolve(c).then(n,o)}function _asyncToGenerator(e){return function(){var t=this,r=arguments;return new Promise(function(n,o){var a=e.apply(t,r);function i(e){asyncGeneratorStep(a,n,o,i,u,"next",e)}function u(e){asyncGeneratorStep(a,n,o,i,u,"throw",e)}i(void 0)})}}function initializeFeatureGates(e,t){return _initializeFeatureGates.apply(this,arguments)}function _initializeFeatureGates(){return(_initializeFeatureGates=_asyncToGenerator(_regenerator().m(function e(t,r){var n;return _regenerator().w(function(e){for(;;)switch(e.p=e.n){case 0:if(!window.ATL.FeatureGates){e.n=1;break}return e.a(2,window.ATL.FeatureGates);case 1:return e.p=1,isCmxDevMode()&&console.log("Initializing Statsig FeatureGates in progress..."),e.n=2,_featureGateJsClient.default.initialize(_objectSpread({targetApp:"community_web",fetchTimeoutMs:1e3,useGatewayUrl:!0},t),_objectSpread({},r));case 2:return isCmxDevMode()&&console.log("Initialized Statsig FeatureGates with config:",t,"and identifiers:",r),window.ATL.FeatureGates=_featureGateJsClient.default,e.a(2,_featureGateJsClient.default);case 3:e.p=3,n=e.v,console.error("Failed to initialize FeatureGates client.",n);case 4:return e.a(2)}},e,null,[[1,3]])}))).apply(this,arguments)}function isFeatureGateEnabled(e){try{var t=window.ATL.FeatureGates;if(!t)return console.log("Feature gate [".concat(e,"] - FeatureGates not initialized, defaulting to DISABLED")),!1;var r=t.checkGate(e);return isCmxDevMode()&&console.log("Feature gate [".concat(e,"] is ").concat(r?"ENABLED":"DISABLED",".")),r}catch(t){return console.log("Feature gate [".concat(e,"] check failed, defaulting to DISABLED:"),t),!1}}function applyFeatureGatesLogic(){isCommunityAccountSwitcherEnabled()?((0,_jQuery.default)(".adg-dropdown__content__item#atlcommNavLink-switchAccounts").show(),(0,_jQuery.default)(".atl-global-mobile-submenu .atl-switch-account").show(),(0,_jQuery.default)(".atl-drawer-user-item-new#atlcommNavLink-switchAccounts").show(),(0,_jQuery.default)(".atl-tablet-slide-item-new#atlcommNavLink-switchAccounts").show()):((0,_jQuery.default)(".adg-dropdown__content__item#atlcommNavLink-switchAccounts").hide(),(0,_jQuery.default)(".atl-global-mobile-submenu .atl-switch-account").hide(),(0,_jQuery.default)(".atl-drawer-user-item-new#atlcommNavLink-switchAccounts").hide(),(0,_jQuery.default)(".atl-tablet-slide-item-new#atlcommNavLink-switchAccounts").hide()),(0,_championsLeaderboardGate.isChampionsLeaderboardGateEnabled)()?((0,_jQuery.default)(".champion-leaderboard-sidebar-widget").show(),(0,_championLeaderboard.renderChampionLeaderboard)()):(0,_jQuery.default)(".champion-leaderboard-sidebar-widget").hide(),(0,_communityNewTopNavigationGate.isCommunityNewTopNavigationGateEnabled)()?(0,_jQuery.default)("body").addClass("feature-gate-new-nav-enabled").removeClass("feature-gate-old-nav-enabled"):(0,_jQuery.default)("body").addClass("feature-gate-old-nav-enabled").removeClass("feature-gate-new-nav-enabled")}function isCmxDevMode(){return Object.hasOwn(window.localStorage,"cmx-dev")&&"true"===window.localStorage.getItem("cmx-dev")}var championsIsActive=exports.championsIsActive=function(){var e;return null!==(e=isFeatureGateEnabled("community-champions-page"))&&void 0!==e&&e},isCommunityAccountSwitcherEnabled=exports.isCommunityAccountSwitcherEnabled=function(){var e;return null!==(e=isFeatureGateEnabled("community-account-switcher"))&&void 0!==e&&e},isCommunityNewTopNavigationEnabled=exports.isCommunityNewTopNavigationEnabled=function(){var e;return null!==(e=isFeatureGateEnabled("community_new_top_navigation"))&&void 0!==e&&e};window.ATL=window.ATL||{},window.ATL.initializeFeatureGates=initializeFeatureGates,window.ATL.isFeatureGateEnabled=isFeatureGateEnabled,window.ATL.applyFeatureGatesLogic=applyFeatureGatesLogic;

}).call(this)}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"../../../web/html/assets/js/experiments/feature-gates/champions-leaderboard-gate":123,"../../../web/html/assets/js/experiments/feature-gates/community-new-top-navigation-gate":124,"../champion-leaderboard":116,"@atlaskit/feature-gate-js-client":20}],115:[function(require,module,exports){
"use strict";function atlassianAnalyticsAvailable(){return"ace"in window&&"analytics"in window.ace}window.ATL=window.ATL||{},window.ATL.atlassianAnalyticsAvailable=atlassianAnalyticsAvailable,module.exports=atlassianAnalyticsAvailable;

},{}],116:[function(require,module,exports){
(function (global){(function (){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.renderChampionLeaderboard=void 0;var _jQuery=_interopRequireDefault("undefined"!=typeof window?window.LITHIUM.jQuery:"undefined"!=typeof global?global.LITHIUM.jQuery:null),_memoize=_interopRequireDefault(require("./utils/memoize")),_leaderboardClient=require("./leaderboard-client"),_communityAnalytics=_interopRequireDefault(require("./community-analytics")),_kmsConstants=require("./kms-constants"),_throttleDebounce=require("throttle-debounce");function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}function _regenerator(){var e,r,t="function"==typeof Symbol?Symbol:{},n=t.iterator||"@@iterator",a=t.toStringTag||"@@toStringTag";function o(t,n,a,o){var u=n&&n.prototype instanceof l?n:l,d=Object.create(u.prototype);return _regeneratorDefine2(d,"_invoke",function(t,n,a){var o,l,u,d=0,c=a||[],s=!1,f={p:0,n:0,v:e,a:_,f:_.bind(e,4),d:function(r,t){return o=r,l=0,u=e,f.n=t,i}};function _(t,n){for(l=t,u=n,r=0;!s&&d&&!a&&r<c.length;r++){var a,o=c[r],_=f.p,b=o[2];t>3?(a=b===n)&&(u=o[(l=o[4])?5:(l=3,3)],o[4]=o[5]=e):o[0]<=_&&((a=t<2&&_<o[1])?(l=0,f.v=n,f.n=o[1]):_<b&&(a=t<3||o[0]>n||n>b)&&(o[4]=t,o[5]=n,f.n=b,l=0))}if(a||t>1)return i;throw s=!0,n}return function(a,c,b){if(d>1)throw TypeError("Generator is already running");for(s&&1===c&&_(c,b),l=c,u=b;(r=l<2?e:u)||!s;){o||(l?l<3?(l>1&&(f.n=-1),_(l,u)):f.n=u:f.v=u);try{if(d=2,o){if(l||(a="next"),r=o[a]){if(!(r=r.call(o,u)))throw TypeError("iterator result is not an object");if(!r.done)return r;u=r.value,l<2&&(l=0)}else 1===l&&(r=o.return)&&r.call(o),l<2&&(u=TypeError("The iterator does not provide a '"+a+"' method"),l=1);o=e}else if((r=(s=f.n<0)?u:t.call(n,f))!==i)break}catch(r){o=e,l=1,u=r}finally{d=1}}return{value:r,done:s}}}(t,a,o),!0),d}var i={};function l(){}function u(){}function d(){}r=Object.getPrototypeOf;var c=[][n]?r(r([][n]())):(_regeneratorDefine2(r={},n,function(){return this}),r),s=d.prototype=l.prototype=Object.create(c);function f(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,_regeneratorDefine2(e,a,"GeneratorFunction")),e.prototype=Object.create(s),e}return u.prototype=d,_regeneratorDefine2(s,"constructor",d),_regeneratorDefine2(d,"constructor",u),u.displayName="GeneratorFunction",_regeneratorDefine2(d,a,"GeneratorFunction"),_regeneratorDefine2(s),_regeneratorDefine2(s,a,"Generator"),_regeneratorDefine2(s,n,function(){return this}),_regeneratorDefine2(s,"toString",function(){return"[object Generator]"}),(_regenerator=function(){return{w:o,m:f}})()}function _regeneratorDefine2(e,r,t,n){var a=Object.defineProperty;try{a({},"",{})}catch(e){a=0}(_regeneratorDefine2=function(e,r,t,n){function o(r,t){_regeneratorDefine2(e,r,function(e){return this._invoke(r,t,e)})}r?a?a(e,r,{value:t,enumerable:!n,configurable:!n,writable:!n}):e[r]=t:(o("next",0),o("throw",1),o("return",2))})(e,r,t,n)}function asyncGeneratorStep(e,r,t,n,a,o,i){try{var l=e[o](i),u=l.value}catch(e){return void t(e)}l.done?r(u):Promise.resolve(u).then(n,a)}function _asyncToGenerator(e){return function(){var r=this,t=arguments;return new Promise(function(n,a){var o=e.apply(r,t);function i(e){asyncGeneratorStep(o,n,a,i,l,"next",e)}function l(e){asyncGeneratorStep(o,n,a,i,l,"throw",e)}i(void 0)})}}var CHAMPION_LEADERBOARD_COMPONENT_NAME="communityChampionLeaderboard",renderChampionLeaderboard=exports.renderChampionLeaderboard=function(){var e=_kmsConstants.KMS_LEADERBOARD_NAMES.CHAMPION_MONTHLY,r=(0,_memoize.default)(_leaderboardClient.getLeaderboard,{maxAge:6e5,customPromiseValidation:function(e){var r;return(null===e||void 0===e?void 0:null===(r=e.response)||void 0===r?void 0:r.length)>0},cacheKey:function(e){return JSON.stringify(e)},ignoreDuplicateRequests:!0}),t=function(t){var a=(0,_jQuery.default)(this).text().trim();_communityAnalytics.default.Events.sendUIEvent("",null,{action:"clicked",actionSubject:"tab",actionSubjectId:CHAMPION_LEADERBOARD_COMPONENT_NAME,tabId:a,label:a}),(0,_jQuery.default)(".champion-leaderboard-results").html(""),(0,_jQuery.default)(".champion-leaderboard-user-results").html(""),(0,_jQuery.default)(".champion-leaderboard-user-results-loader").show(),(0,_jQuery.default)(".champion-leaderboard-tabs .monthly-leaderboard-tab").removeClass("active-tab"),(0,_jQuery.default)(".champion-leaderboard-tabs .quarterly-leaderboard-tab").removeClass("active-tab"),(0,_jQuery.default)(".champion-leaderboard-tabs .global-leaderboard-tab").removeClass("active-tab"),(0,_jQuery.default)(this).addClass("active-tab"),e=t,r({leaderboardName:t,includeUserPosition:!0}).then(function(r){e===t&&n(r)})};(0,_jQuery.default)(".champion-leaderboard-tabs").on("click",".monthly-leaderboard-tab",function(){t.call(this,_kmsConstants.KMS_LEADERBOARD_NAMES.CHAMPION_MONTHLY)}),(0,_jQuery.default)(".champion-leaderboard-tabs").on("click",".quarterly-leaderboard-tab",function(){t.call(this,_kmsConstants.KMS_LEADERBOARD_NAMES.CHAMPION_QUARTERLY)}),(0,_jQuery.default)(".champion-leaderboard-tabs").on("click",".global-leaderboard-tab",function(){t.call(this,_kmsConstants.KMS_LEADERBOARD_NAMES.CHAMPION_GLOBAL)});var n=function(e){var r,t,n,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1];(0,_jQuery.default)(".champion-leaderboard-user-results-loader").hide();var o=(0,_jQuery.default)(".champion-leaderboard-results");if(null!==e&&void 0!==e&&null!==(r=e.response)&&void 0!==r&&r.length||a){var i=function(e){return null!==e&&void 0!==e&&e.user?'\n        <div class="champion-leaderboard-result-container">\n          <div class="champion-leaderboard-result">\n          <div>\n            <div class="champion-leaderboard-result-avatar">\n            <img src="'.concat(e.user.iconUrl,'" alt="').concat(e.user.firstName,'">\n            </div>\n          </div>\n          <div class="champion-leaderboard-result-info">\n            <div class="champion-leaderboard-result-name">').concat(e.user.firstName,"</div>\n            ").concat(e.rank?'<div class="champion-leaderboard-result-rank">#'.concat(e.rank.toLocaleString(),"</div>"):"",'\n          </div>\n          <div>\n            <p class="champion-leaderboard-result-score">').concat(e.value.toLocaleString(),"<span>points<span></p>\n          </div>\n          </div>\n        </div>\n        "):""},l=null===e||void 0===e?void 0:null===(t=e.response)||void 0===t?void 0:t.map(function(e){return i(e)});a?o.append(l.join("")):o.html(l.join(""));var u=(0,_jQuery.default)(".champion-leaderboard-user-results"),d=i(null===e||void 0===e?void 0:e.userContext);null!==e&&void 0!==e&&null!==(n=e.userContext)&&void 0!==n&&n.error?u.hide():(u.show(),u.html(d))}else o.html('<p class="champion-leaderboard-no-results-to-show">No leaders to show</p>')};r({leaderboardName:_kmsConstants.KMS_LEADERBOARD_NAMES.CHAMPION_MONTHLY,includeUserPosition:!0}).then(function(){var t=_asyncToGenerator(_regenerator().m(function t(a){return _regenerator().w(function(t){for(;;)switch(t.n){case 0:return e===_kmsConstants.KMS_LEADERBOARD_NAMES.CHAMPION_MONTHLY&&n(a),t.n=1,r({leaderboardName:_kmsConstants.KMS_LEADERBOARD_NAMES.CHAMPION_QUARTERLY,includeUserPosition:!0});case 1:return t.n=2,r({leaderboardName:_kmsConstants.KMS_LEADERBOARD_NAMES.CHAMPION_GLOBAL,includeUserPosition:!0});case 2:return t.a(2)}},t)}));return function(e){return t.apply(this,arguments)}}()),(0,_jQuery.default)("#champion-leaderboard-perks-and-rewards-link").on("click",function(){var e=(0,_jQuery.default)(this).text().trim();_communityAnalytics.default.Events.sendUIEvent("",null,{action:"clicked",actionSubject:"link",actionSubjectId:CHAMPION_LEADERBOARD_COMPONENT_NAME,label:e})}),(0,_jQuery.default)(".champion-leaderboard-results").on("scroll",(0,_throttleDebounce.throttle)(1e3,function(){var e=(0,_jQuery.default)(".champion-leaderboard-tabs .active-tab").text().trim();_communityAnalytics.default.Events.sendUIEvent("",null,{action:"scrolled",actionSubject:"tab",actionSubjectId:CHAMPION_LEADERBOARD_COMPONENT_NAME,tabId:e,label:e})},{noLeading:!0})),_communityAnalytics.default.Events.sendUIEvent("",null,{action:"loaded",actionSubject:"component",actionSubjectId:CHAMPION_LEADERBOARD_COMPONENT_NAME})};window.ATL=window.ATL||{},window.ATL.renderChampionLeaderboard=renderChampionLeaderboard;

}).call(this)}).call(this,typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
},{"./community-analytics":117,"./kms-constants":119,"./leaderboard-client":120,"./utils/memoize":122,"throttle-debounce":113}],117:[function(require,module,exports){
"use strict";var fireTrackEvent=require("./fire-track-event");function getCommunityContentTypes(){return{qanda:"question",forum:"discussion",blog:"article"}}function communityPageType(){return{CommunityPage:"homepage",CategoryPage:"category_page",QandAPage:"board_page",ForumPage:"board_page",BlogPage:"board_page",TagViewPage:"tag_page",QandAQuestionPage:"post_page",ForumTopicPage:"post_page",BlogArticlePage:"post_page",GroupPage:"group_page",GroupMessagePage:"group_post",GroupHubPage:"group_hub_main",ViewProfilePage:"profile_page",MyProfilePage:"profile_settings_page",PostPage:"create_form",Error404Page:"404_page",CustomPage:"custom_page",NotificationFeedPage:"activity_feed_page",RecentPostsPage:"recent_posts_page",TagDetailPage:"tag_detail_page",EditPage:"edit_page",SearchPage:"search_page",unknownPageType:"unknown_page_type"}[window.LITHIUM.CommunityJsonObject.Page.name||"unknownPageType"]}function addGlobalAttributes(e){var t=e||{},o=window.LITHIUM.CommunityJsonObject,n=o.CoreNode.ancestors.length;if(t.communityGasSchemaVersion="1.0",t.app="community",t.subApp="forums",t.communityHostname=window.location.hostname,t.communityPageType=communityPageType(),t.khorosBodyClass=window.document.body.className,t.khorosConversationStyle=o.CoreNode.conversationStyle,t.khorosCoreNodeId=o.CoreNode.id,t.khorosCoreNodeType=o.CoreNode.nodeType,t.khorosDeviceMode=o.Server.deviceMode,t.khorosPlatformBranch=o.Server.branch,t.khorosPlatformVersion=o.Server.version,t.khorosQuiltClass=window.document.getElementsByClassName("lia-top-quilt")[0].className,t.khorosQuiltName=o.Page.name,t.khorosUserIsAnonymous=o.User.isAnonymous,t.communityUserBunchballRole=window.LITHIUM.CommunityJsonObject.User.bunchballRole||"not set",t.communityUserRank=window.LITHIUM.CommunityJsonObject.User.rank||"not set",t.communityUserRoles=window.LITHIUM.CommunityJsonObject.User.roles||"not set",o.CoreNode.conversationStyle){var a=getCommunityContentTypes();t.communityContentType=a[o.CoreNode.conversationStyle]||""}return n>=2&&(t.communityParentSection=o.CoreNode.ancestors[n-2].id),"Thread"===o.Page.object.type&&(t.KhorosPageObjectId=o.Page.object.id),t}function trackEvent(e,t,o){var n=t||{};o.event=o.action||"",o.eventComponent=o.actionSubject||"",o.label=o.label||o.communityClickText||"";var a=addGlobalAttributes(o),i=Object.assign(n,a),r=JSON.parse(window.sessionStorage.getItem("trackingEventList"))||[];r.push(o),window.sessionStorage.setItem("trackingEventList",JSON.stringify(r)),fireTrackEvent(e,i)}function Events(){this.eventList=[],this.getGlobalAttributes=function(){return addGlobalAttributes()},this.sendScreenEvent=function(e,t){var o=t||{};o.eventType="Screen";var n=addGlobalAttributes(o),a=Object.assign(e,n);window.ace.analytics.Tracking.pageView(null,a)},this.sendTrackEvent=function(e,t,o){var n=o||{};n.eventType="Track",trackEvent(e,t,n)},this.sendUIEvent=function(e,t,o){var n=o||{};n.eventType="UI",trackEvent(e,t,n)}}function CommunityAnalytics(){this.attributes={communitySection:{contentNavigation:"Content Navigation",contributionIntent:"Contribution Intent",contribution:"Contribution",userSettings:"User Settings",inProductMessaging:"In-product messaging",modals:"Modals",onboarding:"Onboarding",profiles:"Profiles",contentDiscovery:"Content Discovery",contentFollowing:"Content following",loginAndRegistration:"Login and registration",communityFeeds:"Community feeds",communityMemberDiscovery:"Community Member Discovery",content:"Content",kudosTray:"Kudos Tray"},eventContainer:{breadcrumbs:"breadcrumbs",categoryOverview:"categoryOverview",mobileNavigationHeader:"mobileNavigationHeader",flag:"flag",indexNavigation:"indexNavigation",createForm:"createForm",navigationBar:"navigationBar",sidebar:"sidebar",responseSection:"responseSection",postsList:"postsList",footer:"footer",authenticationPage:"authenticationPage",topicSection:"topicSection",settingsPage:"settingsPage",createInterstitialPage:"createInterstitialPage",profileOverview:"profileOverview",communityPage:"communityPage",profilePage:"profilePage"},eventColumn:{threadedResponse:"threadedResponse",exploreTray:"exploreTray",communityShowcase:"communityShowcase",popularTagsCloud:"popularTagsCloud",postResponse:"postResponse",watchTray:"watchTray",avatarTray:"avatarTray",relatedCommunityContent:"relatedCommunityContent",consentFlag:"consentFlag",profileSettingsTab:"profileSettingsTab",notificationsSettingsTab:"notificationsSettingsTab"}},this.Events=new Events,this.getEventList=function(){return new Set(this.Events.eventList)}}var instance=new CommunityAnalytics;window.ATL=window.ATL||{},window.ATL.CommunityAnalytics=instance,module.exports=instance;

},{"./fire-track-event":118}],118:[function(require,module,exports){
"use strict";var atlassianAnalyticsAvailable=require("./atlassian-analytics-available");function fireEvent(a,e){var t=e.eventType;try{if(a&&"string"!=typeof a)return!1;if("Track"===t){var n=e.action,i=e.actionSubject,r=e.actionSubjectId;window.ace.analytics.Tracking.sendGasV3TrackEvent(n,i,r,e,!1)}else window.ace.analytics.Tracking.trackEvent(a,e);return!0}catch(a){return!1}}function fireTrackEvent(a,e){var t=0;if(atlassianAnalyticsAvailable())fireEvent(a,e);else var n=setInterval(function(){atlassianAnalyticsAvailable()?(fireEvent(a,e),clearInterval(n)):++t>=5&&clearInterval(n)},2e3)}module.exports=fireTrackEvent;

},{"./atlassian-analytics-available":115}],119:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.KMS_STG_BASE_URL=exports.KMS_PROD_BASE_URL=exports.KMS_LEADERBOARD_NAMES=void 0;var KMS_PROD_BASE_URL=exports.KMS_PROD_BASE_URL="https://api.atlassian.com/api/v1/community/kudos/users",KMS_STG_BASE_URL=exports.KMS_STG_BASE_URL="https://api.stg.atlassian.com/api/v1/community/kudos/users",KMS_LEADERBOARD_NAMES=exports.KMS_LEADERBOARD_NAMES={GLOBAL:"GLOBAL",QUARTERLY:"QUARTERLY",ATLASSIAN:"ATLASSIAN",CHAMPION_GLOBAL:"CHAMPION_GLOBAL",CHAMPION_QUARTERLY:"CHAMPION_QUARTERLY",CHAMPION_MONTHLY:"CHAMPION_MONTHLY"};

},{}],120:[function(require,module,exports){
"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.getLeaderboard=void 0;var _kmsConstants=require("./kms-constants"),_getEndpointBasePath=require("./utils/get-endpoint-base-path");function _regenerator(){var e,r,t="function"==typeof Symbol?Symbol:{},n=t.iterator||"@@iterator",o=t.toStringTag||"@@toStringTag";function a(t,n,o,a){var u=n&&n.prototype instanceof c?n:c,f=Object.create(u.prototype);return _regeneratorDefine2(f,"_invoke",function(t,n,o){var a,c,u,f=0,s=o||[],d=!1,p={p:0,n:0,v:e,a:l,f:l.bind(e,4),d:function(r,t){return a=r,c=0,u=e,p.n=t,i}};function l(t,n){for(c=t,u=n,r=0;!d&&f&&!o&&r<s.length;r++){var o,a=s[r],l=p.p,g=a[2];t>3?(o=g===n)&&(u=a[(c=a[4])?5:(c=3,3)],a[4]=a[5]=e):a[0]<=l&&((o=t<2&&l<a[1])?(c=0,p.v=n,p.n=a[1]):l<g&&(o=t<3||a[0]>n||n>g)&&(a[4]=t,a[5]=n,p.n=g,c=0))}if(o||t>1)return i;throw d=!0,n}return function(o,s,g){if(f>1)throw TypeError("Generator is already running");for(d&&1===s&&l(s,g),c=s,u=g;(r=c<2?e:u)||!d;){a||(c?c<3?(c>1&&(p.n=-1),l(c,u)):p.n=u:p.v=u);try{if(f=2,a){if(c||(o="next"),r=a[o]){if(!(r=r.call(a,u)))throw TypeError("iterator result is not an object");if(!r.done)return r;u=r.value,c<2&&(c=0)}else 1===c&&(r=a.return)&&r.call(a),c<2&&(u=TypeError("The iterator does not provide a '"+o+"' method"),c=1);a=e}else if((r=(d=p.n<0)?u:t.call(n,p))!==i)break}catch(r){a=e,c=1,u=r}finally{f=1}}return{value:r,done:d}}}(t,o,a),!0),f}var i={};function c(){}function u(){}function f(){}r=Object.getPrototypeOf;var s=[][n]?r(r([][n]())):(_regeneratorDefine2(r={},n,function(){return this}),r),d=f.prototype=c.prototype=Object.create(s);function p(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,f):(e.__proto__=f,_regeneratorDefine2(e,o,"GeneratorFunction")),e.prototype=Object.create(d),e}return u.prototype=f,_regeneratorDefine2(d,"constructor",f),_regeneratorDefine2(f,"constructor",u),u.displayName="GeneratorFunction",_regeneratorDefine2(f,o,"GeneratorFunction"),_regeneratorDefine2(d),_regeneratorDefine2(d,o,"Generator"),_regeneratorDefine2(d,n,function(){return this}),_regeneratorDefine2(d,"toString",function(){return"[object Generator]"}),(_regenerator=function(){return{w:a,m:p}})()}function _regeneratorDefine2(e,r,t,n){var o=Object.defineProperty;try{o({},"",{})}catch(e){o=0}(_regeneratorDefine2=function(e,r,t,n){function a(r,t){_regeneratorDefine2(e,r,function(e){return this._invoke(r,t,e)})}r?o?o(e,r,{value:t,enumerable:!n,configurable:!n,writable:!n}):e[r]=t:(a("next",0),a("throw",1),a("return",2))})(e,r,t,n)}function asyncGeneratorStep(e,r,t,n,o,a,i){try{var c=e[a](i),u=c.value}catch(e){return void t(e)}c.done?r(u):Promise.resolve(u).then(n,o)}function _asyncToGenerator(e){return function(){var r=this,t=arguments;return new Promise(function(n,o){var a=e.apply(r,t);function i(e){asyncGeneratorStep(a,n,o,i,c,"next",e)}function c(e){asyncGeneratorStep(a,n,o,i,c,"throw",e)}i(void 0)})}}var khorosEndpointBasePath=(0,_getEndpointBasePath.getEndpointBasePath)(),getLeaderboard=exports.getLeaderboard=function(){var e=_asyncToGenerator(_regenerator().m(function e(r){var t,n,o,a,i,c,u,f,s,d,p;return _regenerator().w(function(e){for(;;)switch(e.p=e.n){case 0:return t=r.leaderboardName,n=void 0===t?_kmsConstants.KMS_LEADERBOARD_NAMES.CHAMPION_MONTHLY:t,o=r.includeUserPosition,a=void 0!==o&&o,i=r.page,c=void 0===i?1:i,u=r.signal,f=void 0===u?null:u,s=new URLSearchParams({leaderboardName:n,includeUserPosition:a,page:c}).toString(),e.p=1,e.n=2,fetch("".concat(khorosEndpointBasePath,"/kms_get_leaderboard?").concat(s),{signal:f});case 2:return d=e.v,e.n=3,d.json();case 3:return p=e.v,e.a(2,p.body);case 4:return e.p=4,e.v,e.a(2,null)}},e,null,[[1,4]])}));return function(r){return e.apply(this,arguments)}}();window.ATL=window.ATL||{},window.ATL.getLeaderboard=getLeaderboard;

},{"./kms-constants":119,"./utils/get-endpoint-base-path":121}],121:[function(require,module,exports){
"use strict";function getEndpointBasePath(){var a="/plugins/custom/atlassian/atlassian";switch(window.location.origin){case"https://community-dev1.dev.atlassian.com":case"https://community.stg.atlassian.com":a="/plugins/custom/atlassian/atlassiandev";break;case"https://community-dev2.dev.atlassian.com":a="/plugins/custom/atlassian/atlassiandev2";break;case"https://community-dev3.dev.atlassian.com":case"https://community.dev.atlassian.com":a="/plugins/custom/atlassian/atlassiandev3";break;case"https://community-dev4.dev.atlassian.com":a="/plugins/custom/atlassian/atlassiandev4";break;case"https://community-dev6.dev.atlassian.com":a="/plugins/custom/atlassian/atlassiandev6"}return"".concat("/forums/s").concat(a)}module.exports={getEndpointBasePath:getEndpointBasePath};

},{}],122:[function(require,module,exports){
"use strict";function memoize(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{maxAge:864e5,customPromiseValidation:function(e){return!0},cacheKey:function(e){return JSON.stringify(e)},ignoreDuplicateRequests:!1},i=new Map;return function(){for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];var o=t.cacheKey(r),u=i.get(o);if(null!==u&&void 0!==u&&u.isInFlight&&t.ignoreDuplicateRequests)return u.result;if(u&&Date.now()-u.timestamp<t.maxAge)return u.result;i.delete(o);var a=e.apply(this,r);return a instanceof Promise?(t.ignoreDuplicateRequests&&i.set(o,{result:a,isInFlight:!0}),a.then(function(e){t.customPromiseValidation(e)?i.set(o,{result:Promise.resolve(e),timestamp:Date.now(),isInFlight:!1}):i.delete(o)}).catch(function(){i.delete(o)})):i.set(o,{result:a,timestamp:Date.now()}),a}}Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=memoize;

},{}],123:[function(require,module,exports){
"use strict";function isChampionsLeaderboardGateEnabled(){return window.ATL.isFeatureGateEnabled("community-forums-champions-leaderboard")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.isChampionsLeaderboardGateEnabled=isChampionsLeaderboardGateEnabled;

},{}],124:[function(require,module,exports){
"use strict";function isCommunityNewTopNavigationGateEnabled(){return window.ATL.isFeatureGateEnabled("community_new_top_navigation")}Object.defineProperty(exports,"__esModule",{value:!0}),exports.isCommunityNewTopNavigationGateEnabled=isCommunityNewTopNavigationGateEnabled;

},{}]},{},[114]);
