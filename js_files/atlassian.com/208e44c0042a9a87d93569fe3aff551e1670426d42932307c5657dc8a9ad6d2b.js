/*! For license information please see f6103303280158.js.LICENSE.txt */
(self.bxpChunk=self.bxpChunk||[]).push([[641],{17331:e=>{function t(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function n(e){return"function"==typeof e}function r(e){return"object"==typeof e&&null!==e}function i(e){return void 0===e}e.exports=t,t.prototype._events=void 0,t.prototype._maxListeners=void 0,t.defaultMaxListeners=10,t.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},t.prototype.emit=function(e){var t,a,s,o,c,u;if(this._events||(this._events={}),"error"===e&&(!this._events.error||r(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;var l=new Error('Uncaught, unspecified "error" event. ('+t+")");throw l.context=t,l}if(i(a=this._events[e]))return!1;if(n(a))switch(arguments.length){case 1:a.call(this);break;case 2:a.call(this,arguments[1]);break;case 3:a.call(this,arguments[1],arguments[2]);break;default:o=Array.prototype.slice.call(arguments,1),a.apply(this,o)}else if(r(a))for(o=Array.prototype.slice.call(arguments,1),s=(u=a.slice()).length,c=0;c<s;c++)u[c].apply(this,o);return!0},t.prototype.addListener=function(e,a){var s;if(!n(a))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,n(a.listener)?a.listener:a),this._events[e]?r(this._events[e])?this._events[e].push(a):this._events[e]=[this._events[e],a]:this._events[e]=a,r(this._events[e])&&!this._events[e].warned&&(s=i(this._maxListeners)?t.defaultMaxListeners:this._maxListeners)&&s>0&&this._events[e].length>s&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},t.prototype.on=t.prototype.addListener,t.prototype.once=function(e,t){if(!n(t))throw TypeError("listener must be a function");var r=!1;function i(){this.removeListener(e,i),r||(r=!0,t.apply(this,arguments))}return i.listener=t,this.on(e,i),this},t.prototype.removeListener=function(e,t){var i,a,s,o;if(!n(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(s=(i=this._events[e]).length,a=-1,i===t||n(i.listener)&&i.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(r(i)){for(o=s;o-- >0;)if(i[o]===t||i[o].listener&&i[o].listener===t){a=o;break}if(a<0)return this;1===i.length?(i.length=0,delete this._events[e]):i.splice(a,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},t.prototype.removeAllListeners=function(e){var t,r;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(n(r=this._events[e]))this.removeListener(e,r);else if(r)for(;r.length;)this.removeListener(e,r[r.length-1]);return delete this._events[e],this},t.prototype.listeners=function(e){return this._events&&this._events[e]?n(this._events[e])?[this._events[e]]:this._events[e].slice():[]},t.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(n(t))return 1;if(t)return t.length}return 0},t.listenerCount=function(e,t){return e.listenerCount(t)}},8131:(e,t,n)=>{"use strict";var r=n(49374),i=n(67450),a=n(43650),s=n(17775),o=n(23076);function c(e,t,n,i){return new r(e,t,n,i)}c.version=n(24336),c.AlgoliaSearchHelper=r,c.SearchParameters=s,c.RecommendParameters=i,c.SearchResults=o,c.RecommendResults=a,e.exports=c},68078:(e,t,n)=>{"use strict";var r=n(17331);function i(e,t,n){this.main=e,this.fn=t,this.recommendFn=n,this.lastResults=null,this.lastRecommendResults=null}n(14853)(i,r),i.prototype.detach=function(){this.removeAllListeners(),this.main.detachDerivedHelper(this)},i.prototype.getModifiedState=function(e){return this.fn(e)},i.prototype.getModifiedRecommendState=function(e){return this.recommendFn(e)},e.exports=i},67450:e=>{"use strict";function t(e){e=e||{},this.params=e.params||[]}t.prototype={constructor:t,addParams:function(e){var n=this.params.slice();return n.push(e),new t({params:n})},removeParams:function(e){return new t({params:this.params.filter((function(t){return t.$$id!==e}))})},addFrequentlyBoughtTogether:function(e){return this.addParams(Object.assign({},e,{model:"bought-together"}))},addRelatedProducts:function(e){return this.addParams(Object.assign({},e,{model:"related-products"}))},addTrendingItems:function(e){return this.addParams(Object.assign({},e,{model:"trending-items"}))},addTrendingFacets:function(e){return this.addParams(Object.assign({},e,{model:"trending-facets"}))},addLookingSimilar:function(e){return this.addParams(Object.assign({},e,{model:"looking-similar"}))},_buildQueries:function(e,t){return this.params.filter((function(e){return void 0===t[e.$$id]})).map((function(t){var n=Object.assign({},t,{indexName:e,threshold:t.threshold||0});return delete n.$$id,n}))}},e.exports=t},43650:e=>{"use strict";function t(e,t){this._state=e,this._rawResults={};var n=this;e.params.forEach((function(e){var r=e.$$id;n[r]=t[r],n._rawResults[r]=t[r]}))}t.prototype={constructor:t},e.exports=t},82437:(e,t,n)=>{"use strict";var r=n(52344),i=n(90116),a=n(49803),s={addRefinement:function(e,t,n){if(s.isRefined(e,t,n))return e;var i=""+n,a=e[t]?e[t].concat(i):[i],o={};return o[t]=a,r({},o,e)},removeRefinement:function(e,t,n){if(void 0===n)return s.clearRefinement(e,(function(e,n){return t===n}));var r=""+n;return s.clearRefinement(e,(function(e,n){return t===n&&r===e}))},toggleRefinement:function(e,t,n){if(void 0===n)throw new Error("toggleRefinement should be used with a value");return s.isRefined(e,t,n)?s.removeRefinement(e,t,n):s.addRefinement(e,t,n)},clearRefinement:function(e,t,n){if(void 0===t)return i(e)?{}:e;if("string"==typeof t)return a(e,[t]);if("function"==typeof t){var r=!1,s=Object.keys(e).reduce((function(i,a){var s=e[a]||[],o=s.filter((function(e){return!t(e,a,n)}));return o.length!==s.length&&(r=!0),i[a]=o,i}),{});return r?s:e}},isRefined:function(e,t,n){var r=Boolean(e[t])&&e[t].length>0;if(void 0===n||!r)return r;var i=""+n;return-1!==e[t].indexOf(i)}};e.exports=s},17775:(e,t,n)=>{"use strict";var r=n(52344),i=n(7888),a=n(22686),s=n(60185),o=n(90116),c=n(49803),u=n(28023),l=n(46801),h=n(82437);function f(e,t){return Array.isArray(e)&&Array.isArray(t)?e.length===t.length&&e.every((function(e,n){return f(t[n],e)})):e===t}function d(e){var t=e?d._parseNumbers(e):{};void 0===t.userToken||l(t.userToken)||console.warn("[algoliasearch-helper] The `userToken` parameter is invalid. This can lead to wrong analytics.\n  - Format: [a-zA-Z0-9_-]{1,64}"),this.facets=t.facets||[],this.disjunctiveFacets=t.disjunctiveFacets||[],this.hierarchicalFacets=t.hierarchicalFacets||[],this.facetsRefinements=t.facetsRefinements||{},this.facetsExcludes=t.facetsExcludes||{},this.disjunctiveFacetsRefinements=t.disjunctiveFacetsRefinements||{},this.numericRefinements=t.numericRefinements||{},this.tagRefinements=t.tagRefinements||[],this.hierarchicalFacetsRefinements=t.hierarchicalFacetsRefinements||{};var n=this;Object.keys(t).forEach((function(e){var r=-1!==d.PARAMETERS.indexOf(e),i=void 0!==t[e];!r&&i&&(n[e]=t[e])}))}d.PARAMETERS=Object.keys(new d),d._parseNumbers=function(e){if(e instanceof d)return e;var t={};if(["aroundPrecision","aroundRadius","getRankingInfo","minWordSizefor2Typos","minWordSizefor1Typo","page","maxValuesPerFacet","distinct","minimumAroundRadius","hitsPerPage","minProximity"].forEach((function(n){var r=e[n];if("string"==typeof r){var i=parseFloat(r);t[n]=isNaN(i)?r:i}})),Array.isArray(e.insideBoundingBox)&&(t.insideBoundingBox=e.insideBoundingBox.map((function(e){return Array.isArray(e)?e.map((function(e){return parseFloat(e)})):e}))),e.numericRefinements){var n={};Object.keys(e.numericRefinements).forEach((function(t){var r=e.numericRefinements[t]||{};n[t]={},Object.keys(r).forEach((function(e){var i=r[e].map((function(e){return Array.isArray(e)?e.map((function(e){return"string"==typeof e?parseFloat(e):e})):"string"==typeof e?parseFloat(e):e}));n[t][e]=i}))})),t.numericRefinements=n}return s(e,t)},d.make=function(e){var t=new d(e);return(e.hierarchicalFacets||[]).forEach((function(e){if(e.rootPath){var n=t.getHierarchicalRefinement(e.name);n.length>0&&0!==n[0].indexOf(e.rootPath)&&(t=t.clearRefinements(e.name)),0===(n=t.getHierarchicalRefinement(e.name)).length&&(t=t.toggleHierarchicalFacetRefinement(e.name,e.rootPath))}})),t},d.validate=function(e,t){var n=t||{};return e.tagFilters&&n.tagRefinements&&n.tagRefinements.length>0?new Error("[Tags] Cannot switch from the managed tag API to the advanced API. It is probably an error, if it is really what you want, you should first clear the tags with clearTags method."):e.tagRefinements.length>0&&n.tagFilters?new Error("[Tags] Cannot switch from the advanced tag API to the managed API. It is probably an error, if it is not, you should first clear the tags with clearTags method."):e.numericFilters&&n.numericRefinements&&o(n.numericRefinements)?new Error("[Numeric filters] Can't switch from the advanced to the managed API. It is probably an error, if this is really what you want, you have to first clear the numeric filters."):o(e.numericRefinements)&&n.numericFilters?new Error("[Numeric filters] Can't switch from the managed API to the advanced. It is probably an error, if this is really what you want, you have to first clear the numeric filters."):null},d.prototype={constructor:d,clearRefinements:function(e){var t={numericRefinements:this._clearNumericRefinements(e),facetsRefinements:h.clearRefinement(this.facetsRefinements,e,"conjunctiveFacet"),facetsExcludes:h.clearRefinement(this.facetsExcludes,e,"exclude"),disjunctiveFacetsRefinements:h.clearRefinement(this.disjunctiveFacetsRefinements,e,"disjunctiveFacet"),hierarchicalFacetsRefinements:h.clearRefinement(this.hierarchicalFacetsRefinements,e,"hierarchicalFacet")};return t.numericRefinements===this.numericRefinements&&t.facetsRefinements===this.facetsRefinements&&t.facetsExcludes===this.facetsExcludes&&t.disjunctiveFacetsRefinements===this.disjunctiveFacetsRefinements&&t.hierarchicalFacetsRefinements===this.hierarchicalFacetsRefinements?this:this.setQueryParameters(t)},clearTags:function(){return void 0===this.tagFilters&&0===this.tagRefinements.length?this:this.setQueryParameters({tagFilters:void 0,tagRefinements:[]})},setIndex:function(e){return e===this.index?this:this.setQueryParameters({index:e})},setQuery:function(e){return e===this.query?this:this.setQueryParameters({query:e})},setPage:function(e){return e===this.page?this:this.setQueryParameters({page:e})},setFacets:function(e){return this.setQueryParameters({facets:e})},setDisjunctiveFacets:function(e){return this.setQueryParameters({disjunctiveFacets:e})},setHitsPerPage:function(e){return this.hitsPerPage===e?this:this.setQueryParameters({hitsPerPage:e})},setTypoTolerance:function(e){return this.typoTolerance===e?this:this.setQueryParameters({typoTolerance:e})},addNumericRefinement:function(e,t,n){var r=u(n);if(this.isNumericRefined(e,t,r))return this;var i=s({},this.numericRefinements);return i[e]=s({},i[e]),i[e][t]?(i[e][t]=i[e][t].slice(),i[e][t].push(r)):i[e][t]=[r],this.setQueryParameters({numericRefinements:i})},getConjunctiveRefinements:function(e){return this.isConjunctiveFacet(e)&&this.facetsRefinements[e]||[]},getDisjunctiveRefinements:function(e){return this.isDisjunctiveFacet(e)&&this.disjunctiveFacetsRefinements[e]||[]},getHierarchicalRefinement:function(e){return this.hierarchicalFacetsRefinements[e]||[]},getExcludeRefinements:function(e){return this.isConjunctiveFacet(e)&&this.facetsExcludes[e]||[]},removeNumericRefinement:function(e,t,n){var r=n;return void 0!==r?this.isNumericRefined(e,t,r)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements((function(n,i){return i===e&&n.op===t&&f(n.val,u(r))}))}):this:void 0!==t?this.isNumericRefined(e,t)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements((function(n,r){return r===e&&n.op===t}))}):this:this.isNumericRefined(e)?this.setQueryParameters({numericRefinements:this._clearNumericRefinements((function(t,n){return n===e}))}):this},getNumericRefinements:function(e){return this.numericRefinements[e]||{}},getNumericRefinement:function(e,t){return this.numericRefinements[e]&&this.numericRefinements[e][t]},_clearNumericRefinements:function(e){if(void 0===e)return o(this.numericRefinements)?{}:this.numericRefinements;if("string"==typeof e)return c(this.numericRefinements,[e]);if("function"==typeof e){var t=!1,n=this.numericRefinements,r=Object.keys(n).reduce((function(r,i){var a=n[i],s={};return a=a||{},Object.keys(a).forEach((function(n){var r=a[n]||[],o=[];r.forEach((function(t){e({val:t,op:n},i,"numeric")||o.push(t)})),o.length!==r.length&&(t=!0),s[n]=o})),r[i]=s,r}),{});return t?r:this.numericRefinements}},addFacet:function(e){return this.isConjunctiveFacet(e)?this:this.setQueryParameters({facets:this.facets.concat([e])})},addDisjunctiveFacet:function(e){return this.isDisjunctiveFacet(e)?this:this.setQueryParameters({disjunctiveFacets:this.disjunctiveFacets.concat([e])})},addHierarchicalFacet:function(e){if(this.isHierarchicalFacet(e.name))throw new Error("Cannot declare two hierarchical facets with the same name: `"+e.name+"`");return this.setQueryParameters({hierarchicalFacets:this.hierarchicalFacets.concat([e])})},addFacetRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return h.isRefined(this.facetsRefinements,e,t)?this:this.setQueryParameters({facetsRefinements:h.addRefinement(this.facetsRefinements,e,t)})},addExcludeRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return h.isRefined(this.facetsExcludes,e,t)?this:this.setQueryParameters({facetsExcludes:h.addRefinement(this.facetsExcludes,e,t)})},addDisjunctiveFacetRefinement:function(e,t){if(!this.isDisjunctiveFacet(e))throw new Error(e+" is not defined in the disjunctiveFacets attribute of the helper configuration");return h.isRefined(this.disjunctiveFacetsRefinements,e,t)?this:this.setQueryParameters({disjunctiveFacetsRefinements:h.addRefinement(this.disjunctiveFacetsRefinements,e,t)})},addTagRefinement:function(e){if(this.isTagRefined(e))return this;var t={tagRefinements:this.tagRefinements.concat(e)};return this.setQueryParameters(t)},removeFacet:function(e){return this.isConjunctiveFacet(e)?this.clearRefinements(e).setQueryParameters({facets:this.facets.filter((function(t){return t!==e}))}):this},removeDisjunctiveFacet:function(e){return this.isDisjunctiveFacet(e)?this.clearRefinements(e).setQueryParameters({disjunctiveFacets:this.disjunctiveFacets.filter((function(t){return t!==e}))}):this},removeHierarchicalFacet:function(e){return this.isHierarchicalFacet(e)?this.clearRefinements(e).setQueryParameters({hierarchicalFacets:this.hierarchicalFacets.filter((function(t){return t.name!==e}))}):this},removeFacetRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return h.isRefined(this.facetsRefinements,e,t)?this.setQueryParameters({facetsRefinements:h.removeRefinement(this.facetsRefinements,e,t)}):this},removeExcludeRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return h.isRefined(this.facetsExcludes,e,t)?this.setQueryParameters({facetsExcludes:h.removeRefinement(this.facetsExcludes,e,t)}):this},removeDisjunctiveFacetRefinement:function(e,t){if(!this.isDisjunctiveFacet(e))throw new Error(e+" is not defined in the disjunctiveFacets attribute of the helper configuration");return h.isRefined(this.disjunctiveFacetsRefinements,e,t)?this.setQueryParameters({disjunctiveFacetsRefinements:h.removeRefinement(this.disjunctiveFacetsRefinements,e,t)}):this},removeTagRefinement:function(e){if(!this.isTagRefined(e))return this;var t={tagRefinements:this.tagRefinements.filter((function(t){return t!==e}))};return this.setQueryParameters(t)},toggleRefinement:function(e,t){return this.toggleFacetRefinement(e,t)},toggleFacetRefinement:function(e,t){if(this.isHierarchicalFacet(e))return this.toggleHierarchicalFacetRefinement(e,t);if(this.isConjunctiveFacet(e))return this.toggleConjunctiveFacetRefinement(e,t);if(this.isDisjunctiveFacet(e))return this.toggleDisjunctiveFacetRefinement(e,t);throw new Error("Cannot refine the undeclared facet "+e+"; it should be added to the helper options facets, disjunctiveFacets or hierarchicalFacets")},toggleConjunctiveFacetRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return this.setQueryParameters({facetsRefinements:h.toggleRefinement(this.facetsRefinements,e,t)})},toggleExcludeFacetRefinement:function(e,t){if(!this.isConjunctiveFacet(e))throw new Error(e+" is not defined in the facets attribute of the helper configuration");return this.setQueryParameters({facetsExcludes:h.toggleRefinement(this.facetsExcludes,e,t)})},toggleDisjunctiveFacetRefinement:function(e,t){if(!this.isDisjunctiveFacet(e))throw new Error(e+" is not defined in the disjunctiveFacets attribute of the helper configuration");return this.setQueryParameters({disjunctiveFacetsRefinements:h.toggleRefinement(this.disjunctiveFacetsRefinements,e,t)})},toggleHierarchicalFacetRefinement:function(e,t){if(!this.isHierarchicalFacet(e))throw new Error(e+" is not defined in the hierarchicalFacets attribute of the helper configuration");var n=this._getHierarchicalFacetSeparator(this.getHierarchicalFacetByName(e)),i={};return void 0!==this.hierarchicalFacetsRefinements[e]&&this.hierarchicalFacetsRefinements[e].length>0&&(this.hierarchicalFacetsRefinements[e][0]===t||0===this.hierarchicalFacetsRefinements[e][0].indexOf(t+n))?-1===t.indexOf(n)?i[e]=[]:i[e]=[t.slice(0,t.lastIndexOf(n))]:i[e]=[t],this.setQueryParameters({hierarchicalFacetsRefinements:r({},i,this.hierarchicalFacetsRefinements)})},addHierarchicalFacetRefinement:function(e,t){if(this.isHierarchicalFacetRefined(e))throw new Error(e+" is already refined.");if(!this.isHierarchicalFacet(e))throw new Error(e+" is not defined in the hierarchicalFacets attribute of the helper configuration.");var n={};return n[e]=[t],this.setQueryParameters({hierarchicalFacetsRefinements:r({},n,this.hierarchicalFacetsRefinements)})},removeHierarchicalFacetRefinement:function(e){if(!this.isHierarchicalFacetRefined(e))return this;var t={};return t[e]=[],this.setQueryParameters({hierarchicalFacetsRefinements:r({},t,this.hierarchicalFacetsRefinements)})},toggleTagRefinement:function(e){return this.isTagRefined(e)?this.removeTagRefinement(e):this.addTagRefinement(e)},isDisjunctiveFacet:function(e){return this.disjunctiveFacets.indexOf(e)>-1},isHierarchicalFacet:function(e){return void 0!==this.getHierarchicalFacetByName(e)},isConjunctiveFacet:function(e){return this.facets.indexOf(e)>-1},isFacetRefined:function(e,t){return!!this.isConjunctiveFacet(e)&&h.isRefined(this.facetsRefinements,e,t)},isExcludeRefined:function(e,t){return!!this.isConjunctiveFacet(e)&&h.isRefined(this.facetsExcludes,e,t)},isDisjunctiveFacetRefined:function(e,t){return!!this.isDisjunctiveFacet(e)&&h.isRefined(this.disjunctiveFacetsRefinements,e,t)},isHierarchicalFacetRefined:function(e,t){if(!this.isHierarchicalFacet(e))return!1;var n=this.getHierarchicalRefinement(e);return t?-1!==n.indexOf(t):n.length>0},isNumericRefined:function(e,t,n){if(void 0===n&&void 0===t)return Boolean(this.numericRefinements[e]);var r=this.numericRefinements[e]&&void 0!==this.numericRefinements[e][t];if(void 0===n||!r)return r;var a,s,o=u(n),c=void 0!==(a=this.numericRefinements[e][t],s=o,i(a,(function(e){return f(e,s)})));return r&&c},isTagRefined:function(e){return-1!==this.tagRefinements.indexOf(e)},getRefinedDisjunctiveFacets:function(){var e=this,t=a(Object.keys(this.numericRefinements).filter((function(t){return Object.keys(e.numericRefinements[t]).length>0})),this.disjunctiveFacets);return Object.keys(this.disjunctiveFacetsRefinements).filter((function(t){return e.disjunctiveFacetsRefinements[t].length>0})).concat(t).concat(this.getRefinedHierarchicalFacets()).sort()},getRefinedHierarchicalFacets:function(){var e=this;return a(this.hierarchicalFacets.map((function(e){return e.name})),Object.keys(this.hierarchicalFacetsRefinements).filter((function(t){return e.hierarchicalFacetsRefinements[t].length>0}))).sort()},getUnrefinedDisjunctiveFacets:function(){var e=this.getRefinedDisjunctiveFacets();return this.disjunctiveFacets.filter((function(t){return-1===e.indexOf(t)}))},managedParameters:["index","facets","disjunctiveFacets","facetsRefinements","hierarchicalFacets","facetsExcludes","disjunctiveFacetsRefinements","numericRefinements","tagRefinements","hierarchicalFacetsRefinements"],getQueryParams:function(){var e=this.managedParameters,t={},n=this;return Object.keys(this).forEach((function(r){var i=n[r];-1===e.indexOf(r)&&void 0!==i&&(t[r]=i)})),t},setQueryParameter:function(e,t){if(this[e]===t)return this;var n={};return n[e]=t,this.setQueryParameters(n)},setQueryParameters:function(e){if(!e)return this;var t=d.validate(this,e);if(t)throw t;var n=this,r=d._parseNumbers(e),i=Object.keys(this).reduce((function(e,t){return e[t]=n[t],e}),{}),a=Object.keys(r).reduce((function(e,t){var n=void 0!==e[t],i=void 0!==r[t];return n&&!i?c(e,[t]):(i&&(e[t]=r[t]),e)}),i);return new this.constructor(a)},resetPage:function(){return void 0===this.page?this:this.setPage(0)},_getHierarchicalFacetSortBy:function(e){return e.sortBy||["isRefined:desc","name:asc"]},_getHierarchicalFacetSeparator:function(e){return e.separator||" > "},_getHierarchicalRootPath:function(e){return e.rootPath||null},_getHierarchicalShowParentLevel:function(e){return"boolean"!=typeof e.showParentLevel||e.showParentLevel},getHierarchicalFacetByName:function(e){return i(this.hierarchicalFacets,(function(t){return t.name===e}))},getHierarchicalFacetBreadcrumb:function(e){if(!this.isHierarchicalFacet(e))return[];var t=this.getHierarchicalRefinement(e)[0];if(!t)return[];var n=this._getHierarchicalFacetSeparator(this.getHierarchicalFacetByName(e));return t.split(n).map((function(e){return e.trim()}))},toString:function(){return JSON.stringify(this,null,2)}},e.exports=d},10210:(e,t,n)=>{"use strict";e.exports=function(e){return function(t,n){var r=e.hierarchicalFacets[n],u=e.hierarchicalFacetsRefinements[r.name]&&e.hierarchicalFacetsRefinements[r.name][0]||"",l=e._getHierarchicalFacetSeparator(r),h=e._getHierarchicalRootPath(r),f=e._getHierarchicalShowParentLevel(r),d=a(e._getHierarchicalFacetSortBy(r)),p=t.every((function(e){return e.exhaustive})),m=function(e,t,n,r,a){return function(u,l,h){var f=u;if(h>0){var d=0;for(f=u;d<h;){var p=f&&Array.isArray(f.data)?f.data:[];f=i(p,(function(e){return e.isRefined})),d++}}if(f){var m=Object.keys(l.data).map((function(e){return[e,l.data[e]]})).filter((function(e){return function(e,t,n,r,i,a){return(!i||0===e.indexOf(i)&&i!==e)&&(!i&&-1===e.indexOf(r)||i&&e.split(r).length-i.split(r).length==1||-1===e.indexOf(r)&&-1===n.indexOf(r)||0===n.indexOf(e)||0===e.indexOf(t+r)&&(a||0===e.indexOf(n)))}(e[0],f.path||n,a,t,n,r)}));f.data=s(m.map((function(e){var n=e[0];return function(e,t,n,r,i){var a=t.split(n);return{name:a[a.length-1].trim(),path:t,escapedValue:o(t),count:e,isRefined:r===t||0===r.indexOf(t+n),exhaustive:i,data:null}}(e[1],n,t,c(a),l.exhaustive)})),e[0],e[1])}return u}}(d,l,h,f,u),v=t;return h&&(v=t.slice(h.split(l).length)),v.reduce(m,{name:e.hierarchicalFacets[n].name,count:null,isRefined:!0,path:null,escapedValue:null,exhaustive:p,data:null})}};var r=n(94039),i=n(7888),a=n(82293),s=n(42148),o=r.escapeFacetValue,c=r.unescapeFacetValue},23076:(e,t,n)=>{"use strict";var r=n(74587),i=n(52344),a=n(94039),s=n(7888),o=n(69725),c=n(82293),u=n(60185),l=n(42148),h=a.escapeFacetValue,f=a.unescapeFacetValue,d=n(10210);function p(e){var t={};return e.forEach((function(e,n){t[e]=n})),t}function m(e,t,n){t&&t[n]&&(e.stats=t[n])}function v(e,t,n){var a=t[0]||{};this._rawResults=t;var c=this;Object.keys(a).forEach((function(e){c[e]=a[e]}));var l=u({persistHierarchicalRootCount:!1},n);Object.keys(l).forEach((function(e){c[e]=l[e]})),this.processingTimeMS=t.reduce((function(e,t){return void 0===t.processingTimeMS?e:e+t.processingTimeMS}),0),this.disjunctiveFacets=[],this.hierarchicalFacets=e.hierarchicalFacets.map((function(){return[]})),this.facets=[];var h=e.getRefinedDisjunctiveFacets(),v=p(e.facets),g=p(e.disjunctiveFacets),y=1,b=a.facets||{};Object.keys(b).forEach((function(t){var n,r,i=b[t],u=(n=e.hierarchicalFacets,r=t,s(n,(function(e){return(e.attributes||[]).indexOf(r)>-1})));if(u){var l=u.attributes.indexOf(t),h=o(e.hierarchicalFacets,(function(e){return e.name===u.name}));c.hierarchicalFacets[h][l]={attribute:t,data:i,exhaustive:a.exhaustiveFacetsCount}}else{var f,d=-1!==e.disjunctiveFacets.indexOf(t),p=-1!==e.facets.indexOf(t);d&&(f=g[t],c.disjunctiveFacets[f]={name:t,data:i,exhaustive:a.exhaustiveFacetsCount},m(c.disjunctiveFacets[f],a.facets_stats,t)),p&&(f=v[t],c.facets[f]={name:t,data:i,exhaustive:a.exhaustiveFacetsCount},m(c.facets[f],a.facets_stats,t))}})),this.hierarchicalFacets=r(this.hierarchicalFacets),h.forEach((function(n){var r=t[y],s=r&&r.facets?r.facets:{},l=e.getHierarchicalFacetByName(n);Object.keys(s).forEach((function(t){var n,h=s[t];if(l){n=o(e.hierarchicalFacets,(function(e){return e.name===l.name}));var d=o(c.hierarchicalFacets[n],(function(e){return e.attribute===t}));if(-1===d)return;c.hierarchicalFacets[n][d].data=u({},c.hierarchicalFacets[n][d].data,h)}else{n=g[t];var p=a.facets&&a.facets[t]||{};c.disjunctiveFacets[n]={name:t,data:i({},h,p),exhaustive:r.exhaustiveFacetsCount},m(c.disjunctiveFacets[n],r.facets_stats,t),e.disjunctiveFacetsRefinements[t]&&e.disjunctiveFacetsRefinements[t].forEach((function(r){!c.disjunctiveFacets[n].data[r]&&e.disjunctiveFacetsRefinements[t].indexOf(f(r))>-1&&(c.disjunctiveFacets[n].data[r]=0)}))}})),y++})),e.getRefinedHierarchicalFacets().forEach((function(n){var r=e.getHierarchicalFacetByName(n),a=e._getHierarchicalFacetSeparator(r),s=e.getHierarchicalRefinement(n);0===s.length||s[0].split(a).length<2||t.slice(y).forEach((function(t){var n=t&&t.facets?t.facets:{};Object.keys(n).forEach((function(t){var u=n[t],l=o(e.hierarchicalFacets,(function(e){return e.name===r.name})),h=o(c.hierarchicalFacets[l],(function(e){return e.attribute===t}));if(-1!==h){var f={};if(s.length>0&&!c.persistHierarchicalRootCount){var d=s[0].split(a)[0];f[d]=c.hierarchicalFacets[l][h].data[d]}c.hierarchicalFacets[l][h].data=i(f,u,c.hierarchicalFacets[l][h].data)}})),y++}))})),Object.keys(e.facetsExcludes).forEach((function(t){var n=e.facetsExcludes[t],r=v[t];c.facets[r]={name:t,data:b[t],exhaustive:a.exhaustiveFacetsCount},n.forEach((function(e){c.facets[r]=c.facets[r]||{name:t},c.facets[r].data=c.facets[r].data||{},c.facets[r].data[e]=0}))})),this.hierarchicalFacets=this.hierarchicalFacets.map(d(e)),this.facets=r(this.facets),this.disjunctiveFacets=r(this.disjunctiveFacets),this._state=e}function g(e,t){function n(e){return e.name===t}if(e._state.isConjunctiveFacet(t)){var r=s(e.facets,n);return r?Object.keys(r.data).map((function(n){var i=h(n);return{name:n,escapedValue:i,count:r.data[n],isRefined:e._state.isFacetRefined(t,i),isExcluded:e._state.isExcludeRefined(t,n)}})):[]}if(e._state.isDisjunctiveFacet(t)){var i=s(e.disjunctiveFacets,n);return i?Object.keys(i.data).map((function(n){var r=h(n);return{name:n,escapedValue:r,count:i.data[n],isRefined:e._state.isDisjunctiveFacetRefined(t,r)}})):[]}if(e._state.isHierarchicalFacet(t)){var a=s(e.hierarchicalFacets,n);if(!a)return a;var o=e._state.getHierarchicalFacetByName(t),c=e._state._getHierarchicalFacetSeparator(o),u=f(e._state.getHierarchicalRefinement(t)[0]||"");0===u.indexOf(o.rootPath)&&(u=u.replace(o.rootPath+c,""));var l=u.split(c);return l.unshift(t),y(a,l,0),a}}function y(e,t,n){e.isRefined=e.name===(t[n]&&t[n].trim()),e.data&&e.data.forEach((function(e){y(e,t,n+1)}))}function b(e,t,n,r){if(r=r||0,Array.isArray(t))return e(t,n[r]);if(!t.data||0===t.data.length)return t;var a=t.data.map((function(t){return b(e,t,n,r+1)})),s=e(a,n[r]);return i({data:s},t)}function w(e,t){var n=s(e,(function(e){return e.name===t}));return n&&n.stats}function R(e,t,n,r,i){var a=s(i,(function(e){return e.name===n})),o=a&&a.data&&a.data[r]?a.data[r]:0,c=a&&a.exhaustive||!1;return{type:t,attributeName:n,name:r,count:o,exhaustive:c}}v.prototype.getFacetByName=function(e){function t(t){return t.name===e}return s(this.facets,t)||s(this.disjunctiveFacets,t)||s(this.hierarchicalFacets,t)},v.DEFAULT_SORT=["isRefined:desc","count:desc","name:asc"],v.prototype.getFacetValues=function(e,t){var n=g(this,e);if(n){var r=i({},t,{sortBy:v.DEFAULT_SORT,facetOrdering:!(t&&t.sortBy)}),a=this;return b((function(e,t){if(r.facetOrdering){var n=function(e,t){return e.renderingContent&&e.renderingContent.facetOrdering&&e.renderingContent.facetOrdering.values&&e.renderingContent.facetOrdering.values[t]}(a,t);if(n)return function(e,t){var n=[],r=[],i=t.hide||[],a=(t.order||[]).reduce((function(e,t,n){return e[t]=n,e}),{});e.forEach((function(e){var t=e.path||e.name,s=i.indexOf(t)>-1;s||void 0===a[t]?s||r.push(e):n[a[t]]=e})),n=n.filter((function(e){return e}));var s,o=t.sortRemainingBy;return"hidden"===o?n:(s="alpha"===o?[["path","name"],["asc","asc"]]:[["count"],["desc"]],n.concat(l(r,s[0],s[1])))}(e,n)}if(Array.isArray(r.sortBy)){var i=c(r.sortBy,v.DEFAULT_SORT);return l(e,i[0],i[1])}if("function"==typeof r.sortBy)return function(e,t){return t.sort(e)}(r.sortBy,e);throw new Error("options.sortBy is optional but if defined it must be either an array of string (predicates) or a sorting function")}),n,Array.isArray(n)?[e]:a._state.getHierarchicalFacetByName(n.name).attributes)}},v.prototype.getFacetStats=function(e){return this._state.isConjunctiveFacet(e)?w(this.facets,e):this._state.isDisjunctiveFacet(e)?w(this.disjunctiveFacets,e):void 0},v.prototype.getRefinements=function(){var e=this._state,t=this,n=[];return Object.keys(e.facetsRefinements).forEach((function(r){e.facetsRefinements[r].forEach((function(e){n.push(R(0,"facet",r,e,t.facets))}))})),Object.keys(e.facetsExcludes).forEach((function(r){e.facetsExcludes[r].forEach((function(e){n.push(R(0,"exclude",r,e,t.facets))}))})),Object.keys(e.disjunctiveFacetsRefinements).forEach((function(r){e.disjunctiveFacetsRefinements[r].forEach((function(e){n.push(R(0,"disjunctive",r,e,t.disjunctiveFacets))}))})),Object.keys(e.hierarchicalFacetsRefinements).forEach((function(r){e.hierarchicalFacetsRefinements[r].forEach((function(i){n.push(function(e,t,n,r){var i=e.getHierarchicalFacetByName(t),a=e._getHierarchicalFacetSeparator(i),o=n.split(a),c=s(r,(function(e){return e.name===t})),u=o.reduce((function(e,t){var n=e&&s(e.data,(function(e){return e.name===t}));return void 0!==n?n:e}),c),l=u&&u.count||0,h=u&&u.exhaustive||!1,f=u&&u.path||"";return{type:"hierarchical",attributeName:t,name:f,count:l,exhaustive:h}}(e,r,i,t.hierarchicalFacets))}))})),Object.keys(e.numericRefinements).forEach((function(t){var r=e.numericRefinements[t];Object.keys(r).forEach((function(e){r[e].forEach((function(r){n.push({type:"numeric",attributeName:t,name:r,numericValue:r,operator:e})}))}))})),e.tagRefinements.forEach((function(e){n.push({type:"tag",attributeName:"_tags",name:e})})),n},e.exports=v},49374:(e,t,n)=>{"use strict";var r=n(17331),i=n(68078),a=n(94039).escapeFacetValue,s=n(14853),o=n(60185),c=n(90116),u=n(49803),l=n(67450),h=n(43650),f=n(96394),d=n(17775),p=n(23076),m=n(97878),v=n(24336);function g(e,t,n,r){"function"==typeof e.addAlgoliaAgent&&e.addAlgoliaAgent("JS Helper ("+v+")"),this.setClient(e);var i=n||{};i.index=t,this.state=d.make(i),this.recommendState=new l({params:i.recommendState}),this.lastResults=null,this.lastRecommendResults=null,this._queryId=0,this._recommendQueryId=0,this._lastQueryIdReceived=-1,this._lastRecommendQueryIdReceived=-1,this.derivedHelpers=[],this._currentNbQueries=0,this._currentNbRecommendQueries=0,this._searchResultsOptions=r,this._recommendCache={}}function y(e){if(e<0)throw new Error("Page requested below 0.");return this._change({state:this.state.setPage(e),isPageReset:!1}),this}function b(){return this.state.page}s(g,r),g.prototype.search=function(){return this._search({onlyWithDerivedHelpers:!1}),this},g.prototype.searchOnlyWithDerivedHelpers=function(){return this._search({onlyWithDerivedHelpers:!0}),this},g.prototype.recommend=function(){return this._recommend(),this},g.prototype.getQuery=function(){var e=this.state;return f._getHitsSearchParams(e)},g.prototype.searchOnce=function(e,t){var n=e?this.state.setQueryParameters(e):this.state,r=f._getQueries(n.index,n),i=this;if(this._currentNbQueries++,this.emit("searchOnce",{state:n}),!t)return this.client.search(r).then((function(e){return i._currentNbQueries--,0===i._currentNbQueries&&i.emit("searchQueueEmpty"),{content:new p(n,e.results),state:n,_originalResponse:e}}),(function(e){throw i._currentNbQueries--,0===i._currentNbQueries&&i.emit("searchQueueEmpty"),e}));this.client.search(r).then((function(e){i._currentNbQueries--,0===i._currentNbQueries&&i.emit("searchQueueEmpty"),t(null,new p(n,e.results),n)})).catch((function(e){i._currentNbQueries--,0===i._currentNbQueries&&i.emit("searchQueueEmpty"),t(e,null,n)}))},g.prototype.findAnswers=function(e){console.warn("[algoliasearch-helper] answers is no longer supported");var t=this.state,n=this.derivedHelpers[0];if(!n)return Promise.resolve([]);var r=n.getModifiedState(t),i=o({attributesForPrediction:e.attributesForPrediction,nbHits:e.nbHits},{params:u(f._getHitsSearchParams(r),["attributesToSnippet","hitsPerPage","restrictSearchableAttributes","snippetEllipsisText"])}),a="search for answers was called, but this client does not have a function client.initIndex(index).findAnswers";if("function"!=typeof this.client.initIndex)throw new Error(a);var s=this.client.initIndex(r.index);if("function"!=typeof s.findAnswers)throw new Error(a);return s.findAnswers(r.query,e.queryLanguages,i)},g.prototype.searchForFacetValues=function(e,t,n,r){var i="function"==typeof this.client.searchForFacetValues,s="function"==typeof this.client.initIndex;if(!i&&!s&&"function"!=typeof this.client.search)throw new Error("search for facet values (searchable) was called, but this client does not have a function client.searchForFacetValues or client.initIndex(index).searchForFacetValues");var o=this.state.setQueryParameters(r||{}),c=o.isDisjunctiveFacet(e),u=f.getSearchForFacetQuery(e,t,n,o);this._currentNbQueries++;var l,h=this;return i?l=this.client.searchForFacetValues([{indexName:o.index,params:u}]):s?l=this.client.initIndex(o.index).searchForFacetValues(u):(delete u.facetName,l=this.client.search([{type:"facet",facet:e,indexName:o.index,params:u}]).then((function(e){return e.results[0]}))),this.emit("searchForFacetValues",{state:o,facet:e,query:t}),l.then((function(t){return h._currentNbQueries--,0===h._currentNbQueries&&h.emit("searchQueueEmpty"),(t=Array.isArray(t)?t[0]:t).facetHits.forEach((function(t){t.escapedValue=a(t.value),t.isRefined=c?o.isDisjunctiveFacetRefined(e,t.escapedValue):o.isFacetRefined(e,t.escapedValue)})),t}),(function(e){throw h._currentNbQueries--,0===h._currentNbQueries&&h.emit("searchQueueEmpty"),e}))},g.prototype.setQuery=function(e){return this._change({state:this.state.resetPage().setQuery(e),isPageReset:!0}),this},g.prototype.clearRefinements=function(e){return this._change({state:this.state.resetPage().clearRefinements(e),isPageReset:!0}),this},g.prototype.clearTags=function(){return this._change({state:this.state.resetPage().clearTags(),isPageReset:!0}),this},g.prototype.addDisjunctiveFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().addDisjunctiveFacetRefinement(e,t),isPageReset:!0}),this},g.prototype.addDisjunctiveRefine=function(){return this.addDisjunctiveFacetRefinement.apply(this,arguments)},g.prototype.addHierarchicalFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().addHierarchicalFacetRefinement(e,t),isPageReset:!0}),this},g.prototype.addNumericRefinement=function(e,t,n){return this._change({state:this.state.resetPage().addNumericRefinement(e,t,n),isPageReset:!0}),this},g.prototype.addFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().addFacetRefinement(e,t),isPageReset:!0}),this},g.prototype.addRefine=function(){return this.addFacetRefinement.apply(this,arguments)},g.prototype.addFacetExclusion=function(e,t){return this._change({state:this.state.resetPage().addExcludeRefinement(e,t),isPageReset:!0}),this},g.prototype.addExclude=function(){return this.addFacetExclusion.apply(this,arguments)},g.prototype.addTag=function(e){return this._change({state:this.state.resetPage().addTagRefinement(e),isPageReset:!0}),this},g.prototype.addFrequentlyBoughtTogether=function(e){return this._recommendChange({state:this.recommendState.addFrequentlyBoughtTogether(e)}),this},g.prototype.addRelatedProducts=function(e){return this._recommendChange({state:this.recommendState.addRelatedProducts(e)}),this},g.prototype.addTrendingItems=function(e){return this._recommendChange({state:this.recommendState.addTrendingItems(e)}),this},g.prototype.addTrendingFacets=function(e){return this._recommendChange({state:this.recommendState.addTrendingFacets(e)}),this},g.prototype.addLookingSimilar=function(e){return this._recommendChange({state:this.recommendState.addLookingSimilar(e)}),this},g.prototype.removeNumericRefinement=function(e,t,n){return this._change({state:this.state.resetPage().removeNumericRefinement(e,t,n),isPageReset:!0}),this},g.prototype.removeDisjunctiveFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().removeDisjunctiveFacetRefinement(e,t),isPageReset:!0}),this},g.prototype.removeDisjunctiveRefine=function(){return this.removeDisjunctiveFacetRefinement.apply(this,arguments)},g.prototype.removeHierarchicalFacetRefinement=function(e){return this._change({state:this.state.resetPage().removeHierarchicalFacetRefinement(e),isPageReset:!0}),this},g.prototype.removeFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().removeFacetRefinement(e,t),isPageReset:!0}),this},g.prototype.removeRefine=function(){return this.removeFacetRefinement.apply(this,arguments)},g.prototype.removeFacetExclusion=function(e,t){return this._change({state:this.state.resetPage().removeExcludeRefinement(e,t),isPageReset:!0}),this},g.prototype.removeExclude=function(){return this.removeFacetExclusion.apply(this,arguments)},g.prototype.removeTag=function(e){return this._change({state:this.state.resetPage().removeTagRefinement(e),isPageReset:!0}),this},g.prototype.removeFrequentlyBoughtTogether=function(e){return this._recommendChange({state:this.recommendState.removeParams(e)}),this},g.prototype.removeRelatedProducts=function(e){return this._recommendChange({state:this.recommendState.removeParams(e)}),this},g.prototype.removeTrendingItems=function(e){return this._recommendChange({state:this.recommendState.removeParams(e)}),this},g.prototype.removeTrendingFacets=function(e){return this._recommendChange({state:this.recommendState.removeParams(e)}),this},g.prototype.removeLookingSimilar=function(e){return this._recommendChange({state:this.recommendState.removeParams(e)}),this},g.prototype.toggleFacetExclusion=function(e,t){return this._change({state:this.state.resetPage().toggleExcludeFacetRefinement(e,t),isPageReset:!0}),this},g.prototype.toggleExclude=function(){return this.toggleFacetExclusion.apply(this,arguments)},g.prototype.toggleRefinement=function(e,t){return this.toggleFacetRefinement(e,t)},g.prototype.toggleFacetRefinement=function(e,t){return this._change({state:this.state.resetPage().toggleFacetRefinement(e,t),isPageReset:!0}),this},g.prototype.toggleRefine=function(){return this.toggleFacetRefinement.apply(this,arguments)},g.prototype.toggleTag=function(e){return this._change({state:this.state.resetPage().toggleTagRefinement(e),isPageReset:!0}),this},g.prototype.nextPage=function(){var e=this.state.page||0;return this.setPage(e+1)},g.prototype.previousPage=function(){var e=this.state.page||0;return this.setPage(e-1)},g.prototype.setCurrentPage=y,g.prototype.setPage=y,g.prototype.setIndex=function(e){return this._change({state:this.state.resetPage().setIndex(e),isPageReset:!0}),this},g.prototype.setQueryParameter=function(e,t){return this._change({state:this.state.resetPage().setQueryParameter(e,t),isPageReset:!0}),this},g.prototype.setState=function(e){return this._change({state:d.make(e),isPageReset:!1}),this},g.prototype.overrideStateWithoutTriggeringChangeEvent=function(e){return this.state=new d(e),this},g.prototype.hasRefinements=function(e){return!!c(this.state.getNumericRefinements(e))||(this.state.isConjunctiveFacet(e)?this.state.isFacetRefined(e):this.state.isDisjunctiveFacet(e)?this.state.isDisjunctiveFacetRefined(e):!!this.state.isHierarchicalFacet(e)&&this.state.isHierarchicalFacetRefined(e))},g.prototype.isExcluded=function(e,t){return this.state.isExcludeRefined(e,t)},g.prototype.isDisjunctiveRefined=function(e,t){return this.state.isDisjunctiveFacetRefined(e,t)},g.prototype.hasTag=function(e){return this.state.isTagRefined(e)},g.prototype.isTagRefined=function(){return this.hasTagRefinements.apply(this,arguments)},g.prototype.getIndex=function(){return this.state.index},g.prototype.getCurrentPage=b,g.prototype.getPage=b,g.prototype.getTags=function(){return this.state.tagRefinements},g.prototype.getRefinements=function(e){var t=[];this.state.isConjunctiveFacet(e)?(this.state.getConjunctiveRefinements(e).forEach((function(e){t.push({value:e,type:"conjunctive"})})),this.state.getExcludeRefinements(e).forEach((function(e){t.push({value:e,type:"exclude"})}))):this.state.isDisjunctiveFacet(e)&&this.state.getDisjunctiveRefinements(e).forEach((function(e){t.push({value:e,type:"disjunctive"})}));var n=this.state.getNumericRefinements(e);return Object.keys(n).forEach((function(e){var r=n[e];t.push({value:r,operator:e,type:"numeric"})})),t},g.prototype.getNumericRefinement=function(e,t){return this.state.getNumericRefinement(e,t)},g.prototype.getHierarchicalFacetBreadcrumb=function(e){return this.state.getHierarchicalFacetBreadcrumb(e)},g.prototype._search=function(e){var t=this.state,n=[],r=[];e.onlyWithDerivedHelpers||(r=f._getQueries(t.index,t),n.push({state:t,queriesCount:r.length,helper:this}),this.emit("search",{state:t,results:this.lastResults}));var i=this.derivedHelpers.map((function(e){var r=e.getModifiedState(t),i=r.index?f._getQueries(r.index,r):[];return n.push({state:r,queriesCount:i.length,helper:e}),e.emit("search",{state:r,results:e.lastResults}),i})),a=Array.prototype.concat.apply(r,i),s=this._queryId++;if(this._currentNbQueries++,!a.length)return Promise.resolve({results:[]}).then(this._dispatchAlgoliaResponse.bind(this,n,s));try{this.client.search(a).then(this._dispatchAlgoliaResponse.bind(this,n,s)).catch(this._dispatchAlgoliaError.bind(this,s))}catch(e){this.emit("error",{error:e})}},g.prototype._recommend=function(){var e=this.state,t=this.recommendState,n=this.getIndex(),r=[{state:t,index:n,helper:this}],i=t.params.map((function(e){return e.$$id}));this.emit("fetch",{recommend:{state:t,results:this.lastRecommendResults}});var a=this._recommendCache,s=this.derivedHelpers.map((function(t){var n=t.getModifiedState(e).index;if(!n)return[];var s=t.getModifiedRecommendState(new l);return r.push({state:s,index:n,helper:t}),i=Array.prototype.concat.apply(i,s.params.map((function(e){return e.$$id}))),t.emit("fetch",{recommend:{state:s,results:t.lastRecommendResults}}),s._buildQueries(n,a)})),o=Array.prototype.concat.apply(this.recommendState._buildQueries(n,a),s);if(0!==o.length)if(o.length>0&&void 0===this.client.getRecommendations)console.warn("Please update algoliasearch/lite to the latest version in order to use recommend widgets.");else{var c=this._recommendQueryId++;this._currentNbRecommendQueries++;try{this.client.getRecommendations(o).then(this._dispatchRecommendResponse.bind(this,c,r,i)).catch(this._dispatchRecommendError.bind(this,c))}catch(e){this.emit("error",{error:e})}}},g.prototype._dispatchAlgoliaResponse=function(e,t,n){var r=this;if(!(t<this._lastQueryIdReceived)){this._currentNbQueries-=t-this._lastQueryIdReceived,this._lastQueryIdReceived=t,0===this._currentNbQueries&&this.emit("searchQueueEmpty");var i=n.results.slice();e.forEach((function(e){var t=e.state,n=e.queriesCount,a=e.helper,s=i.splice(0,n);t.index?(a.lastResults=new p(t,s,r._searchResultsOptions),a.emit("result",{results:a.lastResults,state:t})):a.emit("result",{results:null,state:t})}))}},g.prototype._dispatchRecommendResponse=function(e,t,n,r){if(!(e<this._lastRecommendQueryIdReceived)){this._currentNbRecommendQueries-=e-this._lastRecommendQueryIdReceived,this._lastRecommendQueryIdReceived=e,0===this._currentNbRecommendQueries&&this.emit("recommendQueueEmpty");var i=this._recommendCache,a={};n.filter((function(e){return void 0===i[e]})).forEach((function(e,t){a[e]||(a[e]=[]),a[e].push(t)})),Object.keys(a).forEach((function(e){var t=a[e],n=r.results[t[0]];1!==t.length?i[e]=Object.assign({},n,{hits:m(t.map((function(e){return r.results[e].hits})))}):i[e]=n}));var s={};n.forEach((function(e){s[e]=i[e]})),t.forEach((function(e){var t=e.state,n=e.helper;e.index?(n.lastRecommendResults=new h(t,s),n.emit("recommend:result",{recommend:{results:n.lastRecommendResults,state:t}})):n.emit("recommend:result",{results:null,state:t})}))}},g.prototype._dispatchAlgoliaError=function(e,t){e<this._lastQueryIdReceived||(this._currentNbQueries-=e-this._lastQueryIdReceived,this._lastQueryIdReceived=e,this.emit("error",{error:t}),0===this._currentNbQueries&&this.emit("searchQueueEmpty"))},g.prototype._dispatchRecommendError=function(e,t){e<this._lastRecommendQueryIdReceived||(this._currentNbRecommendQueries-=e-this._lastRecommendQueryIdReceived,this._lastRecommendQueryIdReceived=e,this.emit("error",{error:t}),0===this._currentNbRecommendQueries&&this.emit("recommendQueueEmpty"))},g.prototype.containsRefinement=function(e,t,n,r){return e||0!==t.length||0!==n.length||0!==r.length},g.prototype._hasDisjunctiveRefinements=function(e){return this.state.disjunctiveRefinements[e]&&this.state.disjunctiveRefinements[e].length>0},g.prototype._change=function(e){var t=e.state,n=e.isPageReset;t!==this.state&&(this.state=t,this.emit("change",{state:this.state,results:this.lastResults,isPageReset:n}))},g.prototype._recommendChange=function(e){var t=e.state;t!==this.recommendState&&(this.recommendState=t,this.emit("recommend:change",{search:{results:this.lastResults,state:this.state},recommend:{results:this.lastRecommendResults,state:this.recommendState}}))},g.prototype.clearCache=function(){return this.client.clearCache&&this.client.clearCache(),this},g.prototype.setClient=function(e){return this.client===e||("function"==typeof e.addAlgoliaAgent&&e.addAlgoliaAgent("JS Helper ("+v+")"),this.client=e),this},g.prototype.getClient=function(){return this.client},g.prototype.derive=function(e,t){var n=new i(this,e,t);return this.derivedHelpers.push(n),n},g.prototype.detachDerivedHelper=function(e){var t=this.derivedHelpers.indexOf(e);if(-1===t)throw new Error("Derived helper already detached");this.derivedHelpers.splice(t,1)},g.prototype.hasPendingRequests=function(){return this._currentNbQueries>0},e.exports=g},74587:e=>{"use strict";e.exports=function(e){return Array.isArray(e)?e.filter(Boolean):[]}},52344:e=>{"use strict";e.exports=function(){return Array.prototype.slice.call(arguments).reduceRight((function(e,t){return Object.keys(Object(t)).forEach((function(n){void 0!==t[n]&&(void 0!==e[n]&&delete e[n],e[n]=t[n])})),e}),{})}},94039:e=>{"use strict";e.exports={escapeFacetValue:function(e){return"string"!=typeof e?e:String(e).replace(/^-/,"\\-")},unescapeFacetValue:function(e){return"string"!=typeof e?e:e.replace(/^\\-/,"-")}}},7888:e=>{"use strict";e.exports=function(e,t){if(Array.isArray(e))for(var n=0;n<e.length;n++)if(t(e[n]))return e[n]}},69725:e=>{"use strict";e.exports=function(e,t){if(!Array.isArray(e))return-1;for(var n=0;n<e.length;n++)if(t(e[n]))return n;return-1}},7948:e=>{e.exports=function(e){return e.reduce((function(e,t){return e.concat(t)}),[])}},82293:(e,t,n)=>{"use strict";var r=n(7888);e.exports=function(e,t){var n=(t||[]).map((function(e){return e.split(":")}));return e.reduce((function(e,t){var i=t.split(":"),a=r(n,(function(e){return e[0]===i[0]}));return i.length>1||!a?(e[0].push(i[0]),e[1].push(i[1]),e):(e[0].push(a[0]),e[1].push(a[1]),e)}),[[],[]])}},14853:e=>{"use strict";e.exports=function(e,t){e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}},22686:e=>{"use strict";e.exports=function(e,t){return e.filter((function(n,r){return t.indexOf(n)>-1&&e.indexOf(n)===r}))}},60185:e=>{"use strict";function t(e){return"function"==typeof e||Array.isArray(e)||"[object Object]"===Object.prototype.toString.call(e)}function n(e,r){if(e===r)return e;for(var i in r)if(Object.prototype.hasOwnProperty.call(r,i)&&"__proto__"!==i&&"constructor"!==i){var a=r[i],s=e[i];void 0!==s&&void 0===a||(t(s)&&t(a)?e[i]=n(s,a):e[i]="object"==typeof(o=a)&&null!==o?n(Array.isArray(o)?[]:{},o):o)}var o;return e}e.exports=function(e){t(e)||(e={});for(var r=1,i=arguments.length;r<i;r++){var a=arguments[r];t(a)&&n(e,a)}return e}},90116:e=>{"use strict";e.exports=function(e){return e&&Object.keys(e).length>0}},49803:e=>{"use strict";e.exports=function(e,t){if(null===e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}},42148:e=>{"use strict";function t(e,t){if(e!==t){var n=void 0!==e,r=null===e,i=void 0!==t,a=null===t;if(!a&&e>t||r&&i||!n)return 1;if(!r&&e<t||a&&n||!i)return-1}return 0}e.exports=function(e,n,r){if(!Array.isArray(e))return[];Array.isArray(r)||(r=[]);var i=e.map((function(e,t){return{criteria:n.map((function(t){return e[t]})),index:t,value:e}}));return i.sort((function(e,n){for(var i=-1;++i<e.criteria.length;){var a=t(e.criteria[i],n.criteria[i]);if(a)return i>=r.length?a:"desc"===r[i]?-a:a}return e.index-n.index})),i.map((function(e){return e.value}))}},28023:e=>{"use strict";e.exports=function e(t){if("number"==typeof t)return t;if("string"==typeof t)return parseFloat(t);if(Array.isArray(t))return t.map(e);throw new Error("The value should be a number, a parsable string or an array of those.")}},96394:(e,t,n)=>{"use strict";var r=n(60185);function i(e){return Object.keys(e).sort().reduce((function(t,n){return t[n]=e[n],t}),{})}var a={_getQueries:function(e,t){var n=[];return n.push({indexName:e,params:a._getHitsSearchParams(t)}),t.getRefinedDisjunctiveFacets().forEach((function(r){n.push({indexName:e,params:a._getDisjunctiveFacetSearchParams(t,r)})})),t.getRefinedHierarchicalFacets().forEach((function(r){var i=t.getHierarchicalFacetByName(r),s=t.getHierarchicalRefinement(r),o=t._getHierarchicalFacetSeparator(i);if(s.length>0&&s[0].split(o).length>1){var c=s[0].split(o).slice(0,-1).reduce((function(e,t,n){return e.concat({attribute:i.attributes[n],value:0===n?t:[e[e.length-1].value,t].join(o)})}),[]);c.forEach((function(r,s){var o=a._getDisjunctiveFacetSearchParams(t,r.attribute,0===s);function u(e){return i.attributes.some((function(t){return t===e.split(":")[0]}))}var l=(o.facetFilters||[]).reduce((function(e,t){if(Array.isArray(t)){var n=t.filter((function(e){return!u(e)}));n.length>0&&e.push(n)}return"string"!=typeof t||u(t)||e.push(t),e}),[]),h=c[s-1];s>0?o.facetFilters=l.concat(h.attribute+":"+h.value):l.length>0?o.facetFilters=l:delete o.facetFilters,n.push({indexName:e,params:o})}))}})),n},_getHitsSearchParams:function(e){var t=e.facets.concat(e.disjunctiveFacets).concat(a._getHitsHierarchicalFacetsAttributes(e)).sort(),n=a._getFacetFilters(e),s=a._getNumericFilters(e),o=a._getTagFilters(e),c={};return t.length>0&&(c.facets=t.indexOf("*")>-1?["*"]:t),o.length>0&&(c.tagFilters=o),n.length>0&&(c.facetFilters=n),s.length>0&&(c.numericFilters=s),i(r({},e.getQueryParams(),c))},_getDisjunctiveFacetSearchParams:function(e,t,n){var s=a._getFacetFilters(e,t,n),o=a._getNumericFilters(e,t),c=a._getTagFilters(e),u={hitsPerPage:0,page:0,analytics:!1,clickAnalytics:!1};c.length>0&&(u.tagFilters=c);var l=e.getHierarchicalFacetByName(t);return u.facets=l?a._getDisjunctiveHierarchicalFacetAttribute(e,l,n):t,o.length>0&&(u.numericFilters=o),s.length>0&&(u.facetFilters=s),i(r({},e.getQueryParams(),u))},_getNumericFilters:function(e,t){if(e.numericFilters)return e.numericFilters;var n=[];return Object.keys(e.numericRefinements).forEach((function(r){var i=e.numericRefinements[r]||{};Object.keys(i).forEach((function(e){var a=i[e]||[];t!==r&&a.forEach((function(t){if(Array.isArray(t)){var i=t.map((function(t){return r+e+t}));n.push(i)}else n.push(r+e+t)}))}))})),n},_getTagFilters:function(e){return e.tagFilters?e.tagFilters:e.tagRefinements.join(",")},_getFacetFilters:function(e,t,n){var r=[],i=e.facetsRefinements||{};Object.keys(i).sort().forEach((function(e){(i[e]||[]).slice().sort().forEach((function(t){r.push(e+":"+t)}))}));var a=e.facetsExcludes||{};Object.keys(a).sort().forEach((function(e){(a[e]||[]).sort().forEach((function(t){r.push(e+":-"+t)}))}));var s=e.disjunctiveFacetsRefinements||{};Object.keys(s).sort().forEach((function(e){var n=s[e]||[];if(e!==t&&n&&0!==n.length){var i=[];n.slice().sort().forEach((function(t){i.push(e+":"+t)})),r.push(i)}}));var o=e.hierarchicalFacetsRefinements||{};return Object.keys(o).sort().forEach((function(i){var a=(o[i]||[])[0];if(void 0!==a){var s,c,u=e.getHierarchicalFacetByName(i),l=e._getHierarchicalFacetSeparator(u),h=e._getHierarchicalRootPath(u);if(t===i){if(-1===a.indexOf(l)||!h&&!0===n||h&&h.split(l).length===a.split(l).length)return;h?(c=h.split(l).length-1,a=h):(c=a.split(l).length-2,a=a.slice(0,a.lastIndexOf(l))),s=u.attributes[c]}else c=a.split(l).length-1,s=u.attributes[c];s&&r.push([s+":"+a])}})),r},_getHitsHierarchicalFacetsAttributes:function(e){return e.hierarchicalFacets.reduce((function(t,n){var r=e.getHierarchicalRefinement(n.name)[0];if(!r)return t.push(n.attributes[0]),t;var i=e._getHierarchicalFacetSeparator(n),a=r.split(i).length,s=n.attributes.slice(0,a+1);return t.concat(s)}),[])},_getDisjunctiveHierarchicalFacetAttribute:function(e,t,n){var r=e._getHierarchicalFacetSeparator(t);if(!0===n){var i=e._getHierarchicalRootPath(t),a=0;return i&&(a=i.split(r).length),[t.attributes[a]]}var s=(e.getHierarchicalRefinement(t.name)[0]||"").split(r).length-1;return t.attributes.slice(0,s+1)},getSearchForFacetQuery:function(e,t,n,s){var o=s.isDisjunctiveFacet(e)?s.clearRefinements(e):s,c={facetQuery:t,facetName:e};return"number"==typeof n&&(c.maxFacetHits=n),i(r({},a._getHitsSearchParams(o),c))}};e.exports=a},46801:e=>{"use strict";e.exports=function(e){return null!==e&&/^[a-zA-Z0-9_-]{1,64}$/.test(e)}},97878:(e,t,n)=>{"use strict";var r=n(7888),i=n(7948);e.exports=function(e){var t={};return e.forEach((function(e){e.forEach((function(e,n){t[e.objectID]?t[e.objectID]={indexSum:t[e.objectID].indexSum+n,count:t[e.objectID].count+1}:t[e.objectID]={indexSum:n,count:1}}))})),function(e,t){var n=[];return Object.keys(e).forEach((function(r){e[r].count<2&&(e[r].indexSum+=100),n.push({objectID:r,avgOfIndices:e[r].indexSum/t})})),n.sort((function(e,t){return e.avgOfIndices>t.avgOfIndices?1:-1}))}(t,e.length).reduce((function(t,n){var a=r(i(e),(function(e){return e.objectID===n.objectID}));return a?t.concat(a):t}),[])}},24336:e=>{"use strict";e.exports="3.22.4"},24955:function(e){e.exports=function(){"use strict";function e(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function t(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function n(n){for(var r=1;r<arguments.length;r++){var i=null!=arguments[r]?arguments[r]:{};r%2?t(Object(i),!0).forEach((function(t){e(n,t,i[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(i)):t(Object(i)).forEach((function(e){Object.defineProperty(n,e,Object.getOwnPropertyDescriptor(i,e))}))}return n}function r(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],r=!0,i=!1,a=void 0;try{for(var s,o=e[Symbol.iterator]();!(r=(s=o.next()).done)&&(n.push(s.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{r||null==o.return||o.return()}finally{if(i)throw a}}return n}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function a(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function s(e){var t,n="algoliasearch-client-js-".concat(e.key),r=function(){return void 0===t&&(t=e.localStorage||window.localStorage),t},a=function(){return JSON.parse(r().getItem(n)||"{}")},s=function(e){r().setItem(n,JSON.stringify(e))},o=function(){var t=e.timeToLive?1e3*e.timeToLive:null,n=a(),r=Object.fromEntries(Object.entries(n).filter((function(e){return void 0!==i(e,2)[1].timestamp})));if(s(r),t){var o=Object.fromEntries(Object.entries(r).filter((function(e){var n=i(e,2)[1],r=(new Date).getTime();return!(n.timestamp+t<r)})));s(o)}};return{get:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{miss:function(){return Promise.resolve()}};return Promise.resolve().then((function(){o();var t=JSON.stringify(e);return a()[t]})).then((function(e){return Promise.all([e?e.value:t(),void 0!==e])})).then((function(e){var t=i(e,2),r=t[0],a=t[1];return Promise.all([r,a||n.miss(r)])})).then((function(e){return i(e,1)[0]}))},set:function(e,t){return Promise.resolve().then((function(){var i=a();return i[JSON.stringify(e)]={timestamp:(new Date).getTime(),value:t},r().setItem(n,JSON.stringify(i)),t}))},delete:function(e){return Promise.resolve().then((function(){var t=a();delete t[JSON.stringify(e)],r().setItem(n,JSON.stringify(t))}))},clear:function(){return Promise.resolve().then((function(){r().removeItem(n)}))}}}function o(e){var t=a(e.caches),n=t.shift();return void 0===n?{get:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{miss:function(){return Promise.resolve()}};return t().then((function(e){return Promise.all([e,n.miss(e)])})).then((function(e){return i(e,1)[0]}))},set:function(e,t){return Promise.resolve(t)},delete:function(e){return Promise.resolve()},clear:function(){return Promise.resolve()}}:{get:function(e,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{miss:function(){return Promise.resolve()}};return n.get(e,r,i).catch((function(){return o({caches:t}).get(e,r,i)}))},set:function(e,r){return n.set(e,r).catch((function(){return o({caches:t}).set(e,r)}))},delete:function(e){return n.delete(e).catch((function(){return o({caches:t}).delete(e)}))},clear:function(){return n.clear().catch((function(){return o({caches:t}).clear()}))}}}function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{serializable:!0},t={};return{get:function(n,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{miss:function(){return Promise.resolve()}},a=JSON.stringify(n);if(a in t)return Promise.resolve(e.serializable?JSON.parse(t[a]):t[a]);var s=r(),o=i&&i.miss||function(){return Promise.resolve()};return s.then((function(e){return o(e)})).then((function(){return s}))},set:function(n,r){return t[JSON.stringify(n)]=e.serializable?JSON.stringify(r):r,Promise.resolve(r)},delete:function(e){return delete t[JSON.stringify(e)],Promise.resolve()},clear:function(){return t={},Promise.resolve()}}}function u(e,t,n){var r={"x-algolia-api-key":n,"x-algolia-application-id":t};return{headers:function(){return e===m.WithinHeaders?r:{}},queryParameters:function(){return e===m.WithinQueryParameters?r:{}}}}function l(e){var t=0;return e((function n(){return t++,new Promise((function(r){setTimeout((function(){r(e(n))}),Math.min(100*t,1e3))}))}))}function h(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(e,t){return Promise.resolve()};return Object.assign(e,{wait:function(n){return h(e.then((function(e){return Promise.all([t(e,n),e])})).then((function(e){return e[1]})))}})}function f(e){for(var t=e.length-1;t>0;t--){var n=Math.floor(Math.random()*(t+1)),r=e[t];e[t]=e[n],e[n]=r}return e}function d(e,t){return t?(Object.keys(t).forEach((function(n){e[n]=t[n](e)})),e):e}function p(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=0;return e.replace(/%s/g,(function(){return encodeURIComponent(n[i++])}))}var m={WithinQueryParameters:0,WithinHeaders:1};function v(e,t){var n=e||{},r=n.data||{};return Object.keys(n).forEach((function(e){-1===["timeout","headers","queryParameters","data","cacheable"].indexOf(e)&&(r[e]=n[e])})),{data:Object.entries(r).length>0?r:void 0,timeout:n.timeout||t,headers:n.headers||{},queryParameters:n.queryParameters||{},cacheable:n.cacheable}}var g={Read:1,Write:2,Any:3},y=1,b=2,w=3;function R(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:y;return n(n({},e),{},{status:t,lastUpdate:Date.now()})}function P(e){return"string"==typeof e?{protocol:"https",url:e,accept:g.Any}:{protocol:e.protocol||"https",url:e.url,accept:e.accept||g.Any}}var x="DELETE",k="GET",j="POST",E="PUT";function O(e,t,r,i){var s=[],o=function(e,t){if(e.method!==k&&(void 0!==e.data||void 0!==t.data)){var r=Array.isArray(e.data)?e.data:n(n({},e.data),t.data);return JSON.stringify(r)}}(r,i),c=function(e,t){var r=n(n({},e.headers),t.headers),i={};return Object.keys(r).forEach((function(e){var t=r[e];i[e.toLowerCase()]=t})),i}(e,i),u=r.method,l=r.method!==k?{}:n(n({},r.data),i.data),h=n(n(n({"x-algolia-agent":e.userAgent.value},e.queryParameters),l),i.queryParameters),f=0,d=function t(n,a){var l=n.pop();if(void 0===l)throw{name:"RetryError",message:"Unreachable hosts - your application id may be incorrect. If the error persists, please reach out to the Algolia Support team: https://alg.li/support .",transporterStackTrace:_(s)};var d={data:o,headers:c,method:u,url:F(l,r.path,h),connectTimeout:a(f,e.timeouts.connect),responseTimeout:a(f,i.timeout)},p=function(e){var t={request:d,response:e,host:l,triesLeft:n.length};return s.push(t),t},m={onSuccess:function(e){return function(e){try{return JSON.parse(e.content)}catch(t){throw function(e,t){return{name:"DeserializationError",message:e,response:t}}(t.message,e)}}(e)},onRetry:function(r){var i=p(r);return r.isTimedOut&&f++,Promise.all([e.logger.info("Retryable failure",I(i)),e.hostsCache.set(l,R(l,r.isTimedOut?w:b))]).then((function(){return t(n,a)}))},onFail:function(e){throw p(e),function(e,t){var n=e.content,r=e.status,i=n;try{i=JSON.parse(n).message}catch(e){}return function(e,t,n){return{name:"ApiError",message:e,status:t,transporterStackTrace:n}}(i,r,t)}(e,_(s))}};return e.requester.send(d).then((function(e){return function(e,t){return function(e){var t=e.status;return e.isTimedOut||function(e){var t=e.isTimedOut,n=e.status;return!t&&0==~~n}(e)||2!=~~(t/100)&&4!=~~(t/100)}(e)?t.onRetry(e):2==~~(e.status/100)?t.onSuccess(e):t.onFail(e)}(e,m)}))};return function(e,t){return Promise.all(t.map((function(t){return e.get(t,(function(){return Promise.resolve(R(t))}))}))).then((function(e){var n=e.filter((function(e){return function(e){return e.status===y||Date.now()-e.lastUpdate>12e4}(e)})),r=e.filter((function(e){return function(e){return e.status===w&&Date.now()-e.lastUpdate<=12e4}(e)})),i=[].concat(a(n),a(r));return{getTimeout:function(e,t){return(0===r.length&&0===e?1:r.length+3+e)*t},statelessHosts:i.length>0?i.map((function(e){return P(e)})):t}}))}(e.hostsCache,t).then((function(e){return d(a(e.statelessHosts).reverse(),e.getTimeout)}))}function S(e){var t=e.hostsCache,n=e.logger,r=e.requester,a=e.requestsCache,s=e.responsesCache,o=e.timeouts,c=e.userAgent,u=e.hosts,l=e.queryParameters,h={hostsCache:t,logger:n,requester:r,requestsCache:a,responsesCache:s,timeouts:o,userAgent:c,headers:e.headers,queryParameters:l,hosts:u.map((function(e){return P(e)})),read:function(e,t){var n=v(t,h.timeouts.read),r=function(){return O(h,h.hosts.filter((function(e){return 0!=(e.accept&g.Read)})),e,n)};if(!0!==(void 0!==n.cacheable?n.cacheable:e.cacheable))return r();var a={request:e,mappedRequestOptions:n,transporter:{queryParameters:h.queryParameters,headers:h.headers}};return h.responsesCache.get(a,(function(){return h.requestsCache.get(a,(function(){return h.requestsCache.set(a,r()).then((function(e){return Promise.all([h.requestsCache.delete(a),e])}),(function(e){return Promise.all([h.requestsCache.delete(a),Promise.reject(e)])})).then((function(e){var t=i(e,2);return t[0],t[1]}))}))}),{miss:function(e){return h.responsesCache.set(a,e)}})},write:function(e,t){return O(h,h.hosts.filter((function(e){return 0!=(e.accept&g.Write)})),e,v(t,h.timeouts.write))}};return h}function A(e){var t={value:"Algolia for JavaScript (".concat(e,")"),add:function(e){var n="; ".concat(e.segment).concat(void 0!==e.version?" (".concat(e.version,")"):"");return-1===t.value.indexOf(n)&&(t.value="".concat(t.value).concat(n)),t}};return t}function F(e,t,n){var r=T(n),i="".concat(e.protocol,"://").concat(e.url,"/").concat("/"===t.charAt(0)?t.substr(1):t);return r.length&&(i+="?".concat(r)),i}function T(e){return Object.keys(e).map((function(t){return p("%s=%s",t,(n=e[t],"[object Object]"===Object.prototype.toString.call(n)||"[object Array]"===Object.prototype.toString.call(n)?JSON.stringify(e[t]):e[t]));var n})).join("&")}function _(e){return e.map((function(e){return I(e)}))}function I(e){var t=e.request.headers["x-algolia-api-key"]?{"x-algolia-api-key":"*****"}:{};return n(n({},e),{},{request:n(n({},e.request),{},{headers:n(n({},e.request.headers),t)})})}var C=function(e){return function(t,n){return e.transporter.write({method:j,path:"2/abtests",data:t},n)}},D=function(e){return function(t,n){return e.transporter.write({method:x,path:p("2/abtests/%s",t)},n)}},L=function(e){return function(t,n){return e.transporter.read({method:k,path:p("2/abtests/%s",t)},n)}},N=function(e){return function(t){return e.transporter.read({method:k,path:"2/abtests"},t)}},q=function(e){return function(t,n){return e.transporter.write({method:j,path:p("2/abtests/%s/stop",t)},n)}},U=function(e){return function(t){return e.transporter.read({method:k,path:"1/strategies/personalization"},t)}},H=function(e){return function(t,n){return e.transporter.write({method:j,path:"1/strategies/personalization",data:t},n)}};function B(e){return function t(n){return e.request(n).then((function(r){if(void 0!==e.batch&&e.batch(r.hits),!e.shouldStop(r))return r.cursor?t({cursor:r.cursor}):t({page:(n.page||0)+1})}))}({})}var M=function(e){return function(t,i){var a=i||{},s=a.queryParameters,o=r(a,["queryParameters"]),c=n({acl:t},void 0!==s?{queryParameters:s}:{});return h(e.transporter.write({method:j,path:"1/keys",data:c},o),(function(t,n){return l((function(r){return Y(e)(t.key,n).catch((function(e){if(404!==e.status)throw e;return r()}))}))}))}},Q=function(e){return function(t,n,r){var i=v(r);return i.queryParameters["X-Algolia-User-ID"]=t,e.transporter.write({method:j,path:"1/clusters/mapping",data:{cluster:n}},i)}},V=function(e){return function(t,n,r){return e.transporter.write({method:j,path:"1/clusters/mapping/batch",data:{users:t,cluster:n}},r)}},G=function(e){return function(t,n){return h(e.transporter.write({method:j,path:p("/1/dictionaries/%s/batch",t),data:{clearExistingDictionaryEntries:!0,requests:{action:"addEntry",body:[]}}},n),(function(t,n){return ke(e)(t.taskID,n)}))}},J=function(e){return function(t,n,r){return h(e.transporter.write({method:j,path:p("1/indexes/%s/operation",t),data:{operation:"copy",destination:n}},r),(function(n,r){return se(e)(t,{methods:{waitTask:lt}}).waitTask(n.taskID,r)}))}},Z=function(e){return function(t,r,i){return J(e)(t,r,n(n({},i),{},{scope:[ft.Rules]}))}},W=function(e){return function(t,r,i){return J(e)(t,r,n(n({},i),{},{scope:[ft.Settings]}))}},z=function(e){return function(t,r,i){return J(e)(t,r,n(n({},i),{},{scope:[ft.Synonyms]}))}},K=function(e){return function(t,n){return t.method===k?e.transporter.read(t,n):e.transporter.write(t,n)}},$=function(e){return function(t,n){return h(e.transporter.write({method:x,path:p("1/keys/%s",t)},n),(function(n,r){return l((function(n){return Y(e)(t,r).then(n).catch((function(e){if(404!==e.status)throw e}))}))}))}},X=function(e){return function(t,n,r){var i=n.map((function(e){return{action:"deleteEntry",body:{objectID:e}}}));return h(e.transporter.write({method:j,path:p("/1/dictionaries/%s/batch",t),data:{clearExistingDictionaryEntries:!1,requests:i}},r),(function(t,n){return ke(e)(t.taskID,n)}))}},Y=function(e){return function(t,n){return e.transporter.read({method:k,path:p("1/keys/%s",t)},n)}},ee=function(e){return function(t,n){return e.transporter.read({method:k,path:p("1/task/%s",t.toString())},n)}},te=function(e){return function(t){return e.transporter.read({method:k,path:"/1/dictionaries/*/settings"},t)}},ne=function(e){return function(t){return e.transporter.read({method:k,path:"1/logs"},t)}},re=function(e){return function(t){return e.transporter.read({method:k,path:"1/clusters/mapping/top"},t)}},ie=function(e){return function(t,n){return e.transporter.read({method:k,path:p("1/clusters/mapping/%s",t)},n)}},ae=function(e){return function(t){var n=t||{},i=n.retrieveMappings,a=r(n,["retrieveMappings"]);return!0===i&&(a.getClusters=!0),e.transporter.read({method:k,path:"1/clusters/mapping/pending"},a)}},se=function(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return d({transporter:e.transporter,appId:e.appId,indexName:t},n.methods)}},oe=function(e){return function(t){return e.transporter.read({method:k,path:"1/keys"},t)}},ce=function(e){return function(t){return e.transporter.read({method:k,path:"1/clusters"},t)}},ue=function(e){return function(t){return e.transporter.read({method:k,path:"1/indexes"},t)}},le=function(e){return function(t){return e.transporter.read({method:k,path:"1/clusters/mapping"},t)}},he=function(e){return function(t,n,r){return h(e.transporter.write({method:j,path:p("1/indexes/%s/operation",t),data:{operation:"move",destination:n}},r),(function(n,r){return se(e)(t,{methods:{waitTask:lt}}).waitTask(n.taskID,r)}))}},fe=function(e){return function(t,n){return h(e.transporter.write({method:j,path:"1/indexes/*/batch",data:{requests:t}},n),(function(t,n){return Promise.all(Object.keys(t.taskID).map((function(r){return se(e)(r,{methods:{waitTask:lt}}).waitTask(t.taskID[r],n)})))}))}},de=function(e){return function(t,n){return e.transporter.read({method:j,path:"1/indexes/*/objects",data:{requests:t}},n)}},pe=function(e){return function(t,r){var i=t.map((function(e){return n(n({},e),{},{params:T(e.params||{})})}));return e.transporter.read({method:j,path:"1/indexes/*/queries",data:{requests:i},cacheable:!0},r)}},me=function(e){return function(t,i){return Promise.all(t.map((function(t){var a=t.params,s=a.facetName,o=a.facetQuery,c=r(a,["facetName","facetQuery"]);return se(e)(t.indexName,{methods:{searchForFacetValues:st}}).searchForFacetValues(s,o,n(n({},i),c))})))}},ve=function(e){return function(t,n){var r=v(n);return r.queryParameters["X-Algolia-User-ID"]=t,e.transporter.write({method:x,path:"1/clusters/mapping"},r)}},ge=function(e){return function(t,n,r){var i=n.map((function(e){return{action:"addEntry",body:e}}));return h(e.transporter.write({method:j,path:p("/1/dictionaries/%s/batch",t),data:{clearExistingDictionaryEntries:!0,requests:i}},r),(function(t,n){return ke(e)(t.taskID,n)}))}},ye=function(e){return function(t,n){return h(e.transporter.write({method:j,path:p("1/keys/%s/restore",t)},n),(function(n,r){return l((function(n){return Y(e)(t,r).catch((function(e){if(404!==e.status)throw e;return n()}))}))}))}},be=function(e){return function(t,n,r){var i=n.map((function(e){return{action:"addEntry",body:e}}));return h(e.transporter.write({method:j,path:p("/1/dictionaries/%s/batch",t),data:{clearExistingDictionaryEntries:!1,requests:i}},r),(function(t,n){return ke(e)(t.taskID,n)}))}},we=function(e){return function(t,n,r){return e.transporter.read({method:j,path:p("/1/dictionaries/%s/search",t),data:{query:n},cacheable:!0},r)}},Re=function(e){return function(t,n){return e.transporter.read({method:j,path:"1/clusters/mapping/search",data:{query:t}},n)}},Pe=function(e){return function(t,n){return h(e.transporter.write({method:E,path:"/1/dictionaries/*/settings",data:t},n),(function(t,n){return ke(e)(t.taskID,n)}))}},xe=function(e){return function(t,n){var i=Object.assign({},n),a=n||{},s=a.queryParameters,o=r(a,["queryParameters"]),c=s?{queryParameters:s}:{},u=["acl","indexes","referers","restrictSources","queryParameters","description","maxQueriesPerIPPerHour","maxHitsPerQuery"];return h(e.transporter.write({method:E,path:p("1/keys/%s",t),data:c},o),(function(n,r){return l((function(n){return Y(e)(t,r).then((function(e){return function(e){return Object.keys(i).filter((function(e){return-1!==u.indexOf(e)})).every((function(t){if(Array.isArray(e[t])&&Array.isArray(i[t])){var n=e[t];return n.length===i[t].length&&n.every((function(e,n){return e===i[t][n]}))}return e[t]===i[t]}))}(e)?Promise.resolve():n()}))}))}))}},ke=function(e){return function(t,n){return l((function(r){return ee(e)(t,n).then((function(e){return"published"!==e.status?r():void 0}))}))}},je=function(e){return function(t,n){return h(e.transporter.write({method:j,path:p("1/indexes/%s/batch",e.indexName),data:{requests:t}},n),(function(t,n){return lt(e)(t.taskID,n)}))}},Ee=function(e){return function(t){return B(n(n({shouldStop:function(e){return void 0===e.cursor}},t),{},{request:function(n){return e.transporter.read({method:j,path:p("1/indexes/%s/browse",e.indexName),data:n},t)}}))}},Oe=function(e){return function(t){var r=n({hitsPerPage:1e3},t);return B(n(n({shouldStop:function(e){return e.hits.length<r.hitsPerPage}},r),{},{request:function(t){return ot(e)("",n(n({},r),t)).then((function(e){return n(n({},e),{},{hits:e.hits.map((function(e){return delete e._highlightResult,e}))})}))}}))}},Se=function(e){return function(t){var r=n({hitsPerPage:1e3},t);return B(n(n({shouldStop:function(e){return e.hits.length<r.hitsPerPage}},r),{},{request:function(t){return ct(e)("",n(n({},r),t)).then((function(e){return n(n({},e),{},{hits:e.hits.map((function(e){return delete e._highlightResult,e}))})}))}}))}},Ae=function(e){return function(t,n,i){var a=i||{},s=a.batchSize,o=r(a,["batchSize"]),c={taskIDs:[],objectIDs:[]};return h(function r(){var i,a=[];for(i=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;i<t.length&&(a.push(t[i]),a.length!==(s||1e3));i++);return 0===a.length?Promise.resolve(c):je(e)(a.map((function(e){return{action:n,body:e}})),o).then((function(e){return c.objectIDs=c.objectIDs.concat(e.objectIDs),c.taskIDs.push(e.taskID),i++,r(i)}))}(),(function(t,n){return Promise.all(t.taskIDs.map((function(t){return lt(e)(t,n)})))}))}},Fe=function(e){return function(t){return h(e.transporter.write({method:j,path:p("1/indexes/%s/clear",e.indexName)},t),(function(t,n){return lt(e)(t.taskID,n)}))}},Te=function(e){return function(t){var n=t||{},i=n.forwardToReplicas,a=v(r(n,["forwardToReplicas"]));return i&&(a.queryParameters.forwardToReplicas=1),h(e.transporter.write({method:j,path:p("1/indexes/%s/rules/clear",e.indexName)},a),(function(t,n){return lt(e)(t.taskID,n)}))}},_e=function(e){return function(t){var n=t||{},i=n.forwardToReplicas,a=v(r(n,["forwardToReplicas"]));return i&&(a.queryParameters.forwardToReplicas=1),h(e.transporter.write({method:j,path:p("1/indexes/%s/synonyms/clear",e.indexName)},a),(function(t,n){return lt(e)(t.taskID,n)}))}},Ie=function(e){return function(t,n){return h(e.transporter.write({method:j,path:p("1/indexes/%s/deleteByQuery",e.indexName),data:t},n),(function(t,n){return lt(e)(t.taskID,n)}))}},Ce=function(e){return function(t){return h(e.transporter.write({method:x,path:p("1/indexes/%s",e.indexName)},t),(function(t,n){return lt(e)(t.taskID,n)}))}},De=function(e){return function(t,n){return h(Le(e)([t],n).then((function(e){return{taskID:e.taskIDs[0]}})),(function(t,n){return lt(e)(t.taskID,n)}))}},Le=function(e){return function(t,n){var r=t.map((function(e){return{objectID:e}}));return Ae(e)(r,ht.DeleteObject,n)}},Ne=function(e){return function(t,n){var i=n||{},a=i.forwardToReplicas,s=v(r(i,["forwardToReplicas"]));return a&&(s.queryParameters.forwardToReplicas=1),h(e.transporter.write({method:x,path:p("1/indexes/%s/rules/%s",e.indexName,t)},s),(function(t,n){return lt(e)(t.taskID,n)}))}},qe=function(e){return function(t,n){var i=n||{},a=i.forwardToReplicas,s=v(r(i,["forwardToReplicas"]));return a&&(s.queryParameters.forwardToReplicas=1),h(e.transporter.write({method:x,path:p("1/indexes/%s/synonyms/%s",e.indexName,t)},s),(function(t,n){return lt(e)(t.taskID,n)}))}},Ue=function(e){return function(t){return Je(e)(t).then((function(){return!0})).catch((function(e){if(404!==e.status)throw e;return!1}))}},He=function(e){return function(t,n,r){return e.transporter.read({method:j,path:p("1/answers/%s/prediction",e.indexName),data:{query:t,queryLanguages:n},cacheable:!0},r)}},Be=function(e){return function(t,a){var s=a||{},o=s.query,c=s.paginate,u=r(s,["query","paginate"]),l=0;return function r(){return at(e)(o||"",n(n({},u),{},{page:l})).then((function(e){for(var n=0,a=Object.entries(e.hits);n<a.length;n++){var s=i(a[n],2),o=s[0],u=s[1];if(t(u))return{object:u,position:parseInt(o,10),page:l}}if(l++,!1===c||l>=e.nbPages)throw{name:"ObjectNotFoundError",message:"Object not found."};return r()}))}()}},Me=function(e){return function(t,n){return e.transporter.read({method:k,path:p("1/indexes/%s/%s",e.indexName,t)},n)}},Qe=function(){return function(e,t){for(var n=0,r=Object.entries(e.hits);n<r.length;n++){var a=i(r[n],2),s=a[0];if(a[1].objectID===t)return parseInt(s,10)}return-1}},Ve=function(e){return function(t,i){var a=i||{},s=a.attributesToRetrieve,o=r(a,["attributesToRetrieve"]),c=t.map((function(t){return n({indexName:e.indexName,objectID:t},s?{attributesToRetrieve:s}:{})}));return e.transporter.read({method:j,path:"1/indexes/*/objects",data:{requests:c}},o)}},Ge=function(e){return function(t,n){return e.transporter.read({method:k,path:p("1/indexes/%s/rules/%s",e.indexName,t)},n)}},Je=function(e){return function(t){return e.transporter.read({method:k,path:p("1/indexes/%s/settings",e.indexName),data:{getVersion:2}},t)}},Ze=function(e){return function(t,n){return e.transporter.read({method:k,path:p("1/indexes/%s/synonyms/%s",e.indexName,t)},n)}},We=function(e){return function(t,n){return h(ze(e)([t],n).then((function(e){return{objectID:e.objectIDs[0],taskID:e.taskIDs[0]}})),(function(t,n){return lt(e)(t.taskID,n)}))}},ze=function(e){return function(t,n){var i=n||{},a=i.createIfNotExists,s=r(i,["createIfNotExists"]),o=a?ht.PartialUpdateObject:ht.PartialUpdateObjectNoCreate;return Ae(e)(t,o,s)}},Ke=function(e){return function(t,s){var o=s||{},c=o.safe,u=o.autoGenerateObjectIDIfNotExist,l=o.batchSize,f=r(o,["safe","autoGenerateObjectIDIfNotExist","batchSize"]),d=function(t,n,r,i){return h(e.transporter.write({method:j,path:p("1/indexes/%s/operation",t),data:{operation:r,destination:n}},i),(function(t,n){return lt(e)(t.taskID,n)}))},m=Math.random().toString(36).substring(7),v="".concat(e.indexName,"_tmp_").concat(m),g=et({appId:e.appId,transporter:e.transporter,indexName:v}),y=[],b=d(e.indexName,v,"copy",n(n({},f),{},{scope:["settings","synonyms","rules"]}));return y.push(b),h((c?b.wait(f):b).then((function(){var e=g(t,n(n({},f),{},{autoGenerateObjectIDIfNotExist:u,batchSize:l}));return y.push(e),c?e.wait(f):e})).then((function(){var t=d(v,e.indexName,"move",f);return y.push(t),c?t.wait(f):t})).then((function(){return Promise.all(y)})).then((function(e){var t=i(e,3),n=t[0],r=t[1],s=t[2];return{objectIDs:r.objectIDs,taskIDs:[n.taskID].concat(a(r.taskIDs),[s.taskID])}})),(function(e,t){return Promise.all(y.map((function(e){return e.wait(t)})))}))}},$e=function(e){return function(t,r){return nt(e)(t,n(n({},r),{},{clearExistingRules:!0}))}},Xe=function(e){return function(t,r){return it(e)(t,n(n({},r),{},{clearExistingSynonyms:!0}))}},Ye=function(e){return function(t,n){return h(et(e)([t],n).then((function(e){return{objectID:e.objectIDs[0],taskID:e.taskIDs[0]}})),(function(t,n){return lt(e)(t.taskID,n)}))}},et=function(e){return function(t,n){var i=n||{},a=i.autoGenerateObjectIDIfNotExist,s=r(i,["autoGenerateObjectIDIfNotExist"]),o=a?ht.AddObject:ht.UpdateObject;if(o===ht.UpdateObject){var c=!0,u=!1,l=void 0;try{for(var f,d=t[Symbol.iterator]();!(c=(f=d.next()).done);c=!0)if(void 0===f.value.objectID)return h(Promise.reject({name:"MissingObjectIDError",message:"All objects must have an unique objectID (like a primary key) to be valid. Algolia is also able to generate objectIDs automatically but *it's not recommended*. To do it, use the `{'autoGenerateObjectIDIfNotExist': true}` option."}))}catch(e){u=!0,l=e}finally{try{c||null==d.return||d.return()}finally{if(u)throw l}}}return Ae(e)(t,o,s)}},tt=function(e){return function(t,n){return nt(e)([t],n)}},nt=function(e){return function(t,n){var i=n||{},a=i.forwardToReplicas,s=i.clearExistingRules,o=v(r(i,["forwardToReplicas","clearExistingRules"]));return a&&(o.queryParameters.forwardToReplicas=1),s&&(o.queryParameters.clearExistingRules=1),h(e.transporter.write({method:j,path:p("1/indexes/%s/rules/batch",e.indexName),data:t},o),(function(t,n){return lt(e)(t.taskID,n)}))}},rt=function(e){return function(t,n){return it(e)([t],n)}},it=function(e){return function(t,n){var i=n||{},a=i.forwardToReplicas,s=i.clearExistingSynonyms,o=i.replaceExistingSynonyms,c=v(r(i,["forwardToReplicas","clearExistingSynonyms","replaceExistingSynonyms"]));return a&&(c.queryParameters.forwardToReplicas=1),(o||s)&&(c.queryParameters.replaceExistingSynonyms=1),h(e.transporter.write({method:j,path:p("1/indexes/%s/synonyms/batch",e.indexName),data:t},c),(function(t,n){return lt(e)(t.taskID,n)}))}},at=function(e){return function(t,n){return e.transporter.read({method:j,path:p("1/indexes/%s/query",e.indexName),data:{query:t},cacheable:!0},n)}},st=function(e){return function(t,n,r){return e.transporter.read({method:j,path:p("1/indexes/%s/facets/%s/query",e.indexName,t),data:{facetQuery:n},cacheable:!0},r)}},ot=function(e){return function(t,n){return e.transporter.read({method:j,path:p("1/indexes/%s/rules/search",e.indexName),data:{query:t}},n)}},ct=function(e){return function(t,n){return e.transporter.read({method:j,path:p("1/indexes/%s/synonyms/search",e.indexName),data:{query:t}},n)}},ut=function(e){return function(t,n){var i=n||{},a=i.forwardToReplicas,s=v(r(i,["forwardToReplicas"]));return a&&(s.queryParameters.forwardToReplicas=1),h(e.transporter.write({method:E,path:p("1/indexes/%s/settings",e.indexName),data:t},s),(function(t,n){return lt(e)(t.taskID,n)}))}},lt=function(e){return function(t,n){return l((function(r){return function(e){return function(t,n){return e.transporter.read({method:k,path:p("1/indexes/%s/task/%s",e.indexName,t.toString())},n)}}(e)(t,n).then((function(e){return"published"!==e.status?r():void 0}))}))}},ht={AddObject:"addObject",UpdateObject:"updateObject",PartialUpdateObject:"partialUpdateObject",PartialUpdateObjectNoCreate:"partialUpdateObjectNoCreate",DeleteObject:"deleteObject",DeleteIndex:"delete",ClearIndex:"clear"},ft={Settings:"settings",Synonyms:"synonyms",Rules:"rules"},dt=function(e){return function(t,r){var i=t.map((function(e){return n(n({},e),{},{threshold:e.threshold||0})}));return e.transporter.read({method:j,path:"1/indexes/*/recommendations",data:{requests:i},cacheable:!0},r)}},pt=function(e){return function(t,r){return dt(e)(t.map((function(e){return n(n({},e),{},{fallbackParameters:{},model:"bought-together"})})),r)}},mt=function(e){return function(t,r){return dt(e)(t.map((function(e){return n(n({},e),{},{model:"related-products"})})),r)}},vt=function(e){return function(t,r){var i=t.map((function(e){return n(n({},e),{},{model:"trending-facets",threshold:e.threshold||0})}));return e.transporter.read({method:j,path:"1/indexes/*/recommendations",data:{requests:i},cacheable:!0},r)}},gt=function(e){return function(t,r){var i=t.map((function(e){return n(n({},e),{},{model:"trending-items",threshold:e.threshold||0})}));return e.transporter.read({method:j,path:"1/indexes/*/recommendations",data:{requests:i},cacheable:!0},r)}},yt=function(e){return function(t,r){return dt(e)(t.map((function(e){return n(n({},e),{},{model:"looking-similar"})})),r)}},bt=function(e){return function(t,r){var i=t.map((function(e){return n(n({},e),{},{model:"recommended-for-you",threshold:e.threshold||0})}));return e.transporter.read({method:j,path:"1/indexes/*/recommendations",data:{requests:i},cacheable:!0},r)}};function wt(e,t,r){var i={appId:e,apiKey:t,timeouts:{connect:1,read:2,write:30},requester:{send:function(e){return new Promise((function(t){var n=new XMLHttpRequest;n.open(e.method,e.url,!0),Object.keys(e.headers).forEach((function(t){return n.setRequestHeader(t,e.headers[t])}));var r,i=function(e,r){return setTimeout((function(){n.abort(),t({status:0,content:r,isTimedOut:!0})}),1e3*e)},a=i(e.connectTimeout,"Connection timeout");n.onreadystatechange=function(){n.readyState>n.OPENED&&void 0===r&&(clearTimeout(a),r=i(e.responseTimeout,"Socket timeout"))},n.onerror=function(){0===n.status&&(clearTimeout(a),clearTimeout(r),t({content:n.responseText||"Network request failed",status:n.status,isTimedOut:!1}))},n.onload=function(){clearTimeout(a),clearTimeout(r),t({content:n.responseText,status:n.status,isTimedOut:!1})},n.send(e.data)}))}},logger:(3,{debug:function(e,t){return Promise.resolve()},info:function(e,t){return Promise.resolve()},error:function(e,t){return console.error(e,t),Promise.resolve()}}),responsesCache:c(),requestsCache:c({serializable:!1}),hostsCache:o({caches:[s({key:"".concat("4.24.0","-").concat(e)}),c()]}),userAgent:A("4.24.0").add({segment:"Browser"})},a=n(n({},i),r),l=function(){return function(e){return function(e){var t=e.region||"us",r=u(m.WithinHeaders,e.appId,e.apiKey),i=S(n(n({hosts:[{url:"personalization.".concat(t,".algolia.com")}]},e),{},{headers:n(n(n({},r.headers()),{"content-type":"application/json"}),e.headers),queryParameters:n(n({},r.queryParameters()),e.queryParameters)}));return d({appId:e.appId,transporter:i},e.methods)}(n(n(n({},i),e),{},{methods:{getPersonalizationStrategy:U,setPersonalizationStrategy:H}}))}};return function(e){var t=e.appId,r=u(void 0!==e.authMode?e.authMode:m.WithinHeaders,t,e.apiKey),i=S(n(n({hosts:[{url:"".concat(t,"-dsn.algolia.net"),accept:g.Read},{url:"".concat(t,".algolia.net"),accept:g.Write}].concat(f([{url:"".concat(t,"-1.algolianet.com")},{url:"".concat(t,"-2.algolianet.com")},{url:"".concat(t,"-3.algolianet.com")}]))},e),{},{headers:n(n(n({},r.headers()),{"content-type":"application/x-www-form-urlencoded"}),e.headers),queryParameters:n(n({},r.queryParameters()),e.queryParameters)}));return d({transporter:i,appId:t,addAlgoliaAgent:function(e,t){i.userAgent.add({segment:e,version:t})},clearCache:function(){return Promise.all([i.requestsCache.clear(),i.responsesCache.clear()]).then((function(){}))}},e.methods)}(n(n({},a),{},{methods:{search:pe,searchForFacetValues:me,multipleBatch:fe,multipleGetObjects:de,multipleQueries:pe,copyIndex:J,copySettings:W,copySynonyms:z,copyRules:Z,moveIndex:he,listIndices:ue,getLogs:ne,listClusters:ce,multipleSearchForFacetValues:me,getApiKey:Y,addApiKey:M,listApiKeys:oe,updateApiKey:xe,deleteApiKey:$,restoreApiKey:ye,assignUserID:Q,assignUserIDs:V,getUserID:ie,searchUserIDs:Re,listUserIDs:le,getTopUserIDs:re,removeUserID:ve,hasPendingMappings:ae,clearDictionaryEntries:G,deleteDictionaryEntries:X,getDictionarySettings:te,getAppTask:ee,replaceDictionaryEntries:ge,saveDictionaryEntries:be,searchDictionaryEntries:we,setDictionarySettings:Pe,waitAppTask:ke,customRequest:K,initIndex:function(e){return function(t){return se(e)(t,{methods:{batch:je,delete:Ce,findAnswers:He,getObject:Me,getObjects:Ve,saveObject:Ye,saveObjects:et,search:at,searchForFacetValues:st,waitTask:lt,setSettings:ut,getSettings:Je,partialUpdateObject:We,partialUpdateObjects:ze,deleteObject:De,deleteObjects:Le,deleteBy:Ie,clearObjects:Fe,browseObjects:Ee,getObjectPosition:Qe,findObject:Be,exists:Ue,saveSynonym:rt,saveSynonyms:it,getSynonym:Ze,searchSynonyms:ct,browseSynonyms:Se,deleteSynonym:qe,clearSynonyms:_e,replaceAllObjects:Ke,replaceAllSynonyms:Xe,searchRules:ot,getRule:Ge,deleteRule:Ne,saveRule:tt,saveRules:nt,replaceAllRules:$e,browseRules:Oe,clearRules:Te}})}},initAnalytics:function(){return function(e){return function(e){var t=e.region||"us",r=u(m.WithinHeaders,e.appId,e.apiKey),i=S(n(n({hosts:[{url:"analytics.".concat(t,".algolia.com")}]},e),{},{headers:n(n(n({},r.headers()),{"content-type":"application/json"}),e.headers),queryParameters:n(n({},r.queryParameters()),e.queryParameters)}));return d({appId:e.appId,transporter:i},e.methods)}(n(n(n({},i),e),{},{methods:{addABTest:C,getABTest:L,getABTests:N,stopABTest:q,deleteABTest:D}}))}},initPersonalization:l,initRecommendation:function(){return function(e){return a.logger.info("The `initRecommendation` method is deprecated. Use `initPersonalization` instead."),l()(e)}},getRecommendations:dt,getFrequentlyBoughtTogether:pt,getLookingSimilar:yt,getRecommendedForYou:bt,getRelatedProducts:mt,getTrendingFacets:vt,getTrendingItems:gt}}))}return wt.version="4.24.0",wt}()},62587:e=>{"use strict";function t(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,n,r,i){n=n||"&",r=r||"=";var a={};if("string"!=typeof e||0===e.length)return a;var s=/\+/g;e=e.split(n);var o=1e3;i&&"number"==typeof i.maxKeys&&(o=i.maxKeys);var c=e.length;o>0&&c>o&&(c=o);for(var u=0;u<c;++u){var l,h,f,d,p=e[u].replace(s,"%20"),m=p.indexOf(r);m>=0?(l=p.substr(0,m),h=p.substr(m+1)):(l=p,h=""),f=decodeURIComponent(l),d=decodeURIComponent(h),t(a,f)?Array.isArray(a[f])?a[f].push(d):a[f]=[a[f],d]:a[f]=d}return a}},12361:e=>{"use strict";var t=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,n,r,i){return n=n||"&",r=r||"=",null===e&&(e=void 0),"object"==typeof e?Object.keys(e).map((function(i){var a=encodeURIComponent(t(i))+r;return Array.isArray(e[i])?e[i].map((function(e){return a+encodeURIComponent(t(e))})).join(n):a+encodeURIComponent(t(e[i]))})).join(n):i?encodeURIComponent(t(i))+r+encodeURIComponent(t(e)):""}},17673:(e,t,n)=>{"use strict";t.decode=t.parse=n(62587),t.encode=t.stringify=n(12361)},31998:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="2.14.0";function r(e){return e.reduce((function(e,t){var n=e.events;return e=e.additionalParams,"index"in t?{additionalParams:e,events:n.concat([t])}:{events:n,additionalParams:t}}),{events:[],additionalParams:void 0})}var i=function(e){return void 0===e},a=function(e){return"function"==typeof e};function s(e){return function(t){for(var n=[],r=arguments.length-1;0<r--;)n[r]=arguments[r+1];t&&a(e[t])?e[t].apply(e,n):console.warn("The method `"+t+"` doesn't exist.")}}var o=["insights-js ("+n+")","insights-js-browser-cjs ("+n+")"];function c(e){-1===this._ua.indexOf(e)&&this._ua.push(e)}function u(e){a(e)&&e(this.version)}function l(e,t){var n={};for(i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var r=0,i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]]);return n}function h(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)}))}var f="_ALGOLIA",d=2592e6;function p(e){(e=void 0!==e&&e)?this.setUserToken("anonymous-"+h()):function(){try{return Boolean(navigator.cookieEnabled)}catch(e){return!1}}()&&((e=function(e){for(var t=e+"=",n=document.cookie.split(";"),r=0;r<n.length;r++){for(var i=n[r];" "===i.charAt(0);)i=i.substring(1);if(0===i.indexOf(t))return i.substring(9,i.length)}return""}(f))&&""!==e&&0===e.indexOf("anonymous-")?this.setUserToken(e):(e=this.setUserToken("anonymous-"+h()),function(e,t,n){var r=new Date;r.setTime(r.getTime()+n),n="expires="+r.toUTCString(),document.cookie=e+"="+t+";"+n+";path=/"}(f,e,this._cookieDuration)))}function m(e){return this._userToken=e,a(this._onUserTokenChangeCallback)&&this._onUserTokenChangeCallback(this._userToken),this._userToken}function v(e,t){return a(t)&&t(null,this._userToken),this._userToken}function g(e,t){this._onUserTokenChangeCallback=e,t&&t.immediate&&a(this._onUserTokenChangeCallback)&&this._onUserTokenChangeCallback(this._userToken)}function y(e){return this._authenticatedUserToken=e,a(this._onAuthenticatedUserTokenChangeCallback)&&this._onAuthenticatedUserTokenChangeCallback(this._authenticatedUserToken),this._authenticatedUserToken}function b(e,t){return a(t)&&t(null,this._authenticatedUserToken),this._authenticatedUserToken}function w(e,t){this._onAuthenticatedUserTokenChangeCallback=e,t&&t.immediate&&a(this._onAuthenticatedUserTokenChangeCallback)&&this._onAuthenticatedUserTokenChangeCallback(this._authenticatedUserToken)}function R(e,t){return t.map((function(t){return Object.assign({eventType:e},t)}))}function P(e,t,n){return n.map((function(n){return Object.assign({eventType:e,eventSubtype:t},n)}))}function x(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=(i=r(e)).events,i=i.additionalParams;return this.sendEvents(R("click",n),i)}function k(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=(i=r(e)).events,i=i.additionalParams;return this.sendEvents(R("click",n),i)}function j(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=(i=r(e)).events,i=i.additionalParams;return this.sendEvents(R("click",n),i)}function E(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=(i=r(e)).events,i=i.additionalParams;return this.sendEvents(R("conversion",n),i)}function O(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=(i=r(e)).events,i=i.additionalParams;return this.sendEvents(P("conversion","addToCart",n),i)}function S(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=(i=r(e)).events,i=i.additionalParams;return this.sendEvents(P("conversion","purchase",n),i)}function A(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=(i=r(e)).events,i=i.additionalParams;return this.sendEvents(R("conversion",n),i)}function F(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=(i=r(e)).events,i=i.additionalParams;return this.sendEvents(P("conversion","addToCart",n),i)}function T(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=(i=r(e)).events,i=i.additionalParams;return this.sendEvents(P("conversion","purchase",n),i)}function _(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=(i=r(e)).events,i=i.additionalParams;return this.sendEvents(R("conversion",n),i)}var I=["de","us"];function C(e){var t;if(!i((e=void 0===e?{}:e).region)&&-1===I.indexOf(e.region))throw new Error("optional region is incorrect, please provide either one of: "+I.join(", ")+".");if(!(i(e.cookieDuration)||function(e){return"number"==typeof e}(e.cookieDuration)&&isFinite(e.cookieDuration)&&Math.floor(e.cookieDuration)===e.cookieDuration))throw new Error("optional cookieDuration is incorrect, expected an integer.");(function(e,t,n){var r=t.partial,i=l(t,["partial"]);r||Object.assign(e,n),Object.assign(e,Object.keys(i).reduce((function(e,t){return Object.assign(Object.assign({},e),((e={})["_"+t]=i[t],e))}),{}))})(this,e,{_userHasOptedOut:Boolean(e.userHasOptedOut),_region:e.region,_host:e.host,_anonymousUserToken:null==(t=e.anonymousUserToken)||t,_useCookie:null!=(t=e.useCookie)&&t,_cookieDuration:e.cookieDuration||6*d}),this._endpointOrigin=this._host||(this._region?"https://insights."+this._region+".algolia.io":"https://insights.algolia.io"),this._ua=[].concat(o),e.authenticatedUserToken&&this.setAuthenticatedUserToken(e.authenticatedUserToken),e.userToken?this.setUserToken(e.userToken):this._userToken||this._userHasOptedOut||!this._useCookie||this.setAnonymousUserToken()}function D(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=(i=r(e)).events,i=i.additionalParams;return this.sendEvents(R("view",n),i)}function L(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];var n=(i=r(e)).events,i=i.additionalParams;return this.sendEvents(R("view",n),i)}var N=function(e){var t;e=e.requestFn,this._endpointOrigin="https://insights.algolia.io",this._anonymousUserToken=!0,this._userHasOptedOut=!1,this._useCookie=!1,this._cookieDuration=6*d,this._ua=[],this.version=n,this.sendEvents=(t=e,function(e,n){var r=this;if(!this._userHasOptedOut){if(!(!i(this._apiKey)&&!i(this._appId)||(null==(a=null==n?void 0:n.headers)?void 0:a["X-Algolia-Application-Id"])&&(null==(a=null==n?void 0:n.headers)?void 0:a["X-Algolia-API-Key"])))throw new Error("Before calling any methods on the analytics, you first need to call the 'init' function with appId and apiKey parameters or provide custom credentials in additional parameters.");!this._userToken&&this._anonymousUserToken&&this.setAnonymousUserToken(!0);var a=e.map((function(e){var t=e.filters,n=l(e,["filters"]);return e=Object.assign(Object.assign({},n),{userToken:null!=(n=null==e?void 0:e.userToken)?n:r._userToken,authenticatedUserToken:null!=(n=null==e?void 0:e.authenticatedUserToken)?n:r._authenticatedUserToken}),i(t)||(e.filters=t.map(encodeURIComponent)),e}));return 0===a.length?Promise.resolve(!1):function(e,t,n,r,i,a,s){var o=(s=void 0===s?{}:s)["X-Algolia-Application-Id"],c=s["X-Algolia-API-Key"],u=(s=l(s,["X-Algolia-Application-Id","X-Algolia-API-Key"]),Object.assign({"X-Algolia-Application-Id":null!=o?o:i,"X-Algolia-API-Key":null!=c?c:a,"X-Algolia-Agent":encodeURIComponent(t.join("; "))},s));return e(n+"/1/events?"+Object.keys(u).map((function(e){return e+"="+u[e]})).join("&"),{events:r})}(t,this._ua,this._endpointOrigin,a,this._appId,this._apiKey,null==n?void 0:n.headers)}}).bind(this),this.init=C.bind(this),this.addAlgoliaAgent=c.bind(this),this.setUserToken=m.bind(this),this.setAnonymousUserToken=p.bind(this),this.getUserToken=v.bind(this),this.onUserTokenChange=g.bind(this),this.setAuthenticatedUserToken=y.bind(this),this.getAuthenticatedUserToken=b.bind(this),this.onAuthenticatedUserTokenChange=w.bind(this),this.clickedObjectIDsAfterSearch=x.bind(this),this.clickedObjectIDs=k.bind(this),this.clickedFilters=j.bind(this),this.convertedObjectIDsAfterSearch=E.bind(this),this.purchasedObjectIDsAfterSearch=S.bind(this),this.addedToCartObjectIDsAfterSearch=O.bind(this),this.convertedObjectIDs=A.bind(this),this.addedToCartObjectIDs=F.bind(this),this.purchasedObjectIDs=T.bind(this),this.convertedFilters=_.bind(this),this.viewedObjectIDs=D.bind(this),this.viewedFilters=L.bind(this),this.getVersion=u.bind(this)},q=function(e,t){return new Promise((function(n,r){var i=JSON.stringify(t),a=new XMLHttpRequest;a.addEventListener("readystatechange",(function(){4===a.readyState&&200===a.status?n(!0):4===a.readyState&&n(!1)})),a.addEventListener("error",(function(){return r()})),a.addEventListener("timeout",(function(){return n(!1)})),a.open("POST",e),a.setRequestHeader("Content-Type","application/json"),a.setRequestHeader("Content-Length",""+i.length),a.send(i)}))},U=function(e,t){var n=JSON.stringify(t);return n=navigator.sendBeacon(e,n),Promise.resolve(!!n||q(e,t))},H=function(e,t){return new Promise((function(n,r){fetch(e,{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}}).then((function(e){n(200===e.status)})).catch((function(e){r(e)}))}))};function B(){if(function(){try{return Boolean(navigator.sendBeacon)}catch(e){return!1}}())return U;if(function(){try{return Boolean(XMLHttpRequest)}catch(e){return!1}}())return q;if(function(){try{return void 0!==fetch}catch(e){return!1}}())return H;throw new Error("Could not find a supported HTTP request client in this environment.")}var M=function(e){var t;if(e=s(new N({requestFn:e})),"object"==typeof window&&!window.AlgoliaAnalyticsObject){for(;t=h(),void 0!==window[t];);window.AlgoliaAnalyticsObject=t,window[window.AlgoliaAnalyticsObject]=e}return e.version=n,e}(B());t.AlgoliaAnalytics=N,t.default=M,t.getFunctionalInterface=s,t.getRequesterForBrowser=B,t.processQueue=function(e){var t,n=e.AlgoliaAnalyticsObject;n&&(t=s(this),(e=e[n]).queue=e.queue||[],(n=e.queue).forEach((function(e){var n=(e=[].slice.call(e))[0];e=e.slice(1),t.apply(void 0,[n].concat(e))})),n.push=function(e){var n=(e=[].slice.call(e))[0];e=e.slice(1),t.apply(void 0,[n].concat(e))})}},41137:(e,t,n)=>{const r=n(31998);e.exports=r.default,Object.keys(r).forEach((t=>{"default"!==t&&(e.exports[t]=r[t])}))},62351:(e,t,n)=>{"use strict";n.d(t,{Z:()=>f});var r=n(71171),i=n.n(r),a=n(48764).lW;let s;const o=()=>s||(s=c({atob:"function"==typeof atob&&atob.bind(void 0)||void 0!==a&&(e=>a.from(e,"base64").toString()),btoa:"function"==typeof btoa&&btoa.bind(void 0)||void 0!==a&&(e=>a.from(e).toString("base64")),URLSearchParams:"function"==typeof URLSearchParams&&URLSearchParams||n(8575).URLSearchParams})),c=e=>{if(!(e.atob&&e.btoa&&e.URLSearchParams))throw new TypeError("Origin-Tracing: missing environment APIs. Required: btoa(), atob(), URLSearchParams() (or in Node: Buffer, require('url').URLSearchParams).");return e},u={confluence:"c",jira:"j",stride:"s",bitbucket:"b",trello:"t"};const l="atlOrigin",h={originLibrary:"origin-tracing.js@6.0.7"};class f{constructor({id:e=f.generateId(),product:t,dangerouslySkipValidation:n=!1}){this.id=e,this.product=t,n||this.validate()}static isValidId(e){return"string"==typeof e&&/^[-_a-zA-Z0-9]{1,36}$/.test(e)}static isValidProduct(e){return"string"==typeof e&&/^[-_a-zA-Z0-9]{1,20}$/.test(e)}static generateId(){return i()().replace(/-/g,"")}static createEmpty(){return new d}static createMalformed(){return new p}static fromUrl(e){let t=new(o().URLSearchParams);return m(e,(e=>{t=new(o().URLSearchParams)(e)})),f.fromEncoded(t.get(l))}static fromEncoded(e){if(!e)return f.createEmpty();try{return f.decode(e)}catch(e){return f.createMalformed()}}static removeFromUrl(e){return m(e,(e=>{const t=new(o().URLSearchParams)(e);return t.delete(l),t.toString()}))}static decode(e){const t=function(e){const t=function(e){if(null==e)return"";const t=String(e).replace(/-/g,"+").replace(/_/g,"/"),n=(4-e.length%4)%4;return t+"===".slice(0,n)}(e),n=o().atob(t);return function(e){const t={};return e.i&&(t.id=e.i),e.p&&(t.product=function(e){const t=Object.keys(u);for(let n=0;n<t.length;n++){const r=t[n];if(e===u[r])return r}return e}(e.p)),t}(JSON.parse(n))}(e);return new f(t)}encode(){return function(e){const t=JSON.stringify(function({id:e,product:t}){return{i:e,p:t&&t in u?u[t]:t}}(e));return null==(n=o().btoa(t))?"":String(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"");var n}({id:this.id,product:this.product})}addToUrl(e){return m(e,(e=>{const t=new(o().URLSearchParams)(e);return t.set(l,this.encode()),t.toString()}))}isEmpty(){return!1}isMalformed(){return!this.isEmpty()&&!this.isValid()}isValid(){return!0}toAnalyticsAttributes({transformValue:e=(e=>null===e?void 0:e),hasGeneratedId:t=!1}={}){return{[t?"originIdGenerated":"originId"]:e(this.id),originProduct:e(this.product),...h}}validate(){if(!f.isValidId(this.id))throw new TypeError("Invalid Origin id");if(!f.isValidProduct(this.product))throw new TypeError("Missing/invalid Origin product")}}class d extends f{constructor(){super({id:null,product:null,dangerouslySkipValidation:!0})}isValid(){return!1}isEmpty(){return!0}toAnalyticsAttributes(){return{...h}}}class p extends f{constructor(){super({id:null,product:null,dangerouslySkipValidation:!0})}isValid(){return!1}isEmpty(){return!1}toAnalyticsAttributes(){return{originMalformed:!0,...h}}}function m(e,t){return String(e).replace(/(^[^?#]*)(?:\?)?([^#]*?)(#.*|$)$/,((e,n,r,i)=>{let a=t(r);return a&&(a=`?${a}`),`${n}${a}${i}`}))}},20423:(e,t,n)=>{"use strict";n.d(t,{Z:()=>u});var r=n(63170),i=n(49208);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,c(r.key),r)}}function o(e,t,n){return(t=c(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e){var t=function(e,t){if("object"!==a(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===a(t)?t:String(t)}var u=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),o(this,"ENV_DEV","dev"),o(this,"ENV_STAGING","staging"),o(this,"ENV_PRODUCTION","production"),this.env=t||r.Z.getEnvironment(),this.localizedPrefix=this.getLocalizedPrefix()}var t,n;return t=e,(n=[{key:"getLocalizedPrefix",value:function(){var e=window.location.hostname.split(".")[0];return"www"!==e&&"wac"!==e&&"qa-wac"!==e&&"localhost"!==e&&e}},{key:"wrapForI18n",value:function(e){return this.localizedPrefix?e.replace("//www.","//".concat(this.localizedPrefix,".")):e}},{key:"wacBasePath",value:function(){var e={production:this.wrapForI18n("https://www.atlassian.com"),staging:"".concat(window.location.hostname.indexOf("qa-wac")>-1?"https://qa-wac.internal.atlassian.com":i.Z.stgWacInternalUrl),dev:"http://localhost:8090/wac"};return e.hasOwnProperty(this.env)?e[this.env]:e.production}},{key:"idBasePath",value:function(){var e={production:"https://id.atlassian.com",staging:"https://id.stg.internal.atlassian.com",dev:"http://auth.bizbox.atlassian.com:8888"};return e.hasOwnProperty(this.env)?e[this.env]:e.production}},{key:"idLoginUrl",value:function(e,t){var n=this.getReturnUrl(e,t);return"".concat(this.idBasePath(),"/login?continue=").concat(n)}},{key:"idLogoutUrl",value:function(e){var t=this.getReturnUrl(e);return"".concat(this.idBasePath(),"/logout?continue=").concat(t)}},{key:"idLogoutLoginUrl",value:function(e){return this.idLogoutUrl(this.idLoginUrl(e,!0))}},{key:"macBasePath",value:function(){var e={production:"https://my.atlassian.com",staging:"https://my.stg.internal.atlassian.com",dev:"http://my.bizbox.atlassian.com:8888"};return e.hasOwnProperty(this.env)?e[this.env]:e.production}},{key:"macConfigUrl",value:function(){return"".concat(this.macBasePath(),"/ondemand/config")}},{key:"atlProxyBasePath",value:function(){var e={production:"/gateway/api",staging:"https://wac.stg.atlassian.com/gateway/api",dev:"https://wac.stg.atlassian.com/gateway/api"};return e.hasOwnProperty(this.env)?e[this.env]:e.production}},{key:"wacCofsBasePath",value:function(){var e={production:"/apis/prod/cofs",staging:"/apis/stg/cofs",dev:"/apis/stg/cofs"};return e.hasOwnProperty(this.env)?e[this.env]:e.production}},{key:"wacHamletBasePath",value:function(){var e={production:"/hamlet/1.0",staging:"/apis/stg/hamlet/1.0",dev:"/apis/stg/hamlet/1.0"};return e.hasOwnProperty(this.env)?e[this.env]:e.production}},{key:"getReturnUrl",value:function(e,t){return e=e||window.location.href,t||(e=encodeURIComponent(e)),e}}])&&s(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}()},62522:(e,t,n)=>{"use strict";n.d(t,{y:()=>p});var r=n(59050),i=n(238),a=n(68332),s=n(49208),o=n(92156);function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t,n){return(t=d(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,d(r.key),r)}}function d(e){var t=function(e,t){if("object"!==c(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==c(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===c(t)?t:String(t)}var p=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.baseDomain=this.getBaseDomain()}var t,n;return t=e,(n=[{key:"getBaseDomain",value:function(){return a.Z.isProduction()?"https://www.atlassian.com":"".concat(window.location.hostname.indexOf("qa-wac")>-1?"https://qa-wac.internal.atlassian.com":s.Z.stgWacInternalUrl)}},{key:"getHamletPath",value:function(){return a.Z.isProduction()?"".concat(this.baseDomain,"/hamlet"):"".concat(this.baseDomain,"/apis/stg/hamlet")}},{key:"getCofsPath",value:function(){return a.Z.isProduction()?"".concat(this.baseDomain,"/apis/prod/cofs"):"".concat(this.baseDomain,"/apis/stg/cofs")}},{key:"getCnasPath",value:function(){return a.Z.isProduction()?"".concat(this.baseDomain,"/apis/prod/cnas"):"".concat(this.baseDomain,"/apis/stg/cnas")}},{key:"getBxpPath",value:function(){return"".concat(this.baseDomain,"/endpoint")}},{key:"hamletRequest",value:function(e,t){var n=t?this.getCofsPath():this.getHamletPath(),r={url:"".concat(n).concat(e.url),method:e.method||"GET",headers:e.headers||{},params:e.params};return"GET"===r.method&&(r.params=l({cacheBuster:(new Date).getTime()},e.params)),"POST"===r.method&&(r.headers["Content-Type"]="application/json",r.data=e.data||""),e.authenticated&&o.VR.getToken()&&(r.headers["ATL-XSRF-Token"]=o.VR.getToken(),r.withCredentials=!0),(0,i.Z)(r)}},{key:"bxpRequest",value:function(e){var t={url:"".concat(e.url.startsWith("http")?"":this.getBxpPath()).concat(e.url),method:e.method||"GET",headers:e.headers||{},params:e.params};return"GET"===t.method&&(t.params=l({cacheBuster:(new Date).getTime()},e.params)),"POST"===t.method&&(t.headers["Content-Type"]="application/json",t.data=e.data||""),e.authenticated&&o.VR.getToken()&&(t.withCredentials=!0),(0,i.Z)(t)}},{key:"get",value:function(e){var t={method:"GET"};return r.ZP.isString(e)?t.url=e:r.ZP.isObject(e)&&Object.assign(t,e),this.hamletRequest(t)}},{key:"post",value:function(e){var t={method:"POST"};return r.ZP.isString(e)?t.url=e:Object.assign(t,e),this.hamletRequest(t)}},{key:"request",value:function(e){return(0,i.Z)(e)}}])&&f(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}())},92156:(e,t,n)=>{"use strict";n.d(t,{BK:()=>l,VR:()=>h});var r=n(68332),i=n(62522);function a(e){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a(e)}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,u(r.key),r)}}function c(e,t,n){return(t=u(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e){var t=function(e,t){if("object"!==a(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==a(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===a(t)?t:String(t)}var l={CONFLUENCE:"confluence.ondemand",JIRA_CORE:"jira-core.ondemand",JIRA_BUSINESS:"jira-core.ondemand",JIRA_SOFTWARE:"jira-software.ondemand",JIRA_SERVICE_DESK:"jira-servicedesk.ondemand",JIRA_SERVICE_MANAGEMENT:"jira-servicedesk.ondemand",JIRA_WORK_MANAGEMENT:"jira-core.ondemand",JIRA_PRODUCT_DISCOVERY:"jira-product-discovery",BITBUCKET:"com.atlassian.bitbucket",OPSGENIE:"opsgenie",STATUSPAGE:"statuspage",TRELLO:"trello",ROVO:"rovo",COMPASS:"compass",LOOM:"loom",GUARD:"atlassian-access"},h=new(function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),c(this,"availableProductsData",{cached:null,request:null}),c(this,"meData",{cached:null,request:null}),this.token=null,this.initialized=!1,this.user={contactDetails:{firstName:"",lastName:"",email:""},organisationDetails:{address1:"",address2:"",city:"",state:"",postcode:"",isoCountryCode:"",organisationName:"",organisationType:null,payOnAccount:!1,taxId:""},lassoDetails:{firstName:"",lastName:"",username:"",displayName:""},myDetails:{aaid:null,avatar:null,email:"",name:"",firstName:"",lastName:""},isLoggedIn:!1},this.sites=[],this.performanceBoostExperiment=!1}var t,n;return t=e,n=[{key:"initUser",value:function(e,t){var n=this;return this.initialized?Promise.resolve(this.user):(this.initialized=!0,Promise.all([this.retrieveXsrfToken(),this.getStargateProfile(e,!1,t)]).then((function(){return Promise.resolve(n.user)})).catch((function(){return Promise.resolve(n.user)})))}},{key:"retrieveXsrfToken",value:function(){var e=this,t={url:"".concat(i.y.getHamletPath(),"/1.0/auth/xsrf/plain"),method:"GET",withCredentials:!0};return i.y.request(t).then((function(t){return t.data&&""!==t.data?(e.setToken(t.data),e.user.isLoggedIn=!0,Promise.resolve()):(e.user.isLoggedIn=!1,Promise.reject())})).catch((function(){return e.user.isLoggedIn=!1,Promise.reject()}))}},{key:"getStargateProfile",value:function(e,t){var n=this;return e&&(this.performanceBoostExperiment=!0),Promise.all([this.retrieveMe(),this.retrieveSitesData(t)]).then((function(e){var t,r,i=(r=2,function(e){if(Array.isArray(e))return e}(t=e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,s,o=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(o.push(r.value),o.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}(t,r)||function(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}(t,r)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),a=i[0],o=i[1];return a&&o&&(Object.assign(n.user.myDetails,a),n.setSites(o),n.user.isLoggedIn=!0),Promise.resolve()})).catch((function(){return n.user.isLoggedIn=!1,Promise.resolve()}))}},{key:"retrieveCurrentUser",value:function(e){return e.url="/1.0/public/contact/currentUser",i.y.hamletRequest(e)}},{key:"retrieveUserDetails",value:function(e){return e.url="/1.0/public/auth/user/details",i.y.hamletRequest(e)}},{key:"retrieveMe",value:function(){var e,t=this,n=r.Z.getAPIPrivateURL(),a={url:"".concat(n,"/me"),method:"GET",withCredentials:!0};return this.meData.cached?e=Promise.resolve(this.meData.cached):(this.meData.request||(this.meData.request=i.y.request(a)),e=this.meData.request),e.then((function(e){if(!e.data)return Promise.reject();t.meData.cached=e,t.meData.request=null;var n=e.data.name;n.indexOf("@")>-1&&(n=n.split("@")[0]);var r={aaid:e.data.account_id,avatar:e.data.picture,email:e.data.email,name:n,firstName:t.getFirstName(n),lastName:t.getLastName(n)};return Promise.resolve(r)})).catch((function(){return t.user.isLoggedIn=!1,Promise.reject()}))}},{key:"retrieveSitesData",value:function(e){var t=this;return this.retrieveAvailableProductsData(e).then((function(e){var t=function(e){return e.map((function(e){var t;return{adminAccess:e.adminAccess,products:null!==(t=e.products)&&void 0!==t?t:e.availableProducts.map((function(e){return l[e.productType]})),cloudId:e.cloudId,displayName:e.displayName,avatarUrl:e.avatar,url:e.url}}))}(e);return t})).catch((function(){t.user.isLoggedIn=!1}))}},{key:"retrieveAvailableProductsData",value:function(e){var t,n=this,a={url:"".concat(r.Z.getAPIPrivateURL(),"/ais/available-products"),method:"GET",withCredentials:!0};return this.availableProductsData.cached?t=Promise.resolve(this.availableProductsData.cached):(this.availableProductsData.request||(this.availableProductsData.request=i.y.request(a)),t=this.availableProductsData.request),t.then((function(t){if(!t.data)return[];n.availableProductsData.cached=t,n.availableProductsData.request=null;var r=t.data.sites||[],i=e?r:r.filter((function(e){return n.isValidSite(e)}));return Promise.resolve(i)})).catch((function(){return n.user.isLoggedIn=!1,Promise.reject()}))}},{key:"checkExtendedTrialAvailability",value:function(e,t,n){var r=this,a={url:"".concat(i.y.getHamletPath(),"/1.0/public/account/").concat(e,"/extendedTrial/availability"),method:"POST",data:{productKey:t,cloudIds:n},withCredentials:!0};return i.y.request(a).then((function(e){return e.data&&""!==e.data?(r.setExtendedTrialAvailability(e.data),Promise.resolve(e.data)):Promise.resolve()})).catch((function(){return Promise.resolve()}))}},{key:"getExtendedTrialAvailability",value:function(){return this.extendedTrialAvailability}},{key:"setExtendedTrialAvailability",value:function(e){this.extendedTrialAvailability=e}},{key:"setToken",value:function(e){this.token=e}},{key:"getToken",value:function(){return this.token}},{key:"setUser",value:function(e){Object.assign(this.user,e)}},{key:"getUser",value:function(){return this.user}},{key:"setSites",value:function(e){this.sites=e}},{key:"getSites",value:function(){return this.sites}},{key:"getSitesByProduct",value:function(e){var t={};this.sites.forEach((function(e){e.products.forEach((function(n){(t[n]=t[n]||[]).push({cloudId:e.cloudId,displayName:e.displayName,url:e.url,avatarUrl:e.avatarUrl||"",isVertigo:e.isVertigo||!1})}))}));var n=[];for(var r in t)r.length&&n.push({name:e[r].name,icon:e[r].login_logo_url||"",sites:t[r].map((function(e){return e.url}))});return n}},{key:"getDisplayName",value:function(){return this.user.myDetails.name}},{key:"getFirstName",value:function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").trim().split(" ")[0]}},{key:"getLastName",value:function(){var e="",t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").trim().split(" ");return t.length>1&&(t.shift(),e=t.join(" ")),e}},{key:"getUserEmail",value:function(){return this.user.myDetails.email||""}},{key:"getUserAaid",value:function(){return this.user.myDetails.aaid||""}},{key:"getAvatar",value:function(){return this.user.myDetails.avatar}},{key:"isLoggedIn",value:function(){return this.user.isLoggedIn&&this.user.myDetails.email.length>0}},{key:"isExpert",value:function(){return"EXPERT"===this.organisationDetails.organisationType}},{key:"isReseller",value:function(){return"RESELLER"===this.organisationDetails.organisationType}},{key:"isPlatinumExpert",value:function(){return"EXPERT"===this.organisationDetails.organisationType&&this.organisationDetails.payOnAccount}},{key:"isValidSite",value:function(e){return!(["servicedog","ecosystem","atlassiantraining","Atlassian Stride","volunteerhub","atlassiantraining","hello-staging","ecosystem","riskmanagement","hello-staging3","hello-staging6","hello-staging9","jdog","sre-ehlo","trello","Trello","bitbucket","Bitbucket"].indexOf(e.displayName)>-1||e.cloudId.startsWith("DUMMY")||e.displayName.toUpperCase().match(".*-SANDBOX-\\d{3}$"))}}],n&&o(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}())},93118:(e,t,n)=>{"use strict";n.r(t),n.d(t,{default:()=>D});var r=n(16722),i=n(62351),a=n(92156),s=n(20423),o=n(68332),c=n(61174),u=n(24955),l=n.n(u),h=n(8131),f=n.n(h),d=n(41137),p=n.n(d),m=n(61746),v=n(28784);function g(e){return g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g(e)}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function b(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){O(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function w(e){return function(e){if(Array.isArray(e))return P(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||R(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function R(e,t){if(e){if("string"==typeof e)return P(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?P(e,t):void 0}}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function x(){x=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",s=i.asyncIterator||"@@asyncIterator",o=i.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function u(e,t,n,i){var a=t&&t.prototype instanceof f?t:f,s=Object.create(a.prototype),o=new O(i||[]);return r(s,"_invoke",{value:P(e,n,o)}),s}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var h={};function f(){}function d(){}function p(){}var m={};c(m,a,(function(){return this}));var v=Object.getPrototypeOf,y=v&&v(v(S([])));y&&y!==t&&n.call(y,a)&&(m=y);var b=p.prototype=f.prototype=Object.create(m);function w(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function R(e,t){function i(r,a,s,o){var c=l(e[r],e,a);if("throw"!==c.type){var u=c.arg,h=u.value;return h&&"object"==g(h)&&n.call(h,"__await")?t.resolve(h.__await).then((function(e){i("next",e,s,o)}),(function(e){i("throw",e,s,o)})):t.resolve(h).then((function(e){u.value=e,s(u)}),(function(e){return i("throw",e,s,o)}))}o(c.arg)}var a;r(this,"_invoke",{value:function(e,n){function r(){return new t((function(t,r){i(e,n,t,r)}))}return a=a?a.then(r,r):r()}})}function P(e,t,n){var r="suspendedStart";return function(i,a){if("executing"===r)throw new Error("Generator is already running");if("completed"===r){if("throw"===i)throw a;return{value:void 0,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var o=k(s,n);if(o){if(o===h)continue;return o}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if("suspendedStart"===r)throw r="completed",n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r="executing";var c=l(e,t,n);if("normal"===c.type){if(r=n.done?"completed":"suspendedYield",c.arg===h)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(r="completed",n.method="throw",n.arg=c.arg)}}}function k(e,t){var n=t.method,r=e.iterator[n];if(void 0===r)return t.delegate=null,"throw"===n&&e.iterator.return&&(t.method="return",t.arg=void 0,k(e,t),"throw"===t.method)||"return"!==n&&(t.method="throw",t.arg=new TypeError("The iterator does not provide a '"+n+"' method")),h;var i=l(r,e.iterator,t.arg);if("throw"===i.type)return t.method="throw",t.arg=i.arg,t.delegate=null,h;var a=i.arg;return a?a.done?(t[e.resultName]=a.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,h):a:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,h)}function j(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function E(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function O(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(j,this),this.reset(!0)}function S(e){if(e){var t=e[a];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,i=function t(){for(;++r<e.length;)if(n.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:A}}function A(){return{value:void 0,done:!0}}return d.prototype=p,r(b,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:d,configurable:!0}),d.displayName=c(p,o,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===d||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,p):(e.__proto__=p,c(e,o,"GeneratorFunction")),e.prototype=Object.create(b),e},e.awrap=function(e){return{__await:e}},w(R.prototype),c(R.prototype,s,(function(){return this})),e.AsyncIterator=R,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var s=new R(u(t,n,r,i),a);return e.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},w(b),c(b,o,"Generator"),c(b,a,(function(){return this})),c(b,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},e.values=S,O.prototype={constructor:O,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(E),!e)for(var t in this)"t"===t.charAt(0)&&n.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function r(n,r){return s.type="throw",s.arg=e,t.next=n,r&&(t.method="next",t.arg=void 0),!!r}for(var i=this.tryEntries.length-1;i>=0;--i){var a=this.tryEntries[i],s=a.completion;if("root"===a.tryLoc)return r("end");if(a.tryLoc<=this.prev){var o=n.call(a,"catchLoc"),c=n.call(a,"finallyLoc");if(o&&c){if(this.prev<a.catchLoc)return r(a.catchLoc,!0);if(this.prev<a.finallyLoc)return r(a.finallyLoc)}else if(o){if(this.prev<a.catchLoc)return r(a.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return r(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r];if(i.tryLoc<=this.prev&&n.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var s=a?a.completion:{};return s.type=e,s.arg=t,a?(this.method="next",this.next=a.finallyLoc,h):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),h},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),E(n),h}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;E(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:S(e),resultName:t,nextLoc:n},"next"===this.method&&(this.arg=void 0),h}},e}function k(e,t,n,r,i,a,s){try{var o=e[a](s),c=o.value}catch(e){return void n(e)}o.done?t(c):Promise.resolve(c).then(r,i)}function j(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function s(e){k(a,r,i,s,o,"next",e)}function o(e){k(a,r,i,s,o,"throw",e)}s(void 0)}))}}function E(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,S(r.key),r)}}function O(e,t,n){return(t=S(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function S(e){var t=function(e,t){if("object"!==g(e)||null===e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!==g(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"===g(t)?t:String(t)}var A="CU5KFWE75C",F="8cb0497a0549da256319b1b8178e5421",T="production"===o.Z.getEnvironment()?"www.atlassian.com.v3":"www.atlassian.com.v3_dev",_=l()(A,F),I=o.Z.getInternationalSubdirectory()||"en";p()("init",{appId:A,apiKey:F});var C="".concat(o.Z.getAPIPrivateURL(),"/graphql"),D=function(){function e(t,n){var u=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),O(this,"getShouldRenderFeatureGateSalesLeadCTA",j(x().mark((function e(){var t,n,r;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("subNav"===u.navType||"true"!==c.Z.getCookie("login_user_detected")){e.next=19;break}return e.next=3,v.Z.utils.featureGate.checkGate("wac_sales_inbound_leads");case 3:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:if(n=(null!==(t=c.Z.getCookie("__aid_user_id"))&&void 0!==t?t:"").replace(/"/g,"")){e.next=9;break}return e.abrupt("return",!1);case 9:return e.prev=9,e.next=12,u.getIsInboundSalesViaGUPS(n);case 12:return r=e.sent,e.abrupt("return",r);case 16:e.prev=16,e.t0=e.catch(9),console.error(e.t0);case 19:return e.abrupt("return",!1);case 20:case"end":return e.stop()}}),e,null,[[9,16]])})))),O(this,"featureGateJiraTemplatesDxpMigration",j(x().mark((function e(){var t,n,r;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.Z.utils.featureGate.checkGate("jira-templates-dxp-migration");case 2:t=e.sent,n=document.querySelectorAll(".exp-control--jira-templates-dxp-migration"),r=document.querySelectorAll(".exp-treatment--jira-templates-dxp-migration"),t?(n.forEach((function(e){e.classList.add("link-hidden")})),r.forEach((function(e){e.classList.remove("link-hidden")}))):(n.forEach((function(e){e.classList.remove("link-hidden")})),r.forEach((function(e){e.classList.add("link-hidden")}))),u.resizeMenus();case 7:case"end":return e.stop()}}),e)})))),O(this,"featureGateConfluenceTemplatesDxpMigration",j(x().mark((function e(){var t,n,r;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v.Z.utils.featureGate.checkGate("confluence-templates-dxp-migration");case 2:t=e.sent,n=document.querySelectorAll(".exp-control--confluence-templates-dxp-migration"),r=document.querySelectorAll(".exp-treatment--confluence-templates-dxp-migration"),t?(n.forEach((function(e){e.classList.add("link-hidden")})),r.forEach((function(e){e.classList.remove("link-hidden")}))):(n.forEach((function(e){e.classList.remove("link-hidden")})),r.forEach((function(e){e.classList.add("link-hidden")}))),u.resizeMenus();case 7:case"end":return e.stop()}}),e)})))),O(this,"onDisplayDropdownButton",j(x().mark((function e(){var t,n,r,i,a,s,o,c,l,h,f,d,p,v,g,y,b;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.getShouldRenderFeatureGateSalesLeadCTA();case 2:if(!e.sent){e.next=14;break}return null!==(t=u.cTADropdown)&&void 0!==t&&t.classList.contains("show-cta")&&u.cTADropdown.classList.remove("show-cta"),null!==(n=u.defaultCtaDesktopButton)&&void 0!==n&&n.classList.contains("show-cta")&&u.defaultCtaDesktopButton.classList.remove("show-cta"),null!==(r=u.defaultCtaTabletButton)&&void 0!==r&&r.classList.contains("show-cta")&&u.defaultCtaTabletButton.classList.remove("show-cta"),null!==(i=u.defaultCtaMobileButton)&&void 0!==i&&i.classList.contains("show-cta")&&u.defaultCtaMobileButton.classList.remove("show-cta"),null===(a=u.salesLeadCtaDesktop)||void 0===a||a.classList.add("show-cta"),null===(s=u.salesLeadCtaTablet)||void 0===s||s.classList.add("show-cta"),null===(o=u.salesLeadCtaMobile)||void 0===o||o.classList.add("show-cta"),e.abrupt("return");case 14:u.isShowCTADropdown?(null===(c=u.cTADropdown)||void 0===c||c.addEventListener("click",j(x().mark((function e(){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(u.closeEverything(),!u.cTADropdown.classList.contains("open-dropdown")){e.next=7;break}u.cTADropdown.classList.remove("open-dropdown"),u.onCloseDisplayDropdownPanelContent(),u.isHovered=!1,e.next=14;break;case 7:if(u.cTADropdown.classList.add("open-dropdown"),u.isGupsCalled){e.next=13;break}return e.next=11,u.onRenderCTADropdownDisplayContent();case 11:e.next=14;break;case 13:u.onDisplayDropdownPanelContent();case 14:u.isHovered||(0,m.L9)("button clicked",{eventComponent:"button",action:"clicked",component:"cta-desktop",source:"globalNav",actionSubjectId:"globalNavCtaDropdownButtonClicked"});case 15:case"end":return e.stop()}}),e)})))),null===(l=u.cTADropdown)||void 0===l||l.addEventListener("mouseenter",j(x().mark((function e(){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u.isHovered=!0,u.cTADropdown.click(),"undefined"!=typeof ace&&ace.analytics.GASv3.sendTrackEvent("exposed","feature","gwp-3947-try-now-cta-dropdown",{eventContainer:"gwp-3947-try-now-cta-dropdown",group:"Test"},!1),(0,m.L9)("button hovered",{eventComponent:"button",action:"hovered",component:"cta-desktop",source:"globalNav",actionSubjectId:"globalNavCtaDropdownButtonHovered"});case 4:case"end":return e.stop()}}),e)})))),null===(h=u.cTADropdown)||void 0===h||h.addEventListener("mouseleave",(function(){u.cTADropdown.classList.contains("open-dropdown")&&u.cTADropdown.classList.remove("open-dropdown"),u.isHovered=!1,u.onCloseDisplayDropdownPanelContent()})),null!==(f=u.defaultCtaDesktopButton)&&void 0!==f&&f.classList.contains("show-cta")&&u.defaultCtaDesktopButton.classList.remove("show-cta"),u.cTADropdown.classList.add("show-cta"),null===(d=u.defaultCtaTabletButton)||void 0===d||d.classList.add("show-cta"),null===(p=u.defaultCtaMobileButton)||void 0===p||p.classList.add("show-cta")):(null!==(v=u.cTADropdown)&&void 0!==v&&v.classList.contains("show-cta")&&u.cTADropdown.classList.remove("show-cta"),null===(g=u.defaultCtaDesktopButton)||void 0===g||g.classList.add("show-cta"),null===(y=u.defaultCtaTabletButton)||void 0===y||y.classList.add("show-cta"),null===(b=u.defaultCtaMobileButton)||void 0===b||b.classList.add("show-cta"));case 15:u.resizeMenus();case 16:case"end":return e.stop()}}),e)})))),O(this,"onRenderCTADropdownDisplayContent",j(x().mark((function e(){var t,n,r,i,s,o,c;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=[a.BK.JIRA_SOFTWARE,a.BK.JIRA_SERVICE_MANAGEMENT,a.BK.CONFLUENCE,a.BK.JIRA_PRODUCT_DISCOVERY,a.BK.COMPASS],O(t={},a.BK.JIRA_SOFTWARE,u.jiraProductMetaData),O(t,a.BK.JIRA_SERVICE_MANAGEMENT,u.jiraServiceManagementProductMetaData),O(t,a.BK.CONFLUENCE,u.confluenceProductMetaData),O(t,a.BK.JIRA_PRODUCT_DISCOVERY,u.jiraProductDiscoveryMetaData),O(t,a.BK.COMPASS,u.compassProductMetaData),r=t,i=[].concat(n),e.prev=3,!u.userInfo.isLoggedIn){e.next=10;break}return e.next=7,u.getUserProductsViaGUPS(n);case 7:e.t0=e.sent,e.next=13;break;case 10:return e.next=12,u.getUserProductsViaGupsWithAnonymousId();case 12:e.t0=e.sent;case 13:(s=e.t0)&&s.length>0&&(i=n.filter((function(e){return!s.includes(e)}))),e.next=20;break;case 17:e.prev=17,e.t1=e.catch(3),console.error(e.t1);case 20:u.isGupsCalled=!0,i.length<3?(o=3-i.length,c=n.filter((function(e){return!i.includes(e)})).slice(0,o),i=i.concat(c)):i=i.slice(0,3),u.cTADropdownHoverContent.querySelector("#highlightItem1__link").setAttribute("href",r[i[0]].href),u.cTADropdownHoverContent.querySelector("#highlightItem1__img").setAttribute("src",r[i[0]].imgSource),u.cTADropdownHoverContent.querySelector("#highlightItem1__product--title").innerHTML=r[i[0]].heading,u.cTADropdownHoverContent.querySelector("#highlightItem1__product--subText").innerHTML=r[i[0]].subText,u.cTADropdownHoverContent.querySelector("#highlightItem2__link").setAttribute("href",r[i[1]].href),u.cTADropdownHoverContent.querySelector("#highlightItem2__img").setAttribute("src",r[i[1]].imgSource),u.cTADropdownHoverContent.querySelector("#highlightItem2__product--title").innerHTML=r[i[1]].heading,u.cTADropdownHoverContent.querySelector("#highlightItem2__product--subText").innerHTML=r[i[1]].subText,u.cTADropdownHoverContent.querySelector("#highlightItem3__link").setAttribute("href",r[i[2]].href),u.cTADropdownHoverContent.querySelector("#highlightItem3__img").setAttribute("src",r[i[2]].imgSource),u.cTADropdownHoverContent.querySelector("#highlightItem3__product--title").innerHTML=r[i[2]].heading,u.cTADropdownHoverContent.querySelector("#highlightItem3__product--subText").innerHTML=r[i[2]].subText,u.onDisplayDropdownPanelContent();case 35:case"end":return e.stop()}}),e,null,[[3,17]])})))),O(this,"onDisplayDropdownPanelContent",(function(){u.dropdownContentLoader.classList.contains("hide")||u.dropdownContentLoader.classList.add("hide"),u.dropdownPanelContent.classList.contains("active")||u.dropdownPanelContent.classList.add("active")})),O(this,"onCloseDisplayDropdownPanelContent",(function(){u.dropdownContentLoader.classList.contains("hide")&&u.dropdownContentLoader.classList.remove("hide"),u.dropdownPanelContent.classList.contains("active")&&u.dropdownPanelContent.classList.remove("active")})),O(this,"getUserProductsViaGupsWithAnonymousId",j(x().mark((function e(){var t,n,r,i,s,o,l,h;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={jira:a.BK.JIRA_SOFTWARE,confluence:a.BK.CONFLUENCE,jsm:a.BK.JIRA_SERVICE_MANAGEMENT,jpd:a.BK.JIRA_PRODUCT_DISCOVERY,compass:a.BK.COMPASS},r=decodeURIComponent(null!==(t=c.Z.getCookie("ajs_anonymous_id"))&&void 0!==t?t:"").replace(/['"]+/g,""),i='\n      query getUnifiedProfile {\n          growthUnifiedProfile_getUnifiedProfile(\n              anonymousId: "'.concat(r,'"\n          ) {\n              entityType\n              enrichmentStatus\n              userFootprints {\n                products\n                hasAtlassianAccount\n              }\n          }\n      }\n    '),e.next=5,u.onGraphqlApiRequest(i);case 5:if(!(s=e.sent).ok){e.next=15;break}return e.next=9,s.json();case 9:if(o=e.sent,!((l=o.data.growthUnifiedProfile_getUnifiedProfile.userFootprints.products).length>0)){e.next=14;break}return h=l.map((function(e){return n[e]})),e.abrupt("return",h);case 14:return e.abrupt("return",l);case 15:throw"Unable to fetch userFootprints products";case 16:case"end":return e.stop()}}),e)})))),O(this,"getIsInboundSalesViaGUPS",function(){var e=j(x().mark((function e(t){var n,r,i,a,s;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n='\n      query InboundSalesQuery {\n        growthUnifiedProfile_getUnifiedProfile(accountId: "'.concat(t,'"){\n          userProfile{\n            domainType\n            smbUserVisitedPricingPages\n          }\n          sites{\n            cloudId\n            displayName\n            products{\n              productKey\n              productName\n              productEdition\n            }\n          }\n        }\n      }\n    '),e.next=3,u.onGraphqlApiRequest(n);case 3:if(!(r=e.sent).ok){e.next=10;break}return e.next=7,r.json();case 7:return a=e.sent,s=null===(i=a.data.growthUnifiedProfile_getUnifiedProfile)||void 0===i?void 0:i.userProfile.smbUserVisitedPricingPages,e.abrupt("return",s);case 10:throw"Unable to fetch user inbound sales data";case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),O(this,"getUserProductsViaGUPS",function(){var e=j(x().mark((function e(t){var n,r,i,s,o,c;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.VR.getUserAaid();case 2:return n=e.sent,r=' \n        query getProfile {\n          growthUnifiedProfile_getUnifiedProfile(\n            accountId: "'.concat(n,'"\n          ) {\n            sites {\n              cloudId\n              displayName\n              siteCreatedAt\n              url\n              hasAdminAccess\n              products {\n                productName\n                productKey\n                productEdition\n                d0Eligible\n                d1to6Eligible\n                d0Active\n                d1to6Active\n                \n              }\n            } \n          }\n        }\n    '),e.next=6,u.onGraphqlApiRequest(r);case 6:if(!(i=e.sent).ok){e.next=16;break}return e.next=10,i.json();case 10:if(s=e.sent,!((o=s.data.growthUnifiedProfile_getUnifiedProfile.sites.flatMap((function(e){return e.products.map((function(e){return e.productKey}))}))).length>0)){e.next=15;break}return c=t.filter((function(e){return o.includes(e)})),e.abrupt("return",c);case 15:return e.abrupt("return",o);case 16:throw"Unable to fetch user products";case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),O(this,"bindEvents",(function(){"subNav"==u.navType&&(document.body.classList.add("compound-nav"),u.scrollPositioning(),document.addEventListener("scroll",(function(){u.scrollPositioning()}))),u.resizeMenus(),window.addEventListener("resize",(function(){u.resizeMenus(),u.scrollPositioning()})),w(u.DropdownNavLinks).forEach((function(e){e.addEventListener("mouseenter",(function(){if(document.documentElement.clientWidth>1024){var t;u.unFocusNavs(),e.classList.remove("clicked-hide"),null===(t=u.AccountAvatar)||void 0===t||t.classList.remove("show-menu");var n=e.querySelector(".dropdown-content"),r=e.querySelector(".dropdown-content-inner");u.outlineElementSizer(r,n)}}))})),w(u.NavLinkButtons).forEach((function(e){e.addEventListener("click",(function(){u.domRoot.classList.add("secondary-show");var t,n=e.dataset.navlinkid,r=u.domRoot.querySelector("#"+n);if(e.dataset.tabid){t=e.dataset.tabid;var i=null==r?void 0:r.querySelector("#"+t);w(null==r?void 0:r.querySelectorAll(".singular-tab-content")).forEach((function(e){e.classList.remove("active")})),null==i||i.classList.add("active")}w(u.DropdownContents).forEach((function(e){e.classList.remove("mobile-show")})),null==r||r.classList.add("mobile-show"),e.parentNode.classList.toggle("clicked-hide")})),e.addEventListener("keyup",(function(t){var n,r=e.parentNode;if("Tab"==t.key&&document.documentElement.clientWidth>1024){if(u.unFocusNavs(),r.classList.add("key-focus"),null===(n=u.AccountAvatar)||void 0===n||n.classList.remove("show-menu"),r.classList.contains("has-dropdown")){var i=r.querySelector(".dropdown-content"),a=r.querySelector(".dropdown-content-inner");u.outlineElementSizer(a,i)}}else if("Enter"==t.key){var s=r,o=e.getAttribute("data-tabid");o&&document.getElementById(o)&&(s=document.getElementById(o)),s.querySelector(".tab-content-area a").focus({focusVisible:!0})}else"Escape"==t.key&&u.closeEverything()}))})),w(u.TabButtons).forEach((function(e){e.addEventListener("click",(function(){var t=e.closest(".dropdown-content"),n=t.querySelector(".dropdown-content-inner"),r=e.dataset.tabid,i=t.querySelectorAll(".singular-tab-content");w(t.querySelectorAll(".tab-button")).forEach((function(e){e.classList.remove("active")})),w(i).forEach((function(e){e.id==r?e.classList.add("active"):e.classList.remove("active")})),e.classList.add("active"),u.outlineElementSizer(n,t)}))})),u.ButtonMenuMore.addEventListener("click",(function(){u.domRoot.classList.add("menu-expanded")})),u.ButtonMenuLess.addEventListener("click",(function(){u.domRoot.classList.remove("menu-expanded")})),u.CloseAll.addEventListener("click",(function(){u.closeEverything()})),u.MobileToggle.addEventListener("click",(function(){var e;null===(e=u.AccountAvatar)||void 0===e||e.classList.remove("show-menu"),u.domRoot.classList.remove("secondary-show"),u.domRoot.classList.contains("mobile-show")?(u.domRoot.classList.remove("mobile-show"),u.hideClickableOverlay()):(u.domRoot.classList.add("mobile-show"),u.showClickableOverlay())})),w(u.MobileBackButtons).forEach((function(e){e.addEventListener("click",(function(){var t;u.domRoot.classList.remove("secondary-show"),null===(t=u.SearchForm)||void 0===t||t.classList.remove("active"),setTimeout((function(){u.SearchForm.style.overflow="hidden",e.parentNode.classList.remove("mobile-show")}),250)}))})),"subNav"!==u.navType&&(u.SearchOpen.addEventListener("click",j(x().mark((function e(){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:u.showClickableOverlay(),u.SearchForm.classList.add("active"),u.closeReturnToProductModal(),setTimeout((function(){u.SearchForm.style.overflow="visible";var e=document.querySelector(".signin-prompt-dropdown-menu-wrapper");e&&!e.classList.contains("hidden")&&e.classList.add("hidden")}),250),u.domRoot.classList.add("secondary-show"),(0,m.L9)("button clicked searchButtonDesktop",{eventComponent:"button",action:"clicked",component:"button",source:"globalNav",actionSubjectId:"searchButtonDesktop"}),"undefined"!=typeof ace&&ace.analytics.GASv3.sendTrackEvent("exposed","feature","wac-search-indexv3",{eventContainer:"wac-search-indexv3",group:"Test"},!1);case 7:case"end":return e.stop()}}),e)})))),u.SearchClose.addEventListener("click",(function(){var e,t;u.closeSearch(),u.domRoot.classList.remove("secondary-show"),null===(e=u.ReturnToProductModal)||void 0===e||e.classList.remove("close"),null===(t=u.ReturnToProductModal)||void 0===t||t.classList.add("open"),(0,m.L9)("button clicked searchCloseButtonDesktop",{eventComponent:"button",action:"clicked",component:"button",source:"globalNav",actionSubjectId:"searchCloseButtonDesktop"})})),u.searchHelper.on("result",(function(e){var t=e.results;e.state,t&&t.hits&&(u.SearchHits=t.hits,u.SearchQuery=t.query,u.QueryId=t.queryID)})),u.SearchInput.addEventListener("keyup",(function(e){u.searchHelper.setQuery(e.target.value),u.searchHelper.search(),u.populateSearchResults()})),u.SearchInput.addEventListener("keypress",(function(e){"Enter"===e.key&&((0,m.L9)("search submitted",{eventComponent:"search",action:"submitted",component:"searchInput",source:"globalNav",actionSubjectId:"globalNavSearchBar"}),window.location.href="/search?q=".concat(e.target.value))})),u.SearchInputSVG.addEventListener("click",(function(){var e=document.querySelector(".adg4-search-input");window.location.href="/search?q=".concat(null==e?void 0:e.value)})))})),O(this,"closeEverything",(function(){var e;u.hideClickableOverlay(),u.unFocusNavs(),null===(e=u.AccountAvatar)||void 0===e||e.classList.remove("show-menu"),u.closeSearch()})),O(this,"openReturnToProductModal",(function(){var e=document.querySelector(".return-to-product-modal");e&&(e.classList.remove("close"),e.classList.add("open"))})),O(this,"closeReturnToProductModal",(function(){var e=document.querySelector(".return-to-product-modal");e&&(e.classList.remove("open"),e.classList.add("close"))})),O(this,"resizeMenus",(function(){if(document.documentElement.clientWidth>1024&&!u.domRoot.classList.contains("menu-expanded")){for(var e=!1,t=0,n=0;n<w(u.GenericNavLinks).length;n++){var r=w(u.GenericNavLinks)[n];r.offsetTop>0||r.nextElementSibling.offsetTop>0?(r.classList.add("wrapped"),e||(e=!0,t=n)):(u.WindowWidth>document.documentElement.clientWidth&&u.WrappedElementIndex>n||u.WindowWidth<document.documentElement.clientWidth&&u.WrappedElementIndex<n)&&r.classList.remove("wrapped")}u.WrappedElementIndex=t,u.WindowWidth=document.documentElement.clientWidth,e?u.domRoot.classList.add("menu-wrapped"):u.domRoot.classList.remove("menu-wrapped")}})),O(this,"scrollPositioning",(function(){document.documentElement.clientWidth>1024&&window.scrollY>68?document.body.classList.add("compound-stuck"):document.body.classList.remove("compound-stuck")})),O(this,"outlineElementSizer",(function(e,t){u.OutlineElement.style.width=e.offsetWidth+"px",u.OutlineElement.style.height=e.offsetHeight+"px",u.OutlineElement.style.left=t.offsetLeft+"px"})),O(this,"showClickableOverlay",(function(){u.OverlayClickable.classList.add("mobile-show"),u.OverlayColor.classList.add("mobile-show")})),O(this,"hideClickableOverlay",(function(){u.domRoot.classList.remove("mobile-show"),u.domRoot.classList.remove("secondary-show"),u.OverlayColor.classList.remove("mobile-show"),u.OverlayClickable.classList.remove("mobile-show")})),O(this,"unFocusNavs",(function(){w(u.NavLinkButtons).forEach((function(e){e.parentNode.classList.remove("key-focus","clicked-hide")}))})),O(this,"closeSearch",(function(){u.hideClickableOverlay(),u.openReturnToProductModal(),"subNav"!==u.navType&&(u.SearchForm.style.left="100%",u.SearchResultsContainer.innerHTML="",u.SearchInput.value="",setTimeout((function(){u.SearchForm.classList.remove("active"),u.SearchForm.style.left="";var e=document.querySelector(".signin-prompt-dropdown-menu-wrapper");e&&e.classList.contains("hidden")&&e.classList.remove("hidden")}),250))})),O(this,"hideUserMenu",(function(){var e;u.hideClickableOverlay(),null===(e=u.AccountAvatar)||void 0===e||e.classList.remove("show-menu"),u.openReturnToProductModal()})),O(this,"showUserMenu",(function(){var e;u.showClickableOverlay(),null===(e=u.AccountAvatar)||void 0===e||e.classList.add("show-menu"),u.closeReturnToProductModal()})),O(this,"createEl",(function(e){var t=document.createElement(e.tag);return t.innerHTML=e.label,t.onclick=e.clicker,t.className=e.classes?e.classes:"",t})),O(this,"populateLoggedInUser",(function(){var e,t,n;null===(e=document.querySelector("#adg4-app-switcher"))||void 0===e||e.classList.add("loaded");var r=u.createEl({tag:"div",classes:"user-profile-info",label:"<span>".concat(u.userInfo.email,"</span>")});[u.createEl({tag:"button",label:u.labels["JoinSiteUserDropdown.switchAccount"],clicker:function(){u.onSwitchAccountClick()}}),u.createEl({tag:"button",label:u.labels["JoinSiteUserDropdown.profile"],clicker:function(){u.onManageProfileClick()}}),u.createEl({tag:"button",label:u.labels["JoinSiteUserDropdown.licenses"],clicker:function(){u.onManageLicensesClick()}}),u.createEl({tag:"button",label:u.labels["JoinSiteUserDropdown.logOut"],clicker:function(){u.onLogOutClick()}})].forEach((function(e){r.appendChild(e)}));var i=u.createEl({tag:"button",classes:"account",label:'<img src="'.concat(u.userInfo.avatar,'"><span id="account-login-fullname">').concat(u.userInfo.displayName.slice(0,15)).concat(u.userInfo.displayName.length>14?"...":"","</span>"),clicker:function(e){var t;e.stopPropagation(),null!==(t=u.AccountAvatar)&&void 0!==t&&t.classList.contains("show-menu")?u.hideUserMenu():u.showUserMenu()}});null===(t=u.AccountAvatar)||void 0===t||t.appendChild(i),null===(n=u.AccountAvatar)||void 0===n||n.appendChild(r),u.resizeMenus()})),O(this,"handelOffElementDropdownClickEvent",(function(e){var t;!e.target.closest(".user-profile-info")&&null!==(t=u.AccountAvatar)&&void 0!==t&&t.classList.contains("show-menu")})),O(this,"handelOffElementDropdownEscKeyEvent",(function(e){var t;"Escape"===e.key&&null!==(t=u.AccountAvatar)&&void 0!==t&&t.classList.contains("show-menu")&&u.hideUserMenu()})),O(this,"addAvatarOutsideClickEventListener",(function(){u.domRoot.addEventListener("mousedown",u.handelOffElementDropdownClickEvent),u.domRoot.addEventListener("keydown",u.handelOffElementDropdownEscKeyEvent,!1)})),O(this,"populateLoggedOutUser",(function(){var e=u.createEl({tag:"button",clicker:u.onLogInClick,label:u.labels["JoinSiteUserDropdown.logIn"]});u.AccountSignIn.appendChild(e),u.resizeMenus()})),O(this,"populateSearchResults",(function(){u.SearchResultsContainer.innerHTML="";var e=u.SearchHits,t=u.SearchQuery,n=e.filter((function(e){return e.hasOwnProperty("description")&&e.hasOwnProperty("url")})).slice(0,7),i=document.createElement("ul"),a=document.createDocumentFragment(),s=u.searchHelper.getIndex();t.length>0&&n.length>0?(n.forEach((function(e,n){var i=document.createElement("li"),o=document.createElement("a");o.href=e.url,o.onclick=function(){r.Z.trackEvent("bxp.globalnavdropdown.click.search-result");var t=n+1;!function(e,t,n,r){p()("clickedObjectIDsAfterSearch",{eventName:"Result Clicked (global nav)",objectIDs:[t],positions:[Number(n)],queryID:e,index:r})}(u.QueryId,e.objectID,t,s),(0,m.L9)("linkButton clicked",{eventComponent:"linkButton",action:"clicked",component:"searchResult",source:"globalNav",actionSubjectId:"globalNavSearchResults"})};var c,l,h=e.title,f=t.toLowerCase(),d=h.toLowerCase(),v=new RegExp("".concat(f,"(.*)"),"s"),g=(c=d.split(v),l=2,function(e){if(Array.isArray(e))return e}(c)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,s,o=[],c=!0,u=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=a.call(n)).done)&&(o.push(r.value),o.length!==t);c=!0);}catch(e){u=!0,i=e}finally{try{if(!c&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(u)throw i}}return o}}(c,l)||R(c,l)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()),y=g[0],b=g[1],w="".concat(h.slice(0,y.length),"<strong>").concat(d.includes(t)?t:"","</strong>").concat(h.slice(y.length+f.length,y.length+f.length+(b?b.length:h.length)));o.innerHTML=w,i.appendChild(o),a.appendChild(i)})),i.appendChild(a),u.SearchResultsContainer.appendChild(i)):t.length>0&&0==n.length?(i.innerHTML="No results found",i.appendChild(a),u.SearchResultsContainer.appendChild(i)):t.length<1&&(u.SearchResultsContainer.innerHTML="")})),O(this,"onSwitchAccountClick",(function(){r.Z.trackEvent("bxp.globalnavdropdown.click.switchAccount"),window.location.href=o.Z.getSwitchAccountURL()})),O(this,"onManageProfileClick",(function(){var e={label:u.labels["JoinSiteUserDropdown.profile"]};r.Z.trackEvent("bxp.globalnavdropdown.click.manage.profile",Object.assign(u.defaultTrackProperties,b(b({},e),u.origin.toAnalyticsAttributes({hasGeneratedId:!0})))),window.location.href=o.Z.getManageProfileUrl(u.userInfo.email)})),O(this,"onManageLicensesClick",(function(){var e={label:u.labels["JoinSiteUserDropdown.licenses"]};r.Z.trackEvent("bxp.globalnavdropdown.click.manage.licenses",Object.assign(u.defaultTrackProperties,b(b({},e),u.origin.toAnalyticsAttributes({hasGeneratedId:!0})))),window.location.href=o.Z.getMacUrl()})),O(this,"onLogOutClick",(function(){var e={label:u.labels["JoinSiteUserDropdown.logOut"]};r.Z.trackEvent("bxp.globalnavdropdown.click.logout",Object.assign(u.defaultTrackProperties,b(b({},e),u.origin.toAnalyticsAttributes({hasGeneratedId:!0})))),window.location.href=o.Z.getLogoutUrl()})),O(this,"onLogInClick",(function(){var e=o.Z.getIdentityBaseUrl(),t=o.Z.getAPIPrivateURL(),n=u.origin.addToUrl(t+"/start/authredirect"),i={label:u.labels["JoinSiteUserDropdown.logIn"]};r.Z.trackEvent("bxp.globalnavdropdown.click.login",Object.assign(u.defaultTrackProperties,b(b({},i),u.origin.toAnalyticsAttributes({hasGeneratedId:!0})))),window.location.href="".concat(e,"/login?continue=").concat(encodeURIComponent(n))})),O(this,"onJoinYourTeamClick",(function(){var e=o.Z.getIdentityBaseUrl(),t=o.Z.getAPIPrivateURL(),n=u.origin.addToUrl(t+"/start/authredirect"),i={label:u.labels["JoinSiteUserDropdown.joinTeam"]};r.Z.trackEvent("bxp.globalnavdropdown.click.join.team",Object.assign(u.defaultTrackProperties,b(b({},i),u.origin.toAnalyticsAttributes({hasGeneratedId:!0})))),window.location.href="".concat(e,"/login?continue=").concat(encodeURIComponent(n))})),O(this,"onCreateAcountClick",(function(){var e="".concat(o.Z.getIdentityBaseUrl(),"/signup?"),t=o.Z.getStartUrl(),n={label:u.labels["JoinSiteUserDropdown.createAccount"]};r.Z.trackEvent("bxp.globalnavdropdown.click.create.account",Object.assign(u.defaultTrackProperties,b(b({},n),u.origin.toAnalyticsAttributes({hasGeneratedId:!0})))),window.location.href=e+"&continue=".concat(encodeURIComponent(t))})),this.domRoot=t,this.params=b({},n),this.userInfo={},this.isLoading=!1,this.basePaths=new s.Z,this.origin=new i.Z({product:"wac-globaldropdown"}),this.labels=n.labels,this.navType=n.navType,this.ctaLabel=n.ctaLabel,this.defaultTrackProperties={},this.CloseAll=t.querySelector(".close-all"),this.AccountSignIn=t.querySelector(".adg4-nav-account-sign-in"),this.AccountAvatar=t.querySelector(".adg4-nav-account-logged-in"),this.AccountInfo=t.querySelector(".adg4-nav-account-info"),this.OutlineElement=t.querySelector(".outline-element"),this.OverlayColor=t.querySelector(".overlay-color"),this.OverlayClickable=t.querySelector(".overlay-clickable"),this.GenericNavLinks=t.querySelectorAll(".nav-link"),this.DropdownNavLinks=t.querySelectorAll(".nav-link.has-dropdown"),this.NavLinkButtons=t.querySelectorAll(".nav-link-button"),this.TabButtons=t.querySelectorAll(".tab-button"),this.DropdownContents=t.querySelectorAll(".dropdown-content"),this.MobileToggle=t.querySelector(".mobile-toggle"),this.NavContainingElement=t.querySelector(".nav-right-space"),this.MobileBackButtons=t.querySelectorAll(".mobile-back-button"),this.MenuMore=t.querySelector(".menu-more"),this.MenuLess=t.querySelector(".menu-less"),this.SearchOpen=t.querySelector(".search-open"),this.SearchClose=t.querySelector(".search-close"),this.SearchForm=t.querySelector(".search-form"),this.SearchResultsContainer=t.querySelector(".adg4-search-results"),this.SearchInput=t.querySelector(".adg4-search-input"),this.SearchInputSVG=t.querySelector(".input-container svg"),this.SearchHits=[],this.SearchQuery="",this.QueryId="",this.searchHelper=f()(_,T,{facetFilters:["locale:".concat(I)],facets:["category"],clickAnalytics:!0}),this.WindowWidth=0,this.WrappedElementIndex="",this.ButtonMenuMore=t.querySelector(".button-menu-more"),this.ButtonMenuLess=t.querySelector(".button-menu-less"),this.isShowCTADropdown="true"==n.isShowCTADropdown,this.isShowSalesLeadCTA="true"==n.isShowSalesLeadCTA,this.jiraProductMetaData=n.jiraProduct,this.jiraServiceManagementProductMetaData=n.jiraServiceManagementProduct,this.confluenceProductMetaData=n.confluenceProduct,this.jiraProductDiscoveryMetaData=n.jiraProductDiscovery,this.compassProductMetaData=n.compassProduct,this.defaultCtaTabletButton=t.querySelector(".cta-tablet#cta-tablet-default"),this.defaultCtaMobileButton=t.querySelector(".cta-mobile#cta-mobile-default"),this.defaultCtaDesktopButton=t.querySelector(".cta-desktop#cta-desktop-default"),this.cTADropdown=t.querySelector(".cta-desktop#cta-desktop-dropdown-button"),this.salesLeadCtaDesktop=t.querySelector(".cta-desktop#cta-desktop-sales-lead-button"),this.salesLeadCtaTablet=t.querySelector(".cta-tablet#cta-tablet-sales-lead-button"),this.salesLeadCtaMobile=t.querySelector(".cta-mobile#cta-mobile-sales-lead-button"),this.cTADropdownHoverContent=t.querySelector(".cta-dropdown-content#try-now-cta-link-desktop-dropdown"),this.dropdownContentLoader=t.querySelector(".dropdown-content-loader"),this.dropdownPanelContent=t.querySelector(".dropdown-content-panel"),this.isGupsCalled=!1,this.isHovered=!1,this.init()}var t,n,u,l,h,d;return t=e,n=[{key:"init",value:(d=j(x().mark((function e(){var t=this;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.bindEvents(),"subNav"!==this.navType&&"true"===c.Z.getCookie("login_user_detected")?this.getUser().then((function(e){t.isLoading=!1,t.userInfo=e,e.isLoggedIn&&t.userInfo.displayName.length?(r.Z.trackEvent("bxp.globalnavdropdown.user.loggedin"),t.populateLoggedInUser()):t.populateLoggedOutUser()})).catch((function(){r.Z.trackEvent("bxp.globalnavdropdown.user.getusererror")})):"subNav"!==this.navType&&(this.isLoading=!1,this.populateLoggedOutUser()),this.addAvatarOutsideClickEventListener(),e.next=5,this.onDisplayDropdownButton();case 5:return e.next=7,this.featureGateJiraTemplatesDxpMigration();case 7:return e.next=9,this.featureGateConfluenceTemplatesDxpMigration();case 9:case"end":return e.stop()}}),e,this)}))),function(){return d.apply(this,arguments)})},{key:"onGraphqlApiRequest",value:(h=j(x().mark((function e(t){return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch(C,{method:"POST",credentials:"include",headers:{"Content-type":"application/json"},body:JSON.stringify({query:t})}));case 1:case"end":return e.stop()}}),e)}))),function(e){return h.apply(this,arguments)})},{key:"sendTracking",value:function(e,t){var n={originUrl:window.location.href,linkText:t};r.Z.trackEvent(e,n)}},{key:"getUser",value:(l=j(x().mark((function e(){var t,n;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=window.location.search.includes("debug=true"),e.next=3,a.VR.getStargateProfile(!0,t,!0);case 3:return n=a.VR.getUserEmail()||"",e.abrupt("return",{sites:a.VR.getSites(),displayName:a.VR.getDisplayName(),avatar:a.VR.getAvatar(),email:n,isLoggedIn:a.VR.isLoggedIn()});case 5:case"end":return e.stop()}}),e)}))),function(){return l.apply(this,arguments)})},{key:"getAvailableProductsAndUserLoggedInStatus",value:(u=j(x().mark((function e(){var t;return x().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a.VR.retrieveAvailableProductsData(!1);case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)}))),function(){return u.apply(this,arguments)})}],n&&E(t.prototype,n),Object.defineProperty(t,"prototype",{writable:!1}),e}()},52511:function(e,t,n){var r;e=n.nmd(e),function(i){t&&t.nodeType,e&&e.nodeType;var a="object"==typeof n.g&&n.g;a.global!==a&&a.window!==a&&a.self;var s,o=2147483647,c=36,u=26,l=38,h=700,f=/^xn--/,d=/[^\x20-\x7E]/,p=/[\x2E\u3002\uFF0E\uFF61]/g,m={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},v=c-1,g=Math.floor,y=String.fromCharCode;function b(e){throw RangeError(m[e])}function w(e,t){for(var n=e.length,r=[];n--;)r[n]=t(e[n]);return r}function R(e,t){var n=e.split("@"),r="";return n.length>1&&(r=n[0]+"@",e=n[1]),r+w((e=e.replace(p,".")).split("."),t).join(".")}function P(e){for(var t,n,r=[],i=0,a=e.length;i<a;)(t=e.charCodeAt(i++))>=55296&&t<=56319&&i<a?56320==(64512&(n=e.charCodeAt(i++)))?r.push(((1023&t)<<10)+(1023&n)+65536):(r.push(t),i--):r.push(t);return r}function x(e){return w(e,(function(e){var t="";return e>65535&&(t+=y((e-=65536)>>>10&1023|55296),e=56320|1023&e),t+y(e)})).join("")}function k(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function j(e,t,n){var r=0;for(e=n?g(e/h):e>>1,e+=g(e/t);e>v*u>>1;r+=c)e=g(e/v);return g(r+(v+1)*e/(e+l))}function E(e){var t,n,r,i,a,s,l,h,f,d,p,m=[],v=e.length,y=0,w=128,R=72;for((n=e.lastIndexOf("-"))<0&&(n=0),r=0;r<n;++r)e.charCodeAt(r)>=128&&b("not-basic"),m.push(e.charCodeAt(r));for(i=n>0?n+1:0;i<v;){for(a=y,s=1,l=c;i>=v&&b("invalid-input"),((h=(p=e.charCodeAt(i++))-48<10?p-22:p-65<26?p-65:p-97<26?p-97:c)>=c||h>g((o-y)/s))&&b("overflow"),y+=h*s,!(h<(f=l<=R?1:l>=R+u?u:l-R));l+=c)s>g(o/(d=c-f))&&b("overflow"),s*=d;R=j(y-a,t=m.length+1,0==a),g(y/t)>o-w&&b("overflow"),w+=g(y/t),y%=t,m.splice(y++,0,w)}return x(m)}function O(e){var t,n,r,i,a,s,l,h,f,d,p,m,v,w,R,x=[];for(m=(e=P(e)).length,t=128,n=0,a=72,s=0;s<m;++s)(p=e[s])<128&&x.push(y(p));for(r=i=x.length,i&&x.push("-");r<m;){for(l=o,s=0;s<m;++s)(p=e[s])>=t&&p<l&&(l=p);for(l-t>g((o-n)/(v=r+1))&&b("overflow"),n+=(l-t)*v,t=l,s=0;s<m;++s)if((p=e[s])<t&&++n>o&&b("overflow"),p==t){for(h=n,f=c;!(h<(d=f<=a?1:f>=a+u?u:f-a));f+=c)R=h-d,w=c-d,x.push(y(k(d+R%w,0))),h=g(R/w);x.push(y(k(h,0))),a=j(n,v,r==i),n=0,++r}++n,++t}return x.join("")}s={version:"1.3.2",ucs2:{decode:P,encode:x},decode:E,encode:O,toASCII:function(e){return R(e,(function(e){return d.test(e)?"xn--"+O(e):e}))},toUnicode:function(e){return R(e,(function(e){return f.test(e)?E(e.slice(4).toLowerCase()):e}))}},void 0===(r=function(){return s}.call(t,n,t,e))||(e.exports=r)}()},8575:(e,t,n)=>{"use strict";var r=n(52511),i=n(62502);function a(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var s=/^([a-z0-9.+-]+:)/i,o=/:[0-9]*$/,c=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,u=["{","}","|","\\","^","`"].concat(["<",">",'"',"`"," ","\r","\n","\t"]),l=["'"].concat(u),h=["%","/","?",";","#"].concat(l),f=["/","?","#"],d=/^[+a-z0-9A-Z_-]{0,63}$/,p=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,m={javascript:!0,"javascript:":!0},v={javascript:!0,"javascript:":!0},g={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},y=n(17673);a.prototype.parse=function(e,t,n){if(!i.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var a=e.indexOf("?"),o=-1!==a&&a<e.indexOf("#")?"?":"#",u=e.split(o);u[0]=u[0].replace(/\\/g,"/");var b=e=u.join(o);if(b=b.trim(),!n&&1===e.split("#").length){var w=c.exec(b);if(w)return this.path=b,this.href=b,this.pathname=w[1],w[2]?(this.search=w[2],this.query=t?y.parse(this.search.substr(1)):this.search.substr(1)):t&&(this.search="",this.query={}),this}var R=s.exec(b);if(R){var P=(R=R[0]).toLowerCase();this.protocol=P,b=b.substr(R.length)}if(n||R||b.match(/^\/\/[^@\/]+@[^@\/]+/)){var x="//"===b.substr(0,2);!x||R&&v[R]||(b=b.substr(2),this.slashes=!0)}if(!v[R]&&(x||R&&!g[R])){for(var k,j,E=-1,O=0;O<f.length;O++)-1!==(S=b.indexOf(f[O]))&&(-1===E||S<E)&&(E=S);for(-1!==(j=-1===E?b.lastIndexOf("@"):b.lastIndexOf("@",E))&&(k=b.slice(0,j),b=b.slice(j+1),this.auth=decodeURIComponent(k)),E=-1,O=0;O<h.length;O++){var S;-1!==(S=b.indexOf(h[O]))&&(-1===E||S<E)&&(E=S)}-1===E&&(E=b.length),this.host=b.slice(0,E),b=b.slice(E),this.parseHost(),this.hostname=this.hostname||"";var A="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1];if(!A)for(var F=this.hostname.split(/\./),T=(O=0,F.length);O<T;O++){var _=F[O];if(_&&!_.match(d)){for(var I="",C=0,D=_.length;C<D;C++)_.charCodeAt(C)>127?I+="x":I+=_[C];if(!I.match(d)){var L=F.slice(0,O),N=F.slice(O+1),q=_.match(p);q&&(L.push(q[1]),N.unshift(q[2])),N.length&&(b="/"+N.join(".")+b),this.hostname=L.join(".");break}}}this.hostname.length>255?this.hostname="":this.hostname=this.hostname.toLowerCase(),A||(this.hostname=r.toASCII(this.hostname));var U=this.port?":"+this.port:"",H=this.hostname||"";this.host=H+U,this.href+=this.host,A&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==b[0]&&(b="/"+b))}if(!m[P])for(O=0,T=l.length;O<T;O++){var B=l[O];if(-1!==b.indexOf(B)){var M=encodeURIComponent(B);M===B&&(M=escape(B)),b=b.split(B).join(M)}}var Q=b.indexOf("#");-1!==Q&&(this.hash=b.substr(Q),b=b.slice(0,Q));var V=b.indexOf("?");if(-1!==V?(this.search=b.substr(V),this.query=b.substr(V+1),t&&(this.query=y.parse(this.query)),b=b.slice(0,V)):t&&(this.search="",this.query={}),b&&(this.pathname=b),g[P]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){U=this.pathname||"";var G=this.search||"";this.path=U+G}return this.href=this.format(),this},a.prototype.format=function(){var e=this.auth||"";e&&(e=(e=encodeURIComponent(e)).replace(/%3A/i,":"),e+="@");var t=this.protocol||"",n=this.pathname||"",r=this.hash||"",a=!1,s="";this.host?a=e+this.host:this.hostname&&(a=e+(-1===this.hostname.indexOf(":")?this.hostname:"["+this.hostname+"]"),this.port&&(a+=":"+this.port)),this.query&&i.isObject(this.query)&&Object.keys(this.query).length&&(s=y.stringify(this.query));var o=this.search||s&&"?"+s||"";return t&&":"!==t.substr(-1)&&(t+=":"),this.slashes||(!t||g[t])&&!1!==a?(a="//"+(a||""),n&&"/"!==n.charAt(0)&&(n="/"+n)):a||(a=""),r&&"#"!==r.charAt(0)&&(r="#"+r),o&&"?"!==o.charAt(0)&&(o="?"+o),t+a+(n=n.replace(/[?#]/g,(function(e){return encodeURIComponent(e)})))+(o=o.replace("#","%23"))+r},a.prototype.resolve=function(e){return this.resolveObject(function(e,t,n){if(e&&i.isObject(e)&&e instanceof a)return e;var r=new a;return r.parse(e,t,n),r}(e,!1,!0)).format()},a.prototype.resolveObject=function(e){if(i.isString(e)){var t=new a;t.parse(e,!1,!0),e=t}for(var n=new a,r=Object.keys(this),s=0;s<r.length;s++){var o=r[s];n[o]=this[o]}if(n.hash=e.hash,""===e.href)return n.href=n.format(),n;if(e.slashes&&!e.protocol){for(var c=Object.keys(e),u=0;u<c.length;u++){var l=c[u];"protocol"!==l&&(n[l]=e[l])}return g[n.protocol]&&n.hostname&&!n.pathname&&(n.path=n.pathname="/"),n.href=n.format(),n}if(e.protocol&&e.protocol!==n.protocol){if(!g[e.protocol]){for(var h=Object.keys(e),f=0;f<h.length;f++){var d=h[f];n[d]=e[d]}return n.href=n.format(),n}if(n.protocol=e.protocol,e.host||v[e.protocol])n.pathname=e.pathname;else{for(var p=(e.pathname||"").split("/");p.length&&!(e.host=p.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==p[0]&&p.unshift(""),p.length<2&&p.unshift(""),n.pathname=p.join("/")}if(n.search=e.search,n.query=e.query,n.host=e.host||"",n.auth=e.auth,n.hostname=e.hostname||e.host,n.port=e.port,n.pathname||n.search){var m=n.pathname||"",y=n.search||"";n.path=m+y}return n.slashes=n.slashes||e.slashes,n.href=n.format(),n}var b=n.pathname&&"/"===n.pathname.charAt(0),w=e.host||e.pathname&&"/"===e.pathname.charAt(0),R=w||b||n.host&&e.pathname,P=R,x=n.pathname&&n.pathname.split("/")||[],k=(p=e.pathname&&e.pathname.split("/")||[],n.protocol&&!g[n.protocol]);if(k&&(n.hostname="",n.port=null,n.host&&(""===x[0]?x[0]=n.host:x.unshift(n.host)),n.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===p[0]?p[0]=e.host:p.unshift(e.host)),e.host=null),R=R&&(""===p[0]||""===x[0])),w)n.host=e.host||""===e.host?e.host:n.host,n.hostname=e.hostname||""===e.hostname?e.hostname:n.hostname,n.search=e.search,n.query=e.query,x=p;else if(p.length)x||(x=[]),x.pop(),x=x.concat(p),n.search=e.search,n.query=e.query;else if(!i.isNullOrUndefined(e.search))return k&&(n.hostname=n.host=x.shift(),(A=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=A.shift(),n.host=n.hostname=A.shift())),n.search=e.search,n.query=e.query,i.isNull(n.pathname)&&i.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.href=n.format(),n;if(!x.length)return n.pathname=null,n.search?n.path="/"+n.search:n.path=null,n.href=n.format(),n;for(var j=x.slice(-1)[0],E=(n.host||e.host||x.length>1)&&("."===j||".."===j)||""===j,O=0,S=x.length;S>=0;S--)"."===(j=x[S])?x.splice(S,1):".."===j?(x.splice(S,1),O++):O&&(x.splice(S,1),O--);if(!R&&!P)for(;O--;O)x.unshift("..");!R||""===x[0]||x[0]&&"/"===x[0].charAt(0)||x.unshift(""),E&&"/"!==x.join("/").substr(-1)&&x.push("");var A,F=""===x[0]||x[0]&&"/"===x[0].charAt(0);return k&&(n.hostname=n.host=F?"":x.length?x.shift():"",(A=!!(n.host&&n.host.indexOf("@")>0)&&n.host.split("@"))&&(n.auth=A.shift(),n.host=n.hostname=A.shift())),(R=R||n.host&&x.length)&&!F&&x.unshift(""),x.length?n.pathname=x.join("/"):(n.pathname=null,n.path=null),i.isNull(n.pathname)&&i.isNull(n.search)||(n.path=(n.pathname?n.pathname:"")+(n.search?n.search:"")),n.auth=e.auth||n.auth,n.slashes=n.slashes||e.slashes,n.href=n.format(),n},a.prototype.parseHost=function(){var e=this.host,t=o.exec(e);t&&(":"!==(t=t[0])&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},62502:e=>{"use strict";e.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return null==e}}},45327:e=>{for(var t=[],n=0;n<256;++n)t[n]=(n+256).toString(16).substr(1);e.exports=function(e,n){var r=n||0,i=t;return[i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]]].join("")}},85217:e=>{var t="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(t){var n=new Uint8Array(16);e.exports=function(){return t(n),n}}else{var r=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),r[t]=e>>>((3&t)<<3)&255;return r}}},71171:(e,t,n)=>{var r=n(85217),i=n(45327);e.exports=function(e,t,n){var a=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var s=(e=e||{}).random||(e.rng||r)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,t)for(var o=0;o<16;++o)t[a+o]=s[o];return t||i(s)}}}]);
//# sourceMappingURL=/static/master/10080/assets/build/js/chunks/f6103303280158.js.map